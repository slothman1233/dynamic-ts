!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function g(e){return!!e&&"object"==typeof e}function s(e){return g(e)&&"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object}var e=function(e){return g(e)?Object.keys(e):[]};function l(t,i){e(t).forEach(function(e){return i(t[e],e)})}function m(e){try{var t,i=Object.prototype.toString.call(e);if("[object Object]"==i)try{e.constructor&&(i=-1!=(t=e.constructor.toString()).indexOf("Array")?"[object Array]":-1!=t.indexOf("HTMLCollection")?"[object NodeList]":-1!=t.indexOf("function")&&-1!=t.indexOf("Object()")?"[object Object]":t)}catch(e){return"[object Null]"}else"[object HTMLCollection]"==i&&(i="[object NodeList]");return i}catch(e){return"variable is not defined."}}function n(t){var i=null;try{i=Array.prototype.slice.call(t,0)}catch(e){i=new Array;for(var o=0,r=t.length;o<r;o++)i.push(t[o])}return i}var p=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):(e["e"+t+i]=i,e[t+i]=function(){e["e"+t+i](window.event)},e.attachEvent("on"+t,e[t+i]))};var r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function d(e,t){if(!e||!t)return"";var i,o;if("function"==typeof r.getComputedStyle)return(o=r.getComputedStyle(e))?o[t]:"";"opacity"===t&&(o=e.currentStyle.filter,o=(i=/^alpha\(opacity=(\d+(?:\.\d+)?)\)$/i).test(o)?i.exec(o)[1]/100:1);return(o=e.currentStyle[t])?/^(-?\d+(\.\d+)?)(px|pt|rem|em)?$/i.test(o)?parseFloat(o):o:""}var t=(i.prototype.listen=function(e,t){this.clientList[e]||(this.clientList[e]=new Array),this.clientList[e].push(t)},i.prototype.trigger=function(e){for(var t=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.clientList[e]&&0!==this.clientList[e].length&&this.clientList[e].forEach(function(e){e.apply(t,i)})},i.prototype.remove=function(e,t){if(this.clientList[e])if(t)for(var i=this.clientList[e].length-1;0<=i;i--)this.clientList[e][i]==t&&this.clientList[e].splice(i,1);else this.clientList[e].length=0},i);function i(){this.clientList={}}function o(){return new t}var c=o();function a(e,t){/\[object HTML.*Element\]/.test(e)&&(e=[e]);for(var i=0;i<e.length;i++)t(i)}function y(e){var t,i,o,r;e.fn&&(t=u(e.agent),i=u(e.ele),e.agent?(t&&/\[object HTML.*Element\]/.test(t)&&(t=[t]),r=e,a(t,function(e){p(t[e],r.events,function(e){for(var t=e||c,i=v(t),o=0;o<i.length;o++){if(i[o]===this)return;if("#document"===i[o].nodeName)return;0<=n(this.querySelectorAll(r.ele)).indexOf(i[o])&&r.fn(i[o],t)}})})):(/\[object HTML.*Element\]/.test(i)&&(i=[i]),o=e,a(i,function(e){p(i[e],o.events,function(e){var t=e||c,i=v(t);o.fn(i,t)})})))}function v(e){var t=e||c;if(t.path||t.composedPath)return t.path||t.composedPath&&t.composedPath();for(var i=[],o=t.target||t.srcElement;o;)i.push(o),o=o.parentElement;return i}function u(e){return!e||e.length<=0?"":/\[object HTML.*Element\]/.test(Object.prototype.toString.call(e))?e:(o=e,"[object String]"!==Object.prototype.toString.call(o)?e:"window"===e?window:"document"===e?document:(0<=e.indexOf("[")&&0<e.indexOf("]")&&(null!==(t=function(e){"["===e.charAt(0)&&e.indexOf("]")===e.length-1&&(e=e.slice(1,-1));var t=e.split("=");return 2===t.length?"'"!==t[1].charAt(0)&&'"'!==t[1].charAt(0)||(t[1]=t[1].slice(1,-1)):t.push(null),t}(e.slice(e.indexOf("["))))[1]&&(i="'"+t[1]+"'",e=e.slice(0,e.indexOf("["))+"["+t[0]+"="+i+"]")),document.querySelectorAll(e)));var t,i,o}var h={index:{error:"已经存在改方法名称"},httprequest:{timeOut:"请求超时",noAuthority:"没有权限",parameterError:"参数有误"},dom:{throwWhitespace:"类具有非法空格字符",notElement:"不是元素"},select:{prompt:"请选择"},proportion:{noImg:"imageUrl参数不正确",noParentEle:"容器元素不正确"}};function w(e){void 0===e&&(e="div");for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(0===t.length){var o=document.createElement("div");return o.innerHTML=e,o.firstElementChild}var r,n=t[0]||{},s=t[1]||{},l=t[2],m=document.createElement(e);return Object.getOwnPropertyNames(n).forEach(function(e){var t,i,o=n[e];"textContent"===e?(i=o,void 0===(t=m).textContent?t.innerText=i:t.textContent=i):m[e]=o}),Object.getOwnPropertyNames(s).forEach(function(e){m.setAttribute(e,s[e])}),l&&(r=m,function(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),(i=e)&&g(i)&&1===i.nodeType||g(t=e)&&3===t.nodeType?e:"string"==typeof e&&/\S/.test(e)?document.createTextNode(e):void 0;var t,i}).filter(function(e){return e})}(l).forEach(function(e){return r.appendChild(e)})),m}function f(e){var t=e,i=m(e);switch(i){case"[object String]":case"[object NodeList]":case"[object Array]":for(var o=0;o<t.length;o++)"none"===d(t[o],"display")&&(t[o].style.display="block");break;default:if(!/\[object HTML.*Element\]/.test(i))throw new Error(""+h.dom.notElement);"none"===d(e,"display")&&(e.style.display="block")}return e}function x(e){var t=e,i=m(e);switch(i){case"[object String]":case"[object NodeList]":case"[object Array]":for(var o=0;o<t.length;o++)"none"!==d(t[o],"display")&&(t[o].style.display="none");break;default:if(!/\[object HTML.*Element\]/.test(i))throw new Error(""+h.dom.notElement);"none"!==d(e,"display")&&(e.style.display="none")}return e}var I="prevClick",L="nextClick",b="closeClick",$="imgResize",B="sImgResize",P="imgZoomFn",T="mouseDown",D="videoResize",S=window.onresize,k={sinpleImgPreviewKey:!0,imgPreviewKey:!0,videoPreviewKey:!0,SImgPreviewBoxBg:"sImgViewerBoxBg",SImgPreviewBox:"sImgViewerBox",SImgPreviewClose:"sImgViewerClose",SImgPreviewPrev:"sImgViewerPrev",SImgPreviewNext:"sImgViewerNext",SImgPreviewTitle:"sImgViewerTitleCont",SImgPreviewId:"sFullResImgViewer",SImgPreviewTitleBtn:"sImgTitleBtn",imgPreviewBoxBg:"imgViewerBoxBg",imgPreviewBox:"imgViewerBox",imgPreviewId:"fullResImgViewer",imgPreviewClose:"imgViewerClose",imgPreviewPrev:"imgViewerPrev",imgPreviewNext:"imgViewerNext",imgPreviewBig:"imgViewerBig",imgPreviewSmall:"imgViewerSmall",imgPreviewTitle:"imgViewerTitleCont",imgPreviewTitleBtn:"imgTitleBtn",videoPreviewBoxBg:"videoViewerBoxBg",videoPreviewBox:"videoViewerBox",videoPreviewClose:"videoViewerClose",imgPreviewWidth:window.innerWidth,imgPreviewHeight:window.innerHeight,previewEvents:o()};function E(e,t,i){var o=null,r=null,n=t?'<div id="'+("simg"===e?"sImgTitleBtn":"imgTitleBtn")+'" \n                                data-type="1" style="height:52px;position:absolute;margin:0;cursor:pointer;line-height:70px;padding:0 10px;z-index:2;">\n                                <img style="width:30px;transform:rotate(180deg);-ms-transform:rotate(180deg);-moz-transform:rotate(180deg);-webkit-transform:rotate(180deg);-o-transform:rotate(180deg)" src="https://imgs.wbp5.com/api/secrecymaster/html_up/2018/10/20181029154606401.png"/>\n                            </div>':"";"simg"===e&&k.sinpleImgPreviewKey?(o=w("div",{id:"sImgViewerBox",innerHTML:'<div id="sImgViewerList">\n                            <div>\n                                <div id="sImgViewerClose">close</div>\n                                <img id="sFullResImgViewer" src="" style="display:none;" />\n                                <div id="sImgViewerTitleCont"></div>\n                                '+n+'\n                            </div>\n                            <div id="sImgTitleContBg" style="display:none"></div>\n                        </div>\n                        <div id="sImgViewerPrev" style="display:none;position:fixed;width:10%;height:100%;cursor:pointer;">prev</div>\n                        <div id="sImgViewerNext" style="display:none;position:fixed;width:10%;height:100%;cursor:pointer;">next</div>'}),r=w("div",{id:"sImgViewerBoxBg"}),o.style.fontSize="14px",o.style.display="none",r.style.display="none",function(e,t,i){document.body.appendChild(e),document.body.appendChild(t),k.sinpleImgPreviewKey=!1;var o=document.body.querySelector("#"+k.SImgPreviewBoxBg),r=document.body.querySelector("#"+k.SImgPreviewBox),n=document.body.querySelector("#"+k.SImgPreviewClose),s=document.body.querySelector("#"+k.SImgPreviewPrev),l=document.body.querySelector("#"+k.SImgPreviewNext);{var m,g;N(o,r),p(s,"click",function(){k.previewEvents.trigger("prevClick")}),p(l,"click",function(){k.previewEvents.trigger("nextClick")}),p(n,"click",function(){k.previewEvents.trigger("closeClick")}),i&&(m=document.body.querySelector("#"+k.SImgPreviewTitle),g=document.body.querySelector("#"+k.SImgPreviewTitleBtn),p(g,"click",function(){var e,t,i,o;"none"===m.style.display?(t=(e=document.body.querySelector("#"+k.SImgPreviewId)).naturalHeight?e.naturalHeight:e.height,i=parseFloat(e.style.top),f(m),o=m.naturalHeight?m.naturalHeight:m.height,m.style.top=i+t-o+"px",this.style.background="none",this.children[0].style.transform="rotate(180deg)",this.children[0].style.msTransform="rotate(180deg)",this.children[0].style.mozTransform="rotate(180deg)",this.children[0].style.webkitTransform="rotate(180deg)",this.children[0].style.oTransform="rotate(180deg)"):(x(m),this.style.background="rgba(0,0,0,0.5)",this.children[0].style.transform="rotate(0)",this.children[0].style.msTransform="rotate(0)",this.children[0].style.mozTransform="rotate(0)",this.children[0].style.webkitTransform="rotate(0)",this.children[0].style.oTransform="rotate(0)")}))}}(o,r,t)):"img"===e&&k.imgPreviewKey?(o=w("div",{id:"imgViewerBox",innerHTML:'<div id="imgViewerList">\n                            <div>\n                                <div id="imgViewerClose">close</div>\n                                <div id="imgViewerBig"></div>\n                                <div id="imgViewerSmall"></div>\n                                <img id="fullResImgViewer" src="" style="display:none;" />\n                                <div id="imgViewerTitleCont"></div>\n                                '+n+'\n                            </div>\n                            <div id="imgViewerTitleContBg" style="display:none"></div>\n                        </div>\n                        <div id="imgViewerPrev" style="display:none;position:fixed;width:10%;height:100%;cursor:pointer;">prev</div>\n                        <div id="imgViewerNext" style="display:none;position:fixed;width:10%;height:100%;cursor:pointer;">next</div>'}),r=w("div",{id:"imgViewerBoxBg"}),o.style.fontSize="14px",o.style.display="none",r.style.display="none",function(e,t,i){document.body.appendChild(e),document.body.appendChild(t),k.imgPreviewKey=!1;var o=document.body.querySelector("#"+k.imgPreviewBoxBg),r=document.body.querySelector("#"+k.imgPreviewBox),n=document.body.querySelector("#"+k.imgPreviewClose),s=document.body.querySelector("#"+k.imgPreviewPrev),l=document.body.querySelector("#"+k.imgPreviewNext),m=document.body.querySelector("#"+k.imgPreviewBig),g=document.body.querySelector("#"+k.imgPreviewSmall),d=document.body.querySelector("#"+k.imgPreviewId);{var c,a;N(o,r),p(s,"click",function(){k.previewEvents.trigger("prevClick")}),p(l,"click",function(){k.previewEvents.trigger("nextClick")}),p(n,"click",function(){k.previewEvents.trigger("closeClick")}),p(m,"click",function(e){k.previewEvents.trigger("imgZoomFn",e,1)}),p(g,"click",function(e){k.previewEvents.trigger("imgZoomFn",e,-1)}),p(d,"mousewheel",function(e){k.previewEvents.trigger("imgZoomFn",e)}),p(d,"DOMMouseScroll",function(e){k.previewEvents.trigger("imgZoomFn",e)}),p(d,"mousedown",function(e){k.previewEvents.trigger("mouseDown",e)}),i&&(c=document.body.querySelector("#"+k.imgPreviewTitle),a=document.body.querySelector("#"+k.imgPreviewTitleBtn),p(a,"click",function(){var e,t,i,o;"none"===c.style.display?(t=(e=document.body.querySelector("#"+k.imgPreviewId)).naturalHeight?e.naturalHeight:e.height,i=parseFloat(e.style.top),f(c),o=c.clientHeight,c.style.top=i+t-o+"px",this.style.background="none",this.children[0].style.transform="rotate(180deg)",this.children[0].style.msTransform="rotate(180deg)",this.children[0].style.mozTransform="rotate(180deg)",this.children[0].style.webkitTransform="rotate(180deg)",this.children[0].style.oTransform="rotate(180deg)"):(x(c),this.style.background="rgba(0,0,0,0.5)",this.children[0].style.transform="rotate(0)",this.children[0].style.msTransform="rotate(0)",this.children[0].style.mozTransform="rotate(0)",this.children[0].style.webkitTransform="rotate(0)",this.children[0].style.oTransform="rotate(0)")}))}}(o,r,t)):"video"===e&&k.videoPreviewKey&&(o=w("div",{id:"videoViewerBox",innerHTML:'<div id="videoViewerClose" style="position:absolute;top:-25px;right:-25px;cursor:pointer;border-radius:50%;background:rgba(0,0,0,0.5);">'+(i?'<img style="width:30px;display:block;" src="'+i+'" />':"close")+"</div>"}),r=w("div",{id:"videoViewerBoxBg"}),o.style.display="none",r.style.display="none",function(e,t){document.body.appendChild(e),document.body.appendChild(t);var i=document.body.querySelector("#"+k.videoPreviewBoxBg),o=document.body.querySelector("#"+k.videoPreviewBox),r=document.body.querySelector("#"+k.videoPreviewClose);(function(e,t){t.style.position="fixed",t.style.left="50%",t.style.top="50%",t.style.transform="translate(-50%,-50%)",t.style.msTransform="translate(-50%,-50%)",t.style.oTransform="translate(-50%,-50%)",t.style.webkitTransform="translate(-50%,-50%)",t.style.mozTransform="translate(-50%,-50%)",t.style.zIndex="20160901",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="#000",e.style.opacity="0",e.style.zIndex="20160900",e.style.overflow="hidden"})(i,o),p(r,"click",function(){var e,t=o.querySelector("video");(e=t).removeNode?e.removeNode(!0):e.remove(),x(i),x(o)})}(o,r))}var C=(H.prototype.init=function(){switch(this.settings.key){case"video":this.videoInit();break;case"simg":this.sImgInit();break;case"img":this.imgInit()}},H.prototype.getSImgDomList=function(){this.domList={$imgID:document.body.querySelector("#"+k.SImgPreviewId),$imgIDTitle:document.body.querySelector("#"+k.SImgPreviewTitle),$imgPrev:document.body.querySelector("#"+k.SImgPreviewPrev),$imgNext:document.body.querySelector("#"+k.SImgPreviewNext),$imgIDClose:document.body.querySelector("#"+k.SImgPreviewClose),$imgBoxBg:document.body.querySelector("#"+k.SImgPreviewBoxBg),$imgBox:document.body.querySelector("#"+k.SImgPreviewBox),$titleBtn:document.body.querySelector("#"+k.SImgPreviewTitleBtn)}},H.prototype.getImgDomList=function(){this.domList={$imgID:document.body.querySelector("#"+k.imgPreviewId),$imgIDTitle:document.body.querySelector("#"+k.imgPreviewTitle),$imgPrev:document.body.querySelector("#"+k.imgPreviewPrev),$imgNext:document.body.querySelector("#"+k.imgPreviewNext),$imgIDClose:document.body.querySelector("#"+k.imgPreviewClose),$imgBoxBg:document.body.querySelector("#"+k.imgPreviewBoxBg),$imgBox:document.body.querySelector("#"+k.imgPreviewBox),$bigBox:document.body.querySelector("#"+k.imgPreviewBig),$smallBox:document.body.querySelector("#"+k.imgPreviewSmall),$titleBtn:document.body.querySelector("#"+k.imgPreviewTitleBtn)}},H.prototype.getVideoDomList=function(){this.domList={$videoIDClose:document.body.querySelector("#"+k.videoPreviewClose),$videoBoxBg:document.body.querySelector("#"+k.videoPreviewBoxBg),$videoBox:document.body.querySelector("#"+k.videoPreviewBox)}},H.prototype.sImgInit=function(){var o=this;o.getSImgDomList(),y({agent:o.parentEle,events:"click",ele:"[data-viewer]",fn:function(e,t){var i=!0;o.settings.clickCallback&&(i=o.settings.clickCallback.call(o,e,t)),i&&(k.previewEvents.remove(I),k.previewEvents.remove(L),k.previewEvents.remove(b),k.previewEvents.remove(B),k.previewEvents.listen(I,function(){o.prevClick.call(o)}),k.previewEvents.listen(L,function(){o.nextClick.call(o)}),k.previewEvents.listen(b,function(){o.closeClick.call(o)}),k.previewEvents.listen(B,function(){o.onresize.call(o)}),o.getImgFn(e,t))}})},H.prototype.imgInit=function(){var o=this;o.getImgDomList(),y({agent:o.parentEle,events:"click",ele:"[data-viewer]",fn:function(e,t){var i=!0;o.settings.clickCallback&&(i=o.settings.clickCallback.call(o,e,t)),i&&(k.previewEvents.remove(I),k.previewEvents.remove(L),k.previewEvents.remove(b),k.previewEvents.remove($),k.previewEvents.remove(P),k.previewEvents.remove(P),k.previewEvents.remove(T),k.previewEvents.listen(I,function(){o.prevClick.call(o)}),k.previewEvents.listen(L,function(){o.nextClick.call(o)}),k.previewEvents.listen(b,function(){o.closeClick.call(o)}),k.previewEvents.listen($,function(){o.onresize.call(o)}),k.previewEvents.listen(P,function(e,t){o.imgZoomFn.call(o,e,t)}),k.previewEvents.listen(T,function(e){o.mouseDown.call(o,e)}),o.getImgFn(e,t))}})},H.prototype.videoInit=function(){var l=this;l.getVideoDomList(),y({events:"click",ele:l.parentEle,fn:function(e,t){var i=!0;if(l.settings.clickCallback&&(i=l.settings.clickCallback.call(l,e,t)),i){k.previewEvents.remove(D),k.previewEvents.listen(D,function(){l.videoResize.call(l)});var o,r=null;if(t.target.getAttribute("data-viewer"))r=t.target.getAttribute("data-viewer");else for(var n=function(e,t){var i=e,o=[],r=m(e);switch(r){case"[object String]":i=document.querySelector(e);break;case"[object NodeList]":i=e[0];break;default:if(!/\[object HTML.*Element\]/.test(r))throw new Error(""+h.dom.notElement);i=e}for(var n=i.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==i&&(t&&t(n),o.push(n));return o}(t.target),s=0;s<n.length;s++)n[s].getAttribute("data-viewer")&&(r=n[s].getAttribute("data-viewer"));r&&((o=w("video",{})).src=r,o.loop="loop",o.autoplay="autoplay",o.controls="controls",o.style.display="block",o.style.width="100%",l.domList.$videoBox.style.width=l.settings.videoWidth+"px",l.domList.$videoBox.appendChild(o),f(l.domList.$videoBox),f(l.domList.$videoBoxBg))}}})},H.prototype.getImgFn=function(e,t){var i=this;i._allIndex=i.settings.parentEle.querySelectorAll("img[data-viewer]").length;var o=t||event,r=o.target||o.srcElement;if(!r.getAttribute("data-viewer")&&r.querySelectorAll("[data-viewer]").length<=0)return!1;if(o&&o.preventDefault?t.preventDefault():window.event.returnValue=!1,"INPUT"===r.nodeName)return!1;var n=r.getAttribute("href")||r.getAttribute("data-viewer")||r.getAttribute("src");i.index=function(e){if("HTML"===e.nodeName||"BODY"===e.nodeName)return 0;for(var t=e.parentElement,i=t.children,o=0;o<t.childElementCount;o++)if(i[o]===e)return o;return 0}(r),k.imgPreviewWidth=i.$win.innerWidth,k.imgPreviewHeight=i.$win.innerHeight,i.getImgOrTitle(),i.index=i.ImgIndex[r.getAttribute("data-imgindex")],i.imgClick(n)},H.prototype.getImgOrTitle=function(){var d=this,c=0;d.imgUrlArray=[],d.imgTitleArray=[],d.ImgIndex={},l(n(d.parentEle.querySelectorAll("img")),function(e,t){var i,o,r,n,s,l,m,g;e.getAttribute("data-viewer")&&(o=[],r=(i=e).getAttribute("title")||"",n=parseInt(t)+1,s=r?' <p style="margin: 5px;"><span style="word-break:break-all">'+r+"</span></p>":"",l=r?"position:absolute;margin:0;top:0;left:0":"margin:5px auto;text-align:center;",m='<div style="position:relative;'+(d.settings.titleUp&&r?"padding:0 40px 0 70px;":r?"padding-left:70px;":d.settings.titleUp?"padding-right:40px":"")+'">\n                                <p style="'+l+'">\n                                    <span style="color: red; font-size: 28px; font-style: italic;">'+n+'</span>\n                                    <em style="font-style: italic; margin-left: 3px; margin-right: 1px; font-size: 24px;">|</em>\n                                    <span style="position:relative;top:5px;font-style: italic;">'+d._allIndex+"</span>\n                                </p>\n                                "+s+"\n                            </div>",g=i.getAttribute("data-viewer")||i.getAttribute("src"),i.setAttribute("data-imgindex",t),o[t]=new Image,o[t].src=g,d.ImgIndex[t]=c,c++,d.imgUrlArray.push(g),d.imgTitleArray.push(m))})},H.prototype.imgClick=function(e){var t=this,i=t.domList.$imgID;setTimeout(function(){i.setAttribute("src",e)},200),i.onload=function(){switch((t.settings.IsBox?f:x)(t.domList.$imgBoxBg),t.settings.key){case"simg":t.sImgResize(e),i.onclick=function(){t.closeClick.call(t)},i.onmouseover=function(){f(t.domList.$imgIDClose)};break;case"img":t.imgResize(e)}}},H.prototype.videoResize=function(){this.domList.$videoBox.style.maxWidth=.8*k.imgPreviewWidth+"px";var e=this.domList.$videoBox.getElementsByTagName("video")[0];e.style.maxWidth=.8*k.imgPreviewWidth+"px",e.style.maxHeight=.8*k.imgPreviewHeight+"px"},H.prototype.sImgResize=function(e){var t=this,i=t.getImageSize(e),o=i.h>=k.imgPreviewHeight?5:t.getTop(i.h),r=k.imgPreviewWidth-100<=i.w?k.imgPreviewWidth-100:i.w,n=r>=k.imgPreviewWidth?100:t.getLeft(r);t.domList.$imgID.style.maxWidth=i.w+"px",t.domList.$imgID.style.maxHeight=i.h+"px",t.domList.$imgID.style.position="absolute",t.domList.$imgID.style.top=o+"px",t.domList.$imgID.style.left=n+"px",t.domList.$imgID.style.cursor="zoom-out",t.domList.$imgID.style.cursor="-webkit-zoom-out",t.domList.$imgID.style.display="block",t.domList.$imgID.style.margin="auto",t.domList.$imgIDClose.style.width="20px",t.domList.$imgIDClose.style.height="20px",t.domList.$imgIDClose.style.position="absolute",t.domList.$imgIDClose.style.top=o-10+"px",t.domList.$imgIDClose.style.left=n+r-10+"px",t.domList.$imgIDClose.style.zIndex="20181115",t.domList.$imgIDClose.style.cursor="pointer",t.domList.$imgIDClose.style.display="none",t.domList.$imgIDClose.innerHTML=t.settings.closeBgImg?'<img width="20" src="'+t.settings.closeBgImg+'" />':"close",t.domList.$imgIDTitle.style.position="absolute",t.domList.$imgIDTitle.style.color="#fff",t.domList.$imgIDTitle.style.textAlign="left",t.domList.$imgIDTitle.style.padding="10px",t.domList.$imgIDTitle.style.boxSizing="border-box",t.domList.$imgIDTitle.style.webkitBoxSizing="border-box",t.domList.$imgIDTitle.style.overflow="hidden",t.domList.$imgIDTitle.style.lineHeight="22px",t.domList.$imgIDTitle.style.background="rgba(0,0,0,0.5)",t.domList.$imgIDTitle.style.fontSize="14px",t.domList.$imgIDTitle.innerHTML=t.imgTitleArray[t.index]||"",2===t.settings.titlePosition?(t.domList.$imgIDTitle.style.width="100%",t.domList.$imgIDTitle.style.bottom="0px",t.domList.$imgIDTitle.style.left="0",t.domList.$imgIDTitle.style.right="0"):(t.domList.$imgIDTitle.style.width=i.w+"px",t.domList.$imgIDTitle.style.left=n+"px"),t.domList.$imgPrev.style.top="0",t.domList.$imgPrev.style.left="0",t.domList.$imgPrev.innerHTML=t.settings.prevBgImg?'<div style="text-align: center; margin-top:'+(k.imgPreviewHeight-60)/2+'px ;"> <img width="20" height="60" src="'+t.settings.prevBgImg+'"> </div>':"prev",t.domList.$imgNext.style.top="0",t.domList.$imgNext.style.right="0",t.domList.$imgNext.innerHTML=t.settings.nextBgImg?'<div style="text-align: center; margin-top:'+(k.imgPreviewHeight-60)/2+'px ;"> <img width="20" height="60" src="'+t.settings.nextBgImg+'"> </div>':"prev";try{t.settings.isPaging?(f(t.domList.$imgPrev),f(t.domList.$imgNext),f(t.domList.$imgIDTitle.firstElementChild)):(x(t.domList.$imgPrev),x(t.domList.$imgNext),x(t.domList.$imgIDTitle.firstElementChild))}catch(e){}t.settings.isBox&&f(t.domList.$imgBoxBg),f(t.domList.$imgBox),t.TitleHeight=t.domList.$imgIDTitle.offsetHeight?t.domList.$imgIDTitle.offsetHeight:t.TitleHeight,1===t.settings.titlePosition&&(t.domList.$imgIDTitle.style.top=o+i.h-t.TitleHeight+"px"),t.settings.titleUp&&1===t.settings.titlePosition?(t.domList.$titleBtn.style.left=n+i.w-50+"px",t.domList.$titleBtn.style.top=o+i.h-t.TitleHeight+"px"):t.settings.titleUp&&2===t.settings.titlePosition&&(t.domList.$titleBtn.style.right="0px",t.domList.$titleBtn.style.bottom=t.TitleHeight-52+"px")},H.prototype.imgResize=function(e){var t=this,i=t.getImageSize(e),o=i.h>=t.sHeight?5:t.getTop(i.h),r=t.sWidth-100<=i.w?t.sWidth-100:i.w,n=r>=t.sWidth?100:t.getLeft(r);t.domList.$imgID.style.maxWidth=i.w+"px",t.domList.$imgID.style.maxHeight=i.h+"px",t.domList.$imgID.style.position="absolute",t.domList.$imgID.style.top=o+"px",t.domList.$imgID.style.left=n+"px",t.domList.$imgID.style.cursor="zoom-out",t.domList.$imgID.style.cursor="-webkit-zoom-out",t.domList.$imgID.style.display="block",t.domList.$imgID.style.margin="auto",t.domList.$imgIDClose.style.wdith="30px",t.domList.$imgIDClose.style.height="30px",t.domList.$imgIDClose.style.position="fixed",t.domList.$imgIDClose.style.top="50px",t.domList.$imgIDClose.style.right="50px",t.domList.$imgIDClose.style.zIndex="20160904",t.domList.$imgIDClose.style.cursor="pointer",t.domList.$imgIDClose.innerHTML=t.settings.closeBgImg?'<img width="30px" src="'+t.settings.closeBgImg+'" />':"close",t.domList.$bigBox.style.wdith="30px",t.domList.$bigBox.style.height="30px",t.domList.$bigBox.style.position="fixed",t.domList.$bigBox.style.top="100px",t.domList.$bigBox.style.right="50px",t.domList.$bigBox.style.zIndex="20160904",t.domList.$bigBox.style.cursor="pointer",t.domList.$bigBox.innerHTML=t.settings.bigBgImg?'<img width="30px" src="'+t.settings.bigBgImg+'" />':"close",t.domList.$smallBox.style.wdith="30px",t.domList.$smallBox.style.height="30px",t.domList.$smallBox.style.position="fixed",t.domList.$smallBox.style.top="150px",t.domList.$smallBox.style.right="50px",t.domList.$smallBox.style.zIndex="20160904",t.domList.$smallBox.style.cursor="pointer",t.domList.$smallBox.innerHTML=t.settings.smallBgImg?'<img width="30px" src="'+t.settings.smallBgImg+'" />':"close",t.domList.$imgPrev.style.top="0",t.domList.$imgPrev.style.left="0",t.domList.$imgPrev.innerHTML=t.settings.prevBgImg?'<div style="text-align: center; margin-top:'+(k.imgPreviewHeight-60)/2+'px ;"> <img width="20" height="60" src="'+t.settings.prevBgImg+'"> </div>':"prev",t.domList.$imgNext.style.top="0",t.domList.$imgNext.style.right="0",t.domList.$imgNext.innerHTML=t.settings.nextBgImg?'<div style="text-align: center; margin-top:'+(k.imgPreviewHeight-60)/2+'px ;"> <img width="20" height="60" src="'+t.settings.nextBgImg+'"> </div>':"prev",t.domList.$imgIDTitle.style.position="absolute",t.domList.$imgIDTitle.style.color="#fff",t.domList.$imgIDTitle.style.textAlign="left",t.domList.$imgIDTitle.style.padding="10px",t.domList.$imgIDTitle.style.boxSizing="border-box",t.domList.$imgIDTitle.style.webkitBoxSizing="border-box",t.domList.$imgIDTitle.style.overflow="hidden",t.domList.$imgIDTitle.style.lineHeight="22px",t.domList.$imgIDTitle.style.background="rgba(0,0,0,0.5)",t.domList.$imgIDTitle.style.fontSize="14px",t.domList.$imgIDTitle.innerHTML=t.imgTitleArray[t.index]||"",2===t.settings.titlePosition?(t.domList.$imgIDTitle.style.width="100%",t.domList.$imgIDTitle.style.bottom="0px",t.domList.$imgIDTitle.style.left="0",t.domList.$imgIDTitle.style.right="0"):(t.domList.$imgIDTitle.style.width=i.w+"px",t.domList.$imgIDTitle.style.left=n+"px");try{t.settings.isPaging?(f(t.domList.$imgPrev),f(t.domList.$imgNext),f(t.domList.$imgIDTitle.firstElementChild)):(x(t.domList.$imgPrev),x(t.domList.$imgNext),x(t.domList.$imgIDTitle.firstElementChild))}catch(e){}t.settings.isBox&&f(t.domList.$imgBoxBg),f(t.domList.$imgBox),t.TitleHeight=t.domList.$imgIDTitle.offsetHeight?t.domList.$imgIDTitle.offsetHeight:t.TitleHeight,1===t.settings.titlePosition&&(t.domList.$imgIDTitle.style.top=o+i.h-t.TitleHeight+"px"),t.settings.titleUp&&1===t.settings.titlePosition?(t.domList.$titleBtn.style.left=n+i.w-50+"px",t.domList.$titleBtn.style.top=o+i.h-52+"px"):t.settings.titleUp&&2===t.settings.titlePosition&&(t.domList.$titleBtn.style.right="0px",t.domList.$titleBtn.style.bottom="52px")},H.prototype.getImageSize=function(e){var t=this,i=.7*k.imgPreviewWidth,o=k.imgPreviewHeight-50,r=t.domList.$imgID.naturalWidth?t.domList.$imgID.naturalWidth:t.domList.$imgID.width,n=t.domList.$imgID.naturalHeight?t.domList.$imgID.naturalHeight:t.domList.$imgID.height,s=t.domList.$imgID.naturalWidth?t.domList.$imgID.naturalWidth:t.domList.$imgID.width,l=t.domList.$imgID.naturalHeight?t.domList.$imgID.naturalHeight:t.domList.$imgID.height;return o<l&&(s=o*r/n,l=o),i<s&&(l=(s=i)*n/r),{w:s,h:l}},H.prototype.getTop=function(e){return k.imgPreviewHeight>e?k.imgPreviewHeight/2-e/2:0},H.prototype.getLeft=function(e){return k.imgPreviewWidth>e?k.imgPreviewWidth/2-e/2:0},H.prototype.prevClick=function(){var e=this;e.index<=0&&(e.index=e._allIndex),x(e.domList.$imgID);var t=e.imgUrlArray[--e.index];e.imgClick(t),"img"===e.settings.key&&(e.scrollNum=1,e.imgZoomFn())},H.prototype.nextClick=function(){var e=this;e.index>=e.imgUrlArray.length-1&&(e.index=-1),x(e.domList.$imgID);var t=e.imgUrlArray[++e.index];e.imgClick(t),"img"===e.settings.key&&(e.scrollNum=1,e.imgZoomFn())},H.prototype.closeClick=function(){x(this.domList.$imgBoxBg),x(this.domList.$imgBox),"img"===this.settings.key&&(this.scrollNum=1)},H.prototype.imgZoomFn=function(e,t){var i=this,o=e||null;try{var r=t||o.wheelDelta||-o.detail}catch(e){}if(0<r)if(i.scrollNum<=2.6||i.domList.$imgID.offsetWidth*i.scrollNum<1e3)i.scrollNum+=.2;else try{e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1}catch(e){}if(r<0){if(!(.3<i.scrollNum)){try{e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1}catch(e){}return}i.scrollNum-=.2}try{e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1}catch(e){}return i.domList.$imgID.style.Transform="scale("+i.scrollNum+")",i.domList.$imgID.style.msTransform="scale("+i.scrollNum+")",i.domList.$imgID.style.oTransform="scale("+i.scrollNum+")",i.domList.$imgID.style.mozTransform="scale("+i.scrollNum+")",i.domList.$imgID.style.webkitTransform="scale("+i.scrollNum+")",!1},H.prototype.mouseDown=function(e){function o(){var e=event||window.event,t=e.clientX,i=e.clientY;return n.style.left=m+(t-s)+"px",n.style.top=g+(i-l)+"px",e&&e.preventDefault?(e.preventDefault(),document.ondragstart=function(){return!1}):window.event.returnValue=!1,!1}var r=this,n=e.target,s=e.clientX,l=e.clientY,m=parseInt(n.offsetLeft),g=parseInt(n.offsetTop);p(r.domList.$imgBox,"mousemove",o),p(r.domList.$imgBox,"mouseup",function(){var e,t,i;e=r.domList.$imgBox,t="mousemove",i=o,e.detachEvent?(e.detachEvent("on"+t,e[t+i]),e[t+i]=null):e.removeEventListener(t,i,!1)})},H.prototype.onresize=function(e){var t=this,i=t.domList.$imgIDClose,o=t.domList.$imgID,r=t.getImageSize(e),n=r.h>=k.imgPreviewHeight?5:t.getTop(r.h),s=k.imgPreviewWidth-100<=r.w?k.imgPreviewWidth-100:r.w,l=s>=k.imgPreviewWidth?100:t.getLeft(s);o.style.maxWidth=r.w+"px",o.style.maxHeight=r.h+"px",o.style.top=n+"px",o.style.left=l+"px",1===t.settings.titlePosition&&(t.domList.$imgIDTitle.style.width=r.w+"px",t.domList.$imgIDTitle.style.left=l+"px",t.domList.$imgIDTitle.style.top=n+r.h-t.TitleHeight+"px",t.settings.titleUp&&(t.domList.$titleBtn.style.left=l+r.w-50+"px",t.domList.$titleBtn.style.top=n+r.h-52+"px")),"simg"===t.settings.key&&(i.style.top=n-10+"px",i.style.left=l+s-10+"px"),t.domList.$imgPrev.style.top="0",t.domList.$imgPrev.style.left="0",t.domList.$imgPrev.innerHTML=t.settings.prevBgImg?'<div style="text-align: center; margin-top:'+(k.imgPreviewHeight-60)/2+'px ;"> <img width="20" height="60" src="'+t.settings.prevBgImg+'"> </div>':"prev",t.domList.$imgNext.style.top="0",t.domList.$imgNext.style.right="0",t.domList.$imgNext.innerHTML=t.settings.nextBgImg?'<div style="text-align: center; margin-top:'+(k.imgPreviewHeight-60)/2+'px ;"> <img width="20" height="60" src="'+t.settings.nextBgImg+'"> </div>':"prev"},H);function H(e){this.$win=window.parent.window||window,this.index=0,this.imgUrlArray=[],this.imgTitleArray=[],this.ImgIndex={},this.scrollNum=1;var t=this;t.settings=e,t.parentEle=t.settings.parentEle,t.settings.parentEle&&t.init()}function N(e,t){t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.minHeight=k.imgPreviewHeight+"px",t.style.zIndex="20160901",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="#000",e.style.opacity="0.6",e.style.zIndex="20160900",e.style.overflow="hidden"}window.onresize=function(){S&&S();var e=document.querySelector("#"+k.SImgPreviewBoxBg),t=document.querySelector("#"+k.imgPreviewBoxBg),i=document.querySelector("#"+k.videoPreviewBoxBg);if(k.imgPreviewWidth=window.innerWidth,k.imgPreviewHeight=window.innerHeight,t){t.style.width="100%",t.style.height="100%";try{k.previewEvents.trigger($,document.querySelector("#"+k.imgPreviewId).getAttribute("data-viewer"))}catch(e){}}if(e){e.style.width="100%",e.style.height="100%";try{k.previewEvents.trigger(B,document.querySelector("#"+k.SImgPreviewId).getAttribute("data-viewer"))}catch(e){}}i&&(i.style.width="100%",i.style.height="100%",k.previewEvents.trigger(D))};function q(e){if(e.parentEle){var t=function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o={};return e.forEach(function(e){e&&l(e,function(e,t){s(e)?(s(o[t])||(o[t]={}),o[t]=i(o[t],e)):o[t]=e})}),o}({},{isPaging:!0,key:"img",prevBgImg:"https://imgs.wbp5.com/api/secrecymaster/html_up/2018/10/20181009152904076.png",nextBgImg:"https://imgs.wbp5.com/api/secrecymaster/html_up/2018/10/20181009152928779.png",closeBgImg:"https://imgs.wbp5.com/api/secrecymaster/html_up/2019/11/20191112190957661.png",bigBgImg:"https://imgs.wbp5.com/api/secrecymaster/html_up/2019/11/20191112192601224.png",smallBgImg:"https://imgs.wbp5.com/api/secrecymaster/html_up/2019/11/20191112192603317.png",parentEle:"",IsBox:!0,titleUp:!1,titlePosition:1,videoWidth:1170},e);E(e.key,t.titleUp,t.closeBgImg);for(var i="[object Array]"===Object.prototype.toString.call(e.parentEle)?e.parentEle:[e.parentEle],o=0;o<i.length;o++){var r=i[o];if(/\[object HTML.*Element\]/.test(Object.prototype.toString.call(r))||(r=document.querySelector(r)),!r)break;var n=JSON.parse(JSON.stringify(t));n.parentEle=r,n.clickCallback=t.clickCallback?t.clickCallback:null,new C(n)}}}q({parentEle:document.getElementById("img_list"),key:"img",titleUp:!0,clickCallback:function(e,t){return"A"!==t.target.parentNode.tagName}}),q({parentEle:document.getElementById("imgs"),key:"simg",titleUp:!1,IsBox:!1,titlePosition:2,nextBgImg:"https://imgs.wbp5.com/api/secrecymaster/html_up/2020/1/20200113155738458.png",prevBgImg:"https://imgs.wbp5.com/api/secrecymaster/html_up/2020/1/20200113155730317.png",closeBgImg:"https://imgs.wbp5.com/api/secrecymaster/html_up/2018/12/20181214092752161.png"}),q({parentEle:document.getElementById("video_box"),key:"video",videoWdith:900})});
