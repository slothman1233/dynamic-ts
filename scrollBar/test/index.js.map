{"version":3,"file":"index.js","sources":["../node_modules/babel-runtime/helpers/classCallCheck.js","../node_modules/core-js/library/modules/_global.js","../node_modules/core-js/library/modules/_core.js","../node_modules/core-js/library/modules/_a-function.js","../node_modules/core-js/library/modules/_ctx.js","../node_modules/core-js/library/modules/_is-object.js","../node_modules/core-js/library/modules/_an-object.js","../node_modules/core-js/library/modules/_fails.js","../node_modules/core-js/library/modules/_descriptors.js","../node_modules/core-js/library/modules/_dom-create.js","../node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/core-js/library/modules/_to-primitive.js","../node_modules/core-js/library/modules/_object-dp.js","../node_modules/core-js/library/modules/_property-desc.js","../node_modules/core-js/library/modules/_hide.js","../node_modules/core-js/library/modules/_has.js","../node_modules/core-js/library/modules/_export.js","../node_modules/core-js/library/modules/es6.object.define-property.js","../node_modules/core-js/library/fn/object/define-property.js","../node_modules/babel-runtime/core-js/object/define-property.js","../node_modules/babel-runtime/helpers/createClass.js","../src/util.ts","../src/scroll.ts","../src/boundEvent.ts","../src/dom.ts","../src/resize.ts","../src/index.ts","index.ts"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.6.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","declare let window:any\r\n\r\nclass boundEvent {//绑定事件兼容性方法  尝试使用了懒汉试单例模式\r\n\r\n    private addEvent:(elem:any,type:string,fn:()=>void)=>void = null\r\n\r\n    private removeEvent:(elem:any,type:string,fn:()=>void)=>void = null\r\n\r\n    private constructor(){\r\n    　  if ( window.addEventListener ){\r\n    　　　　this.addEvent = function( elem, type, handler ){\r\n    　　　　　　elem.addEventListener( type, handler, false );\r\n    　　　　}\r\n            this.removeEvent = function( elem, type, handler ){\r\n    　　　　　　elem.removeEventListener( type, handler, false );\r\n    　　　　}\r\n    　　}else if ( window.attachEvent ){\r\n    　　　　this.addEvent = function( elem, type, handler ){\r\n    　　　　　　elem.attachEvent( 'on' + type, handler );\r\n    　　　　}\r\n            this.removeEvent = function( elem, type, handler ){\r\n    　　　　　　elem.detachEvent(  'on' + type, handler );\r\n    　　　　}\r\n    　　}\r\n    }\r\n\r\n    private static instance:boundEvent = null;\r\n\r\n    public static bind():boundEvent{\r\n        if(this.instance === null){\r\n            this.instance = new boundEvent();\r\n        }\r\n        return this.instance\r\n    }\r\n}\r\nexport const addObj:any = boundEvent.bind();\r\n\r\nexport function IsIE(){//判断是否是IE的方法\r\n    if (!!window.ActiveXObject || \"ActiveXObject\" in window)\r\n        return true;\r\n    else\r\n        return false;\r\n}\r\n\r\nexport function IsFirefox(){//判断是否是firefox的方法\r\n    if(window.navigator.userAgent.toLowerCase().indexOf('firefox')>=0)\r\n        return true;\r\n    else\r\n        return false;\r\n}\r\n\r\nexport function IEVersion(){//判断当前是IE几\r\n    let userAgent:any = navigator.userAgent;\r\n    let isIE:boolean = userAgent.indexOf(\"compatible\")>-1&&userAgent.indexOf(\"MSIE\")>-1;\r\n    let isEdge:boolean = userAgent.indexOf(\"Edge\")>-1&&!isIE;\r\n    let isIE11:boolean = userAgent.indexOf(\"Trident\")>-1&&userAgent.indexOf(\"rv:11.0\")>-1;\r\n    if(isIE){\r\n        let reIE:RegExp = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\r\n        reIE.test(userAgent);\r\n        return parseFloat(RegExp[\"$1\"]);\r\n    }else if(isEdge){\r\n        return \"edge\";\r\n    }else if(isIE11){\r\n        return 11;\r\n    }else{\r\n        return -1;\r\n    }\r\n}","import { mousewheelObj,scaleObj,positionScroll } from \"./types\"\r\n\r\nfunction addTransformFn(dom:any,val:string){//设置滚动条的transform样式兼容性写法\r\n    dom.style.transform = val;\r\n    dom.style.webkitTransform = val;\r\n    dom.style.msTransform = val;\r\n    dom.style.mozTransform = val;\r\n    dom.style.oTransform = val;\r\n}\r\n\r\nfunction scrollScale(that:any,type:any):scaleObj{//获取计算滚动位置所需的参数\r\n    let scrollObj:scaleObj = {\r\n        scrollRange:that.contentDomScrollSize[type] - that.contentDomSize[type],\r\n        sliderRange:that.scrollDomSize[type]-that.sliderDomSize[type],\r\n        scrollNumber:that.scrollBox.scrollTop,\r\n        scrollType:\"scrollTop\",\r\n        transformType:\"translateY\"\r\n    }\r\n    if(type===\"x\"){\r\n        scrollObj.scrollNumber = that.scrollBox.scrollLeft;\r\n        scrollObj.scrollType = \"scrollLeft\";\r\n        scrollObj.transformType = \"translateX\"\r\n    }\r\n    return scrollObj;\r\n}\r\n\r\nfunction getScrollValue(event:any,that:any,scrollNumber:number,scrollRange:number,sliderRange:number):mousewheelObj{//每次滚动位置计算\r\n    let key:boolean = event.wheelDelta?event.wheelDelta>0:event.detail<0;//兼容性处理判断是向上滚动还是向下滚动  true向上滚动  false向下滚动   \r\n    let sliderScale:number;\r\n    if(key){\r\n        if(scrollNumber<=0)return null;\r\n        try { event.preventDefault(); } catch (e) { }\r\n        scrollNumber -= that.options.wheelDis;\r\n    }else{\r\n        if(scrollNumber>=scrollRange)return null;\r\n        try { event.preventDefault(); } catch (e) { }\r\n        scrollNumber += that.options.wheelDis;\r\n    }\r\n    scrollNumber = scrollNumber<0?0:scrollNumber>scrollRange?scrollRange:scrollNumber;\r\n    return {\r\n        scrollNumber:scrollNumber,\r\n        sliderScale:scrollNumber*sliderRange/scrollRange\r\n    }\r\n}\r\n\r\nfunction getMoveValue(event:any,moveNumber:number,scrollNumber:number,scrollRange:number,sliderRange:number):mousewheelObj{//每次拖动位置计算\r\n    try { event.preventDefault(); } catch (e) { }\r\n    if((scrollNumber<=0&&moveNumber<0)||(scrollNumber>=scrollRange&&moveNumber>0))return null;\r\n    scrollNumber += moveNumber*scrollRange/sliderRange;\r\n    scrollNumber = scrollNumber<0?0:scrollNumber>scrollRange?scrollRange:scrollNumber;\r\n    return {\r\n        scrollNumber:scrollNumber,\r\n        sliderScale:scrollNumber*sliderRange/scrollRange\r\n    };\r\n}\r\n\r\nexport function mousewheelFn(event:any,that:any,type:string):void{//滚动滚轮更新滚动位置\r\n    if(that.contentDomScrollSize[type]<=that.contentDomSize[type]){return}//当内容高度小于滚动元素的高度则返回\r\n    let scaleObj:scaleObj = scrollScale(that,type);\r\n    let scrollNumberObj:mousewheelObj = getScrollValue(event,that,scaleObj.scrollNumber,scaleObj.scrollRange,scaleObj.sliderRange);\r\n    if(scrollNumberObj){\r\n        that.scrollBox[scaleObj.scrollType] = scrollNumberObj.scrollNumber;//更新滚动内容的滚动位置\r\n        addTransformFn(that.sliderDom[type],scaleObj.transformType+\"(\"+scrollNumberObj.sliderScale*100/that.sliderDomSize[type]+\"%)\");//更新滚动条的滚动位置\r\n    }\r\n}\r\n\r\nexport function mouseMoveFn(event:any,that:any,type:string){//拖动滚动条更新滚动位置\r\n    let clientNumber:number = type === \"y\"?event.clientY:event.clientX;\r\n    let moveNumber:number = clientNumber - that.startClient[type];//获取拖动距离\r\n    that.startClient[type] = clientNumber;//更新初始值\r\n    let scaleObj:scaleObj = scrollScale(that,type);\r\n    let scrollNumberObj:mousewheelObj = getMoveValue(event,moveNumber,scaleObj.scrollNumber,scaleObj.scrollRange,scaleObj.sliderRange);\r\n    if(scrollNumberObj){\r\n        that.scrollBox[scaleObj.scrollType] = scrollNumberObj.scrollNumber;\r\n        addTransformFn(that.sliderDom[type],scaleObj.transformType+\"(\"+scrollNumberObj.sliderScale*100/that.sliderDomSize[type]+\"%)\");\r\n    }\r\n}\r\n\r\nexport function clickScrollY(event:any,that:any){//点击竖向滚动条\r\n    if(event.target.className.indexOf(\"stl_yscroll_box\")<0){return};\r\n    let clickOffset:number = event.offsetY - that.sliderDomSize[\"y\"]/2\r\n    clickOffset = clickOffset <0?0:clickOffset >(that.scrollDomSize[\"y\"]-that.sliderDomSize[\"y\"])?(that.scrollDomSize[\"y\"]-that.sliderDomSize[\"y\"]):clickOffset;\r\n    let clickScroll:number = (that.contentDomScrollSize[\"y\"] - that.contentDomSize[\"y\"])*clickOffset/(that.scrollDomSize[\"y\"]-that.sliderDomSize[\"y\"]);\r\n    that.scrollBox.scrollTop = clickScroll;\r\n    addTransformFn(that.sliderDom[\"y\"],\"translateY(\"+clickOffset*100/that.sliderDomSize[\"y\"]+\"%)\");\r\n}\r\n\r\nexport function clickScrollX(event:any,that:any){//点击横向滚动条\r\n    if(event.target.className.indexOf(\"stl_xscroll_box\")<0){return};\r\n    let clickOffset:number = event.offsetX - that.sliderDomSize[\"x\"]/2;\r\n    clickOffset = clickOffset <0?0:clickOffset >(that.scrollDomSize[\"x\"]-that.sliderDomSize[\"x\"])?(that.scrollDomSize[\"x\"]-that.sliderDomSize[\"x\"]):clickOffset;\r\n    let clickScroll:number = (that.contentDomScrollSize[\"x\"] - that.contentDomSize[\"x\"])*clickOffset/(that.scrollDomSize[\"x\"]-that.sliderDomSize[\"x\"]);\r\n    that.scrollBox.scrollLeft = clickScroll;\r\n    addTransformFn(that.sliderDom[\"x\"],\"translateX(\"+clickOffset*100/that.sliderDomSize[\"x\"]+\"%)\");\r\n}\r\nexport function scrollSpecifiedPosition(obj:positionScroll){\r\n    if(obj.left){\r\n        this.scrollBox.scrollLeft = obj.left;\r\n        let clickOffset = obj.left*(this.scrollDomSize[\"x\"]-this.sliderDomSize[\"x\"])/(this.contentDomScrollSize[\"x\"] - this.contentDomSize[\"x\"]);\r\n        addTransformFn(this.sliderDom[\"x\"],\"translateX(\"+clickOffset*100/this.sliderDomSize[\"x\"]+\"%)\");\r\n    }\r\n    if(obj.top){\r\n        this.scrollBox.scrollTop = obj.top;\r\n        let clickOffset = obj.top*(this.scrollDomSize[\"y\"]-this.sliderDomSize[\"y\"])/(this.contentDomScrollSize[\"y\"] - this.contentDomSize[\"y\"]);\r\n        addTransformFn(this.sliderDom[\"y\"],\"translateY(\"+clickOffset*100/this.sliderDomSize[\"y\"]+\"%)\");\r\n    }\r\n}","import { IsFirefox,addObj } from \"./util\";\r\nimport { mousewheelFn,mouseMoveFn,clickScrollX,clickScrollY } from \"./scroll\";\r\n\r\ndeclare let window:any\r\n\r\nfunction bindMouseMove(type:string,dom:any):void{//绑定鼠标拖动事件和鼠标松开事件\r\n    const that = this;\r\n    const documentDom:HTMLElement = document.documentElement;\r\n    const mousemoveCallback:(evn:any)=>void = function(evn:any){//拖动鼠标执行的方法\r\n        const event:any = evn||window.event;\r\n        mouseMoveFn(event,that,type)\r\n    };\r\n    const mouseupCallback:(evn:any)=>void = function(evn:any){//鼠标松开执行的方法\r\n        const event:any = evn||window.event;\r\n        if(dom.className.indexOf(\"stl_scroll_move_box\")>=0){//取消按下滚动条样式\r\n            dom.className = dom.className.replace(\" stl_scroll_move_box\",\"\");\r\n        }\r\n        that.startClient = {\"x\":0,\"y\":0};\r\n        that.isScrollMove = 0;\r\n        addObj.removeEvent(documentDom,\"mousemove\",mousemoveCallback)//鼠标松开取消mousemove和mouseup事件绑定\r\n        addObj.removeEvent(documentDom,\"mouseup\",mouseupCallback)\r\n        if(IsFirefox()){\r\n            dom.parentElement.parentElement.className = dom.parentElement.parentElement.className.replace(\" stl_scroll_unselect\",\"\");//防止选中内容兼容firefox\r\n        }else{\r\n            dom.parentElement.parentElement.onselectstart = function(){//防止选中内容\r\n                return true;\r\n            }\r\n        }\r\n    };\r\n    addObj.addEvent(documentDom,\"mousemove\",mousemoveCallback)\r\n    addObj.addEvent(documentDom,\"mouseup\",mouseupCallback)\r\n}\r\n\r\nfunction bindMouseDown(type:string,dom:any):void{//绑定鼠标按下事件\r\n    const that:any = this;\r\n    addObj.addEvent(dom,\"mousedown\",function(evn:any){\r\n        const event:any = evn||window.event;\r\n        if(IsFirefox()){\r\n            dom.parentElement.parentElement.className = dom.parentElement.parentElement.className+\" stl_scroll_unselect\";//防止选中内容兼容firefox\r\n        }else{\r\n            dom.parentElement.parentElement.onselectstart = function(){//防止选中内容\r\n                return false;\r\n            }\r\n        }\r\n        if(dom.className.indexOf(\"stl_scroll_move_box\")<0){//按下滚动条添加样式\r\n            dom.className = dom.className+\" stl_scroll_move_box\";\r\n        }\r\n        that.startClient[type] = type===\"y\"?event.clientY:event.clientX;//鼠标按下的初始位置\r\n        bindMouseMove.call(that,type,dom)//按下鼠标绑定拖动和松开鼠标事件\r\n    });\r\n}\r\n\r\nexport function boundEventFn(type:string):void{//绑定点击滚动条和鼠标滚轮事件\r\n    const that:any = this;\r\n    const mouseScrollKey:string = IsFirefox()?\"DOMMouseScroll\":\"mousewheel\";//鼠标滚轮滚动事件兼容firefox浏览器\r\n    if(type ===\"y\"||(this.options.direction ===\"x\"&&this.options.xMousewheel)){//滚动鼠标滚轮事件绑定\r\n        addObj.addEvent(that.scrollBox,mouseScrollKey,function(){\r\n            const ev:any = event || window.event;\r\n            mousewheelFn.call(this,ev,that,type);\r\n        });\r\n        addObj.addEvent(that.scrollDom[type],mouseScrollKey,function(){\r\n            const ev:any = event || window.event;\r\n            mousewheelFn.call(this,ev,that,type);\r\n        });\r\n    };\r\n    addObj.addEvent(that.scrollDom[type],\"click\",function(){//点击滚动条事件绑定\r\n        const ev:any = event || window.event;\r\n        if(type === \"y\"){\r\n            clickScrollY.call(this,ev,that,type);\r\n        }else{\r\n            clickScrollX.call(this,ev,that,type);\r\n        }\r\n        \r\n    });\r\n    bindMouseDown.call(this,type,this.sliderDom[type]);//拖动滚动条事件绑定\r\n}\r\n\r\n","import {boundEventFn} from \"./boundEvent\"\r\n\r\nfunction initAddScrollJudgment(type:string,domAttr:string,scrollAttr:string):void{//初始化滚动条判断是否需要初始化生成滚动条\r\n    getScrollContentHeight.call(this,type,domAttr,scrollAttr);//获取滚动框的高度/宽度 及滚动内容的高度/宽度\r\n    if(this.contentDomScrollSize[type]>this.contentDomSize[type]){//内容超出才生成滚动条\r\n        createScrollDom.call(this,type);//添加滚动条dom\r\n        getScrollDomSize.call(this,type,domAttr);//设置滚动条尺寸\r\n    }\r\n}\r\n\r\nfunction refreshAddScrollJudgment(type:string,domAttr:string,scrollAttr:string):void{//刷新滚动条判断是否生成滚动条\r\n    // getScrollContentHeight.call(this,type,domAttr,scrollAttr);//获取滚动框的高度/宽度 及滚动内容的高度/宽度\r\n    if(this.contentDomScrollSize[type]<=this.contentDomSize[type]){//内容未超出\r\n        if(this.scrollDom[type]){//已有滚动条则隐藏\r\n            this.scrollDom[type].style.display = \"none\";\r\n        }\r\n        return;\r\n    }\r\n    if(this.contentDomSize[type]){//已有滚动条则刷新滚动条高度\r\n        if(this.scrollDom[type].style.display === \"none\")this.scrollDom[type].style.display = \"block\";\r\n        getScrollDomSize.call(this,type,domAttr);\r\n    }else{//没有滚动条则添加滚动条\r\n        createScrollDom.call(this,type);//添加滚动条dom\r\n        getScrollDomSize.call(this,type,domAttr);//设置滚动条尺寸\r\n    }\r\n}\r\n\r\nfunction getScrollContentHeight(type:string,domAttr:string,scrollAttr:string):void{//获取滚动框的高度/宽度 及滚动内容的高度/宽度\r\n    this.contentDomSize[type] = this.scrollBox[domAttr];\r\n    this.contentDomScrollSize[type] = this.scrollBox[scrollAttr];\r\n}\r\n\r\nfunction createScrollDom(type:string):void{//根据类型添加滚动条\r\n    let className:string = \"stl_\"+type+\"scroll_box\";\r\n    this.scrollDom[type] = document.createElement(\"div\");\r\n    this.sliderDom[type] = document.createElement(\"div\");\r\n    this.scrollDom[type].className = this.options.className=== \"\" ?className:className+\" \"+this.options.className;//添加类名\r\n    \r\n    if(type===\"y\"){//设置滚动条的宽度/高度\r\n        this.scrollDom[type].style.width = this.options.size+\"px\";\r\n    }else{\r\n        this.scrollDom[type].style.height = this.options.size+\"px\";\r\n    }\r\n    this.scrollDom[type].appendChild(this.sliderDom[type]);\r\n    this.scrollParent.appendChild(this.scrollDom[type]);\r\n    boundEventFn.call(this,type)//绑定事件\r\n}\r\n\r\nfunction getScrollDomSize(type:string,domAttr:string):void{//设置滚动条的高度/宽度\r\n    this.scrollDomSize[type] = this.scrollDom[type][domAttr];\r\n    let scrollDomSize:number = this.contentDomSize[type]*this.scrollDomSize[type]/this.contentDomScrollSize[type];\r\n    this.sliderDomSize[type] = scrollDomSize>this.options.smallSize?scrollDomSize:this.options.smallSize;\r\n    if(type===\"x\"){\r\n        this.sliderDom[type].style.width = this.sliderDomSize[type]+\"px\";\r\n    }else{\r\n        this.sliderDom[type].style.height = this.sliderDomSize[type]+\"px\";\r\n    }\r\n}\r\n\r\nexport function addStyle():void{//给元素添加样式\r\n    const parentStyle:any = getComputedStyle(this.scrollParent,null);\r\n    if(parentStyle.position!==\"relative\"){//父元素设置样式\r\n        this.scrollParent.style.position = \"relative\";\r\n    };\r\n    // const scrollStyle:any = getComputedStyle(this.scrollBox,null)\r\n    // if(scrollStyle.overflow!==\"hidden\"){\r\n    //     this.scrollBox.style.overflow = \"hidden\";\r\n    // };\r\n}\r\n\r\nexport function initScrollDom(){//初始化添加滚动条元素\r\n    switch(this.options.direction){\r\n        case \"x\":\r\n             initAddScrollJudgment.call(this,\"x\",\"clientWidth\",\"scrollWidth\");\r\n            break;\r\n        case \"y\":\r\n            initAddScrollJudgment.call(this,\"y\",\"clientHeight\",\"scrollHeight\");\r\n            break;\r\n        case \"xy\":\r\n            initAddScrollJudgment.call(this,\"x\",\"clientWidth\",\"scrollWidth\");\r\n            initAddScrollJudgment.call(this,\"y\",\"clientHeight\",\"scrollHeight\");\r\n            break;\r\n        default:\r\n            initAddScrollJudgment.call(this,\"y\",\"clientHeight\",\"scrollHeight\");\r\n    }\r\n}\r\n\r\nexport function refreshScrollDom(){//触发刷新滚动条\r\n    switch(this.options.direction){\r\n        case \"x\":\r\n            this.contentDomScrollSize[\"x\"] = this.scrollBox.scrollWidth;//重新获取滚动内容的高度\r\n            refreshAddScrollJudgment.call(this,\"x\",\"clientWidth\",\"scrollWidth\");\r\n            break;\r\n        case \"y\":\r\n            this.contentDomScrollSize[\"y\"] = this.scrollBox.scrollHeight;\r\n            refreshAddScrollJudgment.call(this,\"y\",\"clientHeight\",\"scrollHeight\");\r\n            break;\r\n        case \"xy\":\r\n            this.contentDomScrollSize[\"x\"] = this.scrollBox.scrollWidth;\r\n            this.contentDomScrollSize[\"y\"] = this.scrollBox.scrollHeight;\r\n            refreshAddScrollJudgment.call(this,\"x\",\"clientWidth\",\"scrollWidth\");\r\n            refreshAddScrollJudgment.call(this,\"y\",\"clientHeight\",\"scrollHeight\");\r\n            break;\r\n        default:\r\n            this.contentDomScrollSize[\"y\"] = this.scrollBox.scrollHeight;\r\n            refreshAddScrollJudgment.call(this,\"y\",\"clientHeight\",\"scrollHeight\");\r\n    }\r\n}\r\n\r\n","// Firefox和Chrome早期版本中带有前缀\r\ndeclare let window:any;\r\n\r\ninterface config {\r\n    attributes:boolean//检测属性变动\r\n    childList:boolean//检测子节点变动\r\n    characterData:boolean//节点内容或节点文本的变动。\r\n}\r\n\r\n// function debounce(method:any,delay:number){//防抖函数\r\n//     let timer:any = null,that = this;\r\n//     return function(){\r\n//         if(timer){\r\n//             clearTimeout(timer);\r\n//             timer = null;\r\n//         }\r\n//         timer = setTimeout(function(){\r\n//             method.call(that)\r\n//         },delay)\r\n//     }\r\n// }\r\n\r\n/**\r\n * 监听元素内容变化的方法\r\n * @param id   需要监听的元素的id\r\n * @param callback  内容变化后需要执行的回调 \r\n * @param config?  观察选项配置 详细配置见config接口\r\n */\r\nexport function domResize(id:string,callback:()=>any,config?:config){//监听元素内容变化\r\n    let MutationObserver:any = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\r\n    let that = this;\r\n    // let debounceFn = debounce.call(that,callback,100)\r\n    const target:HTMLElement = document.getElementById(id);// 选择目标节点\r\n    if (MutationObserver) {\r\n        // 创建观察者对象\r\n        const observer:any = new MutationObserver(function (mutations:any) {\r\n            mutations.forEach(function (mutation:any) {\r\n                // debounceFn.call(that);\r\n                callback.call(that)\r\n            });\r\n        });\r\n        // 配置观察选项:\r\n        const configs = config||{\r\n            attributes: true,//检测属性变动\r\n            childList: true,//检测子节点变动\r\n            characterData: true//节点内容或节点文本的变动。\r\n        }\r\n        observer.observe(target, configs);\r\n    } else {\r\n        target.addEventListener(\"DOMNodeRemoved\", function (event:any) {\r\n            // debounceFn.call(that);\r\n            callback.call(that)\r\n        }, false);\r\n \r\n        target.addEventListener(\"DOMNodeInserted\", function (event:any) {\r\n            // debounceFn.call(that);\r\n            callback.call(that)\r\n        }, false);\r\n    }\r\n}\r\n \r\n\r\n\r\n   ","/**/\r\nimport \"./index.less\"\r\nimport { option,domObj,domSize,positionScroll } from \"./types\"\r\nimport { addStyle,initScrollDom,refreshScrollDom } from \"./dom\"\r\nimport { domResize } from \"./resize\"\r\nimport { scrollSpecifiedPosition } from \"./scroll\"\r\n\r\nexport class scrollBar{\r\n    options:option//参数列表\r\n    scrollParent:any//滚动元素的父元素 滚动条的位置将以此元素定位\r\n    scrollBox:HTMLElement//需要滚动的元素\r\n    scrollContentBox:HTMLElement//需要滚动的内容元素  设置自动兼容滚动内容变化时必须添加此元素\r\n    contentDomSize:domSize = {\"x\":0,\"y\":0}//滚动元素的高度(y)/宽度(x)\r\n    contentDomScrollSize:domSize = {\"x\":0,\"y\":0}//滚动元素的scrollHeight(y)/scrollWidth(x)\r\n    scrollDom:domObj = {\"x\":null,\"y\":null}//滚动条元素对象\r\n    sliderDom:domObj = {\"x\":null,\"y\":null}//滚动滑块元素对象\r\n    scrollDomSize:domSize = {\"x\":0,\"y\":0}//滚动条的尺寸\r\n    sliderDomSize:domSize = {\"x\":0,\"y\":0}//滚动画框的尺寸\r\n    // isScrollMove:number = 0//是否正在拖动滚动条 0表示没有拖动  1表示\r\n    startClient:domSize = {\"x\":0,\"y\":0}//鼠标按下的起始位置\r\n\r\n    constructor(options:option){\r\n        this.initOption(options);//初始化参数\r\n        addStyle.call(this);//给需要添加滚动条的元素添加样式\r\n        initScrollDom.call(this);//添加滚动元素\r\n        if(this.options.autoRefresh){//自动监听内容变化\r\n            domResize.call(this,this.options.id,refreshScrollDom)\r\n        }\r\n    }\r\n\r\n    private initOption(options:option){//初始化参数\r\n        this.options={\r\n            id:options.id,\r\n            autoRefresh:options.autoRefresh===undefined?true:options.autoRefresh,\r\n            size:options.size||5,\r\n            direction:options.direction||\"y\",\r\n            className:options.className||\"\",\r\n            smallSize:options.smallSize===undefined?20:options.smallSize,\r\n            xMousewheel:options.xMousewheel===undefined?true:options.xMousewheel,\r\n            wheelDis:options.wheelDis||40,\r\n        };\r\n        this.scrollBox = document.getElementById(options.id);\r\n        this.scrollParent = this.scrollBox.parentNode;\r\n    }\r\n\r\n    refresh(){//手动刷新滚动条的方法\r\n        refreshScrollDom.call(this)\r\n    }\r\n    fixedPointScroll(obj:positionScroll){\r\n        scrollSpecifiedPosition.call(this,obj)\r\n    }\r\n}\r\n\r\n\r\n//  let ScrollBar:any = new scrollBar({id:\"box2\",smallSize:40,wheelDis:20,autoRefresh:false})\r\n//  let index:number = 20;\r\n//  let domObj:any = document.getElementById(\"box2\");\r\n\r\n\r\n//  let timer = setInterval(function(){\r\n//     index--;\r\n//     let childDom:any = document.createElement(\"p\");\r\n//     childDom.innerText = \"新加元素\"+index;\r\n//     domObj.appendChild(childDom)\r\n//     if(index<0){\r\n//         clearInterval(timer);\r\n//         ScrollBar.refresh();\r\n//     }\r\n//  },500)\r\n//   let ScrollBar1:any = new scrollBar({id:\"box4\",direction:\"x\",size:10,xMousewheel:false})\r\n//  let ScrollBar2:any = new scrollBar({id:\"box6\",direction:\"xy\",className:\"scroll_class\"})","import { scrollBar } from \"../src/index\"\r\nvar ScrollBar2:any;\r\n\r\nlet btn = document.getElementById(\"btn\");\r\n\r\nbtn.addEventListener(\"click\",function(){\r\n    // ScrollBar2.fixedPointScroll({top:1000})\r\n    document.getElementById(\"box6\").style.display = \"block\"\r\n    if(!ScrollBar2){\r\n        ScrollBar2 = new scrollBar({id:\"box6\",direction:\"y\",className:\"scroll_class\"})\r\n    }\r\n})\r\nlet btn1 = document.getElementById(\"btn1\")\r\nbtn1.addEventListener(\"click\",function(){\r\n    // ScrollBar2.fixedPointScroll({top:1000})\r\n    document.getElementById(\"box6\").style.display = \"none\"\r\n})"],"names":["aFunction","isObject","require$$0","document","require$$1","require$$2","anObject","toPrimitive","IE8_DOM_DEFINE","dP","createDesc","core","global","has","ctx","hide","$export","_defineProperty","boundEvent","window","addEventListener","addEvent","elem","type","handler","removeEvent","removeEventListener","attachEvent","detachEvent","instance","addObj","bind","IsFirefox","navigator","userAgent","toLowerCase","indexOf","addTransformFn","dom","val","style","transform","webkitTransform","msTransform","mozTransform","oTransform","scrollScale","that","scrollObj","scrollRange","contentDomScrollSize","contentDomSize","sliderRange","scrollDomSize","sliderDomSize","scrollNumber","scrollBox","scrollTop","scrollType","transformType","scrollLeft","getScrollValue","event","key","wheelDelta","detail","preventDefault","e","options","wheelDis","sliderScale","getMoveValue","moveNumber","mousewheelFn","scaleObj","scrollNumberObj","sliderDom","mouseMoveFn","clientNumber","clientY","clientX","startClient","clickScrollY","target","className","clickOffset","offsetY","clickScroll","clickScrollX","offsetX","scrollSpecifiedPosition","obj","left","top","bindMouseMove","documentDom","documentElement","mousemoveCallback","evn","mouseupCallback","replace","isScrollMove","parentElement","onselectstart","bindMouseDown","call","boundEventFn","mouseScrollKey","direction","xMousewheel","ev","scrollDom","initAddScrollJudgment","domAttr","scrollAttr","getScrollContentHeight","createScrollDom","getScrollDomSize","refreshAddScrollJudgment","display","createElement","width","size","height","appendChild","scrollParent","smallSize","addStyle","parentStyle","getComputedStyle","position","initScrollDom","refreshScrollDom","scrollWidth","scrollHeight","domResize","id","callback","config","MutationObserver","WebKitMutationObserver","MozMutationObserver","getElementById","observer","mutations","forEach","mutation","configs","attributes","childList","characterData","observe","scrollBar","initOption","autoRefresh","undefined","parentNode","ScrollBar2","btn","btn1"],"mappings":"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"}