!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).indexjs={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var l=t(o(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),y=o(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),D=o(function(e){var t=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=t)}),S=(D.version,function(l,n,e){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(l),void 0===n)return l;switch(e){case 1:return function(e){return l.call(n,e)};case 2:return function(e,t){return l.call(n,e,t)};case 3:return function(e,t,o){return l.call(n,e,t,o)}}return function(){return l.apply(n,arguments)}}),n=function(e){return"object"==typeof e?null!==e:"function"==typeof e},i=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e},r=function(e){try{return!!e()}catch(e){return!0}},s=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c=y.document,a=n(c)&&n(c.createElement),u=!s&&!r(function(){return 7!=Object.defineProperty((e="div",a?c.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),h=Object.defineProperty,f={f:s?Object.defineProperty:function(e,t,o){if(i(e),t=function(e,t){if(!n(e))return e;var o,l;if(t&&"function"==typeof(o=e.toString)&&!n(l=o.call(e)))return l;if("function"==typeof(o=e.valueOf)&&!n(l=o.call(e)))return l;if(!t&&"function"==typeof(o=e.toString)&&!n(l=o.call(e)))return l;throw TypeError("Can't convert object to primitive value")}(t,!0),i(o),u)try{return h(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},x=s?function(e,t,o){return f.f(e,t,{enumerable:!((l=1)&l),configurable:!(2&l),writable:!(4&l),value:o});var l}:function(e,t,o){return e[t]=o,e},z={}.hasOwnProperty,w="prototype",b=function(e,t,o){var l,n,i,r,s,c=e&b.F,a=e&b.G,u=e&b.S,h=e&b.P,f=e&b.B,m=e&b.W,d=a?D:D[t]||(D[t]={}),p=d[w],v=a?y:u?y[t]:(y[t]||{})[w];for(l in a&&(o=t),o)(n=!c&&v&&void 0!==v[l])&&(r=d,s=l,z.call(r,s))||(i=n?v[l]:o[l],d[l]=a&&"function"!=typeof v[l]?o[l]:f&&n?S(i,y):m&&v[l]==i?function(l){var e=function(e,t,o){if(this instanceof l){switch(arguments.length){case 0:return new l;case 1:return new l(e);case 2:return new l(e,t)}return new l(e,t,o)}return l.apply(this,arguments)};return e[w]=l[w],e}(i):h&&"function"==typeof i?S(Function.call,i):i,h&&((d.virtual||(d.virtual={}))[l]=i,e&b.R&&p&&!p[l]&&x(p,l,i)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128;var m=b;m(m.S+m.F*!s,"Object",{defineProperty:f.f});var d=D.Object,p=function(e,t,o){return d.defineProperty(e,t,o)},v=o(function(e){e.exports={default:p,__esModule:!0}});t(v);var E=t(o(function(e,t){t.__esModule=!0;var o,n=(o=v)&&o.__esModule?o:{default:o};t.default=function(){function l(e,t){for(var o=0;o<t.length;o++){var l=t[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),(0,n.default)(e,l.key,l)}}return function(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e}}()})),_=function(){function e(){l(this,e),this.addEvent=null,this.removeEvent=null,window.addEventListener?(this.addEvent=function(e,t,o){e.addEventListener(t,o,!1)},this.removeEvent=function(e,t,o){e.removeEventListener(t,o,!1)}):window.attachEvent&&(this.addEvent=function(e,t,o){e.attachEvent("on"+t,o)},this.removeEvent=function(e,t,o){e.detachEvent("on"+t,o)})}return E(e,null,[{key:"bind",value:function(){return null===this.instance&&(this.instance=new e),this.instance}}]),e}();_.instance=null;var g=_.bind();function N(){return 0<=window.navigator.userAgent.toLowerCase().indexOf("firefox")}function O(e,t){e.style.transform=t,e.style.webkitTransform=t,e.style.msTransform=t,e.style.mozTransform=t,e.style.oTransform=t}function B(e,t){var o={scrollRange:e.contentDomScrollSize[t]-e.contentDomSize[t],sliderRange:e.scrollDomSize[t]-e.sliderDomSize[t],scrollNumber:e.scrollBox.scrollTop,scrollType:"scrollTop",transformType:"translateY"};return"x"===t&&(o.scrollNumber=e.scrollBox.scrollLeft,o.scrollType="scrollLeft",o.transformType="translateX"),o}function M(e,t,o){if(!(t.contentDomScrollSize[o]<=t.contentDomSize[o])){var l=B(t,o),n=function(e,t,o,l,n){if(e.wheelDelta?0<e.wheelDelta:e.detail<0){if(o<=0)return null;try{e.preventDefault()}catch(e){}o-=t.options.wheelDis}else{if(l<=o)return null;try{e.preventDefault()}catch(e){}o+=t.options.wheelDis}return{scrollNumber:o=o<0?0:l<o?l:o,sliderScale:o*n/l}}(e,t,l.scrollNumber,l.scrollRange,l.sliderRange);n&&(t.scrollBox[l.scrollType]=n.scrollNumber,O(t.sliderDom[o],l.transformType+"("+100*n.sliderScale/t.sliderDomSize[o]+"%)"))}}function T(t,o){var l=this,n=document.documentElement,i=function(e){!function(e,t,o){var l="y"===o?e.clientY:e.clientX,n=l-t.startClient[o];t.startClient[o]=l;var i=B(t,o),r=function(e,t,o,l,n){try{e.preventDefault()}catch(e){}return o<=0&&t<0||l<=o&&0<t?null:{scrollNumber:o=(o+=t*l/n)<0?0:l<o?l:o,sliderScale:o*n/l}}(e,n,i.scrollNumber,i.scrollRange,i.sliderRange);r&&(t.scrollBox[i.scrollType]=r.scrollNumber,O(t.sliderDom[o],i.transformType+"("+100*r.sliderScale/t.sliderDomSize[o]+"%)"))}(e||window.event,l,t)};g.addEvent(n,"mousemove",i),g.addEvent(n,"mouseup",function e(t){t||window.event;0<=o.className.indexOf("stl_scroll_move_box")&&(o.className=o.className.replace(" stl_scroll_move_box","")),l.startClient={x:0,y:0},l.isScrollMove=0,g.removeEvent(n,"mousemove",i),g.removeEvent(n,"mouseup",e),N()?o.parentElement.parentElement.className=o.parentElement.parentElement.className.replace(" stl_scroll_unselect",""):o.parentElement.parentElement.onselectstart=function(){return!0}})}function P(t){var o=this,e=N()?"DOMMouseScroll":"mousewheel";("y"===t||"x"===this.options.direction&&this.options.xMousewheel)&&(g.addEvent(o.scrollBox,e,function(){var e=event||window.event;M.call(this,e,o,t)}),g.addEvent(o.scrollDom[t],e,function(){var e=event||window.event;M.call(this,e,o,t)})),g.addEvent(o.scrollDom[t],"click",function(){var e=event||window.event;"y"===t?function(e,t){if(!(e.target.className.indexOf("stl_yscroll_box")<0)){var o=e.offsetY-t.sliderDomSize.y/2;o=o<0?0:o>t.scrollDomSize.y-t.sliderDomSize.y?t.scrollDomSize.y-t.sliderDomSize.y:o;var l=(t.contentDomScrollSize.y-t.contentDomSize.y)*o/(t.scrollDomSize.y-t.sliderDomSize.y);t.scrollBox.scrollTop=l,O(t.sliderDom.y,"translateY("+100*o/t.sliderDomSize.y+"%)")}}.call(this,e,o,t):function(e,t){if(!(e.target.className.indexOf("stl_xscroll_box")<0)){var o=e.offsetX-t.sliderDomSize.x/2;o=o<0?0:o>t.scrollDomSize.x-t.sliderDomSize.x?t.scrollDomSize.x-t.sliderDomSize.x:o;var l=(t.contentDomScrollSize.x-t.contentDomSize.x)*o/(t.scrollDomSize.x-t.sliderDomSize.x);t.scrollBox.scrollLeft=l,O(t.sliderDom.x,"translateX("+100*o/t.sliderDomSize.x+"%)")}}.call(this,e,o,t)}),function(o,l){var n=this;g.addEvent(l,"mousedown",function(e){var t=e||window.event;N()?l.parentElement.parentElement.className=l.parentElement.parentElement.className+" stl_scroll_unselect":l.parentElement.parentElement.onselectstart=function(){return!1},l.className.indexOf("stl_scroll_move_box")<0&&(l.className=l.className+" stl_scroll_move_box"),n.startClient[o]="y"===o?t.clientY:t.clientX,T.call(n,o,l)})}.call(this,t,this.sliderDom[t])}function H(e,t,o){(function(e,t,o){this.contentDomSize[e]=this.scrollBox[t],this.contentDomScrollSize[e]=this.scrollBox[o]}).call(this,e,t,o),this.contentDomScrollSize[e]>this.contentDomSize[e]&&(j.call(this,e),R.call(this,e,t))}function k(e,t,o){this.contentDomScrollSize[e]<=this.contentDomSize[e]?this.scrollDom[e]&&(this.scrollDom[e].style.display="none"):(this.contentDomSize[e]?"none"===this.scrollDom[e].style.display&&(this.scrollDom[e].style.display="block"):j.call(this,e),R.call(this,e,t))}function j(e){var t="stl_"+e+"scroll_box";this.scrollDom[e]=document.createElement("div"),this.sliderDom[e]=document.createElement("div"),this.scrollDom[e].className=""===this.options.className?t:t+" "+this.options.className,"y"===e?this.scrollDom[e].style.width=this.options.size+"px":this.scrollDom[e].style.height=this.options.size+"px",this.scrollDom[e].appendChild(this.sliderDom[e]),this.scrollParent.appendChild(this.scrollDom[e]),P.call(this,e)}function R(e,t){this.scrollDomSize[e]=this.scrollDom[e][t];var o=this.contentDomSize[e]*this.scrollDomSize[e]/this.contentDomScrollSize[e];this.sliderDomSize[e]=o>this.options.smallSize?o:this.options.smallSize,"x"===e?this.sliderDom[e].style.width=this.sliderDomSize[e]+"px":this.sliderDom[e].style.height=this.sliderDomSize[e]+"px"}function W(){switch(this.options.direction){case"x":this.contentDomScrollSize.x=this.scrollBox.scrollWidth,k.call(this,"x","clientWidth","scrollWidth");break;case"y":this.contentDomScrollSize.y=this.scrollBox.scrollHeight,k.call(this,"y","clientHeight","scrollHeight");break;case"xy":this.contentDomScrollSize.x=this.scrollBox.scrollWidth,this.contentDomScrollSize.y=this.scrollBox.scrollHeight,k.call(this,"x","clientWidth","scrollWidth"),k.call(this,"y","clientHeight","scrollHeight");break;default:this.contentDomScrollSize.y=this.scrollBox.scrollHeight,k.call(this,"y","clientHeight","scrollHeight")}}var C=function(){function t(e){l(this,t),this.contentDomSize={x:0,y:0},this.contentDomScrollSize={x:0,y:0},this.scrollDom={x:null,y:null},this.sliderDom={x:null,y:null},this.scrollDomSize={x:0,y:0},this.sliderDomSize={x:0,y:0},this.startClient={x:0,y:0},this.initOption(e),function(){"relative"!==getComputedStyle(this.scrollParent,null).position&&(this.scrollParent.style.position="relative")}.call(this),function(){switch(this.options.direction){case"x":H.call(this,"x","clientWidth","scrollWidth");break;case"y":H.call(this,"y","clientHeight","scrollHeight");break;case"xy":H.call(this,"x","clientWidth","scrollWidth"),H.call(this,"y","clientHeight","scrollHeight");break;default:H.call(this,"y","clientHeight","scrollHeight")}}.call(this),this.options.autoRefresh&&function(e,t,o){var l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=this,i=document.getElementById(e);if(l){var r=o||{attributes:!0,childList:!0,characterData:!0};new l(function(e){e.forEach(function(e){t.call(n)})}).observe(i,r)}else i.addEventListener("DOMNodeRemoved",function(e){t.call(n)},!1),i.addEventListener("DOMNodeInserted",function(e){t.call(n)},!1)}.call(this,this.options.id,W)}return E(t,[{key:"initOption",value:function(e){this.options={id:e.id,autoRefresh:void 0===e.autoRefresh||e.autoRefresh,size:e.size||5,direction:e.direction||"y",className:e.className||"",smallSize:void 0===e.smallSize?20:e.smallSize,xMousewheel:void 0===e.xMousewheel||e.xMousewheel,wheelDis:e.wheelDis||40},this.scrollBox=document.getElementById(e.id),this.scrollParent=this.scrollBox.parentNode}},{key:"refresh",value:function(){W.call(this)}},{key:"fixedPointScroll",value:function(e){(function(e){if(e.left){this.scrollBox.scrollLeft=e.left;var t=e.left*(this.scrollDomSize.x-this.sliderDomSize.x)/(this.contentDomScrollSize.x-this.contentDomSize.x);O(this.sliderDom.x,"translateX("+100*t/this.sliderDomSize.x+"%)")}if(e.top){this.scrollBox.scrollTop=e.top;var o=e.top*(this.scrollDomSize.y-this.sliderDomSize.y)/(this.contentDomScrollSize.y-this.contentDomSize.y);O(this.sliderDom.y,"translateY("+100*o/this.sliderDomSize.y+"%)")}}).call(this,e)}}]),t}();e.scrollBar=C,Object.defineProperty(e,"__esModule",{value:!0})});
