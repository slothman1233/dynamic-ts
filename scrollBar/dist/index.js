!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).indexjs={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t(o(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),y=o(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),D=o(function(e){var t=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=t)}),S=(D.version,function(n,l,e){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(n),void 0===l)return n;switch(e){case 1:return function(e){return n.call(l,e)};case 2:return function(e,t){return n.call(l,e,t)};case 3:return function(e,t,o){return n.call(l,e,t,o)}}return function(){return n.apply(l,arguments)}}),l=function(e){return"object"==typeof e?null!==e:"function"==typeof e},i=function(e){if(!l(e))throw TypeError(e+" is not an object!");return e},r=function(e){try{return!!e()}catch(e){return!0}},s=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c=y.document,a=l(c)&&l(c.createElement),u=!s&&!r(function(){return 7!=Object.defineProperty((e="div",a?c.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),h=Object.defineProperty,f={f:s?Object.defineProperty:function(e,t,o){if(i(e),t=function(e,t){if(!l(e))return e;var o,n;if(t&&"function"==typeof(o=e.toString)&&!l(n=o.call(e)))return n;if("function"==typeof(o=e.valueOf)&&!l(n=o.call(e)))return n;if(!t&&"function"==typeof(o=e.toString)&&!l(n=o.call(e)))return n;throw TypeError("Can't convert object to primitive value")}(t,!0),i(o),u)try{return h(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},x=s?function(e,t,o){return f.f(e,t,{enumerable:!((n=1)&n),configurable:!(2&n),writable:!(4&n),value:o});var n}:function(e,t,o){return e[t]=o,e},z={}.hasOwnProperty,w="prototype",b=function(e,t,o){var n,l,i,r,s,c=e&b.F,a=e&b.G,u=e&b.S,h=e&b.P,f=e&b.B,m=e&b.W,d=a?D:D[t]||(D[t]={}),v=d[w],p=a?y:u?y[t]:(y[t]||{})[w];for(n in a&&(o=t),o)(l=!c&&p&&void 0!==p[n])&&(r=d,s=n,z.call(r,s))||(i=l?p[n]:o[n],d[n]=a&&"function"!=typeof p[n]?o[n]:f&&l?S(i,y):m&&p[n]==i?function(n){var e=function(e,t,o){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,o)}return n.apply(this,arguments)};return e[w]=n[w],e}(i):h&&"function"==typeof i?S(Function.call,i):i,h&&((d.virtual||(d.virtual={}))[n]=i,e&b.R&&v&&!v[n]&&x(v,n,i)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128;var m=b;m(m.S+m.F*!s,"Object",{defineProperty:f.f});var d=D.Object,v=function(e,t,o){return d.defineProperty(e,t,o)},p=o(function(e){e.exports={default:v,__esModule:!0}});t(p);var E=t(o(function(e,t){t.__esModule=!0;var o,l=(o=p)&&o.__esModule?o:{default:o};t.default=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}()})),_=function(){function e(){n(this,e),this.addEvent=null,this.removeEvent=null,window.addEventListener?(this.addEvent=function(e,t,o){e.addEventListener(t,o,!1)},this.removeEvent=function(e,t,o){e.removeEventListener(t,o,!1)}):window.attachEvent&&(this.addEvent=function(e,t,o){e.attachEvent("on"+t,o)},this.removeEvent=function(e,t,o){e.detachEvent("on"+t,o)})}return E(e,null,[{key:"bind",value:function(){return null===this.instance&&(this.instance=new e),this.instance}}]),e}();_.instance=null;var g=_.bind();function N(){return 0<=window.navigator.userAgent.toLowerCase().indexOf("firefox")}function O(e,t){e.style.transform=t,e.style.webkitTransform=t,e.style.msTransform=t,e.style.mozTransform=t,e.style.oTransform=t}function B(e,t){var o={scrollRange:e.contentDomScrollSize[t]-e.contentDomSize[t],sliderRange:e.scrollDomSize[t]-e.sliderDomSize[t],scrollNumber:e.scrollBox.scrollTop,scrollType:"scrollTop",transformType:"translateY"};return"x"===t&&(o.scrollNumber=e.scrollBox.scrollLeft,o.scrollType="scrollLeft",o.transformType="translateX"),o}function M(e,t,o){if(!(t.contentDomScrollSize[o]<=t.contentDomSize[o])){var n=B(t,o),l=function(e,t,o,n,l){if(e.wheelDelta?0<e.wheelDelta:e.detail<0){if(o<=0)return null;try{e.preventDefault()}catch(e){}o-=t.options.wheelDis}else{if(n<=o)return null;try{e.preventDefault()}catch(e){}o+=t.options.wheelDis}return{scrollNumber:o=o<0?0:n<o?n:o,sliderScale:o*l/n}}(e,t,n.scrollNumber,n.scrollRange,n.sliderRange);l&&(t.scrollBox[n.scrollType]=l.scrollNumber,O(t.sliderDom[o],n.transformType+"("+100*l.sliderScale/t.sliderDomSize[o]+"%)"))}}function T(t,o){var n=this,l=document.documentElement,i=function(e){!function(e,t,o){var n="y"===o?e.clientY:e.clientX,l=n-t.startClient[o];t.startClient[o]=n;var i=B(t,o),r=function(e,t,o,n,l){try{e.preventDefault()}catch(e){}return o<=0&&t<0||n<=o&&0<t?null:{scrollNumber:o=(o+=t*n/l)<0?0:n<o?n:o,sliderScale:o*l/n}}(e,l,i.scrollNumber,i.scrollRange,i.sliderRange);r&&(t.scrollBox[i.scrollType]=r.scrollNumber,O(t.sliderDom[o],i.transformType+"("+100*r.sliderScale/t.sliderDomSize[o]+"%)"))}(e||window.event,n,t)};g.addEvent(l,"mousemove",i),g.addEvent(l,"mouseup",function e(t){t||window.event;0<=o.className.indexOf("stl_scroll_move_box")&&(o.className=o.className.replace(" stl_scroll_move_box","")),n.startClient={x:0,y:0},n.isScrollMove=0,g.removeEvent(l,"mousemove",i),g.removeEvent(l,"mouseup",e),N()?o.parentElement.parentElement.className=o.parentElement.parentElement.className.replace(" stl_scroll_unselect",""):o.parentElement.parentElement.onselectstart=function(){return!0}})}function P(t){var o=this,e=N()?"DOMMouseScroll":"mousewheel";("y"===t||"x"===this.options.direction&&this.options.xMousewheel)&&(g.addEvent(o.scrollBox,e,function(){var e=event||window.event;M.call(this,e,o,t)}),g.addEvent(o.scrollDom[t],e,function(){var e=event||window.event;M.call(this,e,o,t)})),g.addEvent(o.scrollDom[t],"click",function(){var e=event||window.event;"y"===t?function(e,t){if(!(e.target.className.indexOf("stl_yscroll_box")<0)){var o=e.offsetY-t.sliderDomSize.y/2;o=o<0?0:o>t.scrollDomSize.y-t.sliderDomSize.y?t.scrollDomSize.y-t.sliderDomSize.y:o;var n=(t.contentDomScrollSize.y-t.contentDomSize.y)*o/(t.scrollDomSize.y-t.sliderDomSize.y);t.scrollBox.scrollTop=n,O(t.sliderDom.y,"translateY("+100*o/t.sliderDomSize.y+"%)")}}.call(this,e,o,t):function(e,t){if(!(e.target.className.indexOf("stl_xscroll_box")<0)){var o=e.offsetX-t.sliderDomSize.x/2;o=o<0?0:o>t.scrollDomSize.x-t.sliderDomSize.x?t.scrollDomSize.x-t.sliderDomSize.x:o;var n=(t.contentDomScrollSize.x-t.contentDomSize.x)*o/(t.scrollDomSize.x-t.sliderDomSize.x);t.scrollBox.scrollLeft=n,O(t.sliderDom.x,"translateX("+100*o/t.sliderDomSize.x+"%)")}}.call(this,e,o,t)}),function(o,n){var l=this;g.addEvent(n,"mousedown",function(e){var t=e||window.event;N()?n.parentElement.parentElement.className=n.parentElement.parentElement.className+" stl_scroll_unselect":n.parentElement.parentElement.onselectstart=function(){return!1},n.className.indexOf("stl_scroll_move_box")<0&&(n.className=n.className+" stl_scroll_move_box"),l.startClient[o]="y"===o?t.clientY:t.clientX,T.call(l,o,n)})}.call(this,t,this.sliderDom[t])}function H(e,t,o){(function(e,t,o){this.contentDomSize[e]=this.scrollBox[t],this.contentDomScrollSize[e]=this.scrollBox[o]}).call(this,e,t,o),this.contentDomScrollSize[e]>this.contentDomSize[e]&&(k.call(this,e),R.call(this,e,t))}function j(e,t,o){this.contentDomScrollSize[e]<=this.contentDomSize[e]?this.scrollDom[e]&&(this.scrollDom[e].style.display="none"):(this.contentDomSize[e]||k.call(this,e),R.call(this,e,t))}function k(e){var t="stl_"+e+"scroll_box";this.scrollDom[e]=document.createElement("div"),this.sliderDom[e]=document.createElement("div"),this.scrollDom[e].className=""===this.options.className?t:t+" "+this.options.className,"y"===e?this.scrollDom[e].style.width=this.options.size+"px":this.scrollDom[e].style.height=this.options.size+"px",this.scrollDom[e].appendChild(this.sliderDom[e]),this.scrollParent.appendChild(this.scrollDom[e]),P.call(this,e)}function R(e,t){this.scrollDomSize[e]=this.scrollDom[e][t];var o=this.contentDomSize[e]*this.scrollDomSize[e]/this.contentDomScrollSize[e];this.sliderDomSize[e]=o>this.options.smallSize?o:this.options.smallSize,"x"===e?this.sliderDom[e].style.width=this.sliderDomSize[e]+"px":this.sliderDom[e].style.height=this.sliderDomSize[e]+"px"}function W(){switch(this.options.direction){case"x":this.contentDomScrollSize.x=this.scrollBox.scrollWidth,j.call(this,"x","clientWidth","scrollWidth");break;case"y":this.contentDomScrollSize.y=this.scrollBox.scrollHeight,j.call(this,"y","clientHeight","scrollHeight");break;case"xy":this.contentDomScrollSize.x=this.scrollBox.scrollWidth,this.contentDomScrollSize.y=this.scrollBox.scrollHeight,j.call(this,"x","clientWidth","scrollWidth"),j.call(this,"y","clientHeight","scrollHeight");break;default:this.contentDomScrollSize.y=this.scrollBox.scrollHeight,j.call(this,"y","clientHeight","scrollHeight")}}var C=function(){function t(e){n(this,t),this.contentDomSize={x:0,y:0},this.contentDomScrollSize={x:0,y:0},this.scrollDom={x:null,y:null},this.sliderDom={x:null,y:null},this.scrollDomSize={x:0,y:0},this.sliderDomSize={x:0,y:0},this.startClient={x:0,y:0},this.initOption(e),function(){"relative"!==getComputedStyle(this.scrollParent,null).position&&(this.scrollParent.style.position="relative")}.call(this),function(){switch(this.options.direction){case"x":H.call(this,"x","clientWidth","scrollWidth");break;case"y":H.call(this,"y","clientHeight","scrollHeight");break;case"xy":H.call(this,"x","clientWidth","scrollWidth"),H.call(this,"y","clientHeight","scrollHeight");break;default:H.call(this,"y","clientHeight","scrollHeight")}}.call(this),this.options.autoRefresh&&function(e,t,o){var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,l=this,i=document.getElementById(e);if(n){var r=o||{attributes:!0,childList:!0,characterData:!0};new n(function(e){e.forEach(function(e){t.call(l)})}).observe(i,r)}else i.addEventListener("DOMNodeRemoved",function(e){t.call(l)},!1),i.addEventListener("DOMNodeInserted",function(e){t.call(l)},!1)}.call(this,this.options.id,W)}return E(t,[{key:"initOption",value:function(e){this.options={id:e.id,autoRefresh:void 0===e.autoRefresh||e.autoRefresh,size:e.size||5,direction:e.direction||"y",className:e.className||"",smallSize:void 0===e.smallSize?20:e.smallSize,xMousewheel:void 0===e.xMousewheel||e.xMousewheel,wheelDis:e.wheelDis||40},this.scrollBox=document.getElementById(e.id),this.scrollParent=this.scrollBox.parentNode}},{key:"refresh",value:function(){W.call(this)}},{key:"fixedPointScroll",value:function(e){(function(e){if(e.left){this.scrollBox.scrollLeft=e.left;var t=e.left*(this.scrollDomSize.x-this.sliderDomSize.x)/(this.contentDomScrollSize.x-this.contentDomSize.x);O(this.sliderDom.x,"translateX("+100*t/this.sliderDomSize.x+"%)")}if(e.top){this.scrollBox.scrollTop=e.top;var o=e.top*(this.scrollDomSize.y-this.sliderDomSize.y)/(this.contentDomScrollSize.y-this.contentDomSize.y);O(this.sliderDom.y,"translateY("+100*o/this.sliderDomSize.y+"%)")}}).call(this,e)}}]),t}();e.scrollBar=C,Object.defineProperty(e,"__esModule",{value:!0})});
