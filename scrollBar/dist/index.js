!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).indexjs={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var o=t(n(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),y=n(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),D=n(function(e){var t=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=t)}),S=(D.version,function(o,l,e){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(o),void 0===l)return o;switch(e){case 1:return function(e){return o.call(l,e)};case 2:return function(e,t){return o.call(l,e,t)};case 3:return function(e,t,n){return o.call(l,e,t,n)}}return function(){return o.apply(l,arguments)}}),l=function(e){return"object"==typeof e?null!==e:"function"==typeof e},i=function(e){if(!l(e))throw TypeError(e+" is not an object!");return e},r=function(e){try{return!!e()}catch(e){return!0}},s=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c=y.document,a=l(c)&&l(c.createElement),u=!s&&!r(function(){return 7!=Object.defineProperty((e="div",a?c.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),f=Object.defineProperty,h={f:s?Object.defineProperty:function(e,t,n){if(i(e),t=function(e,t){if(!l(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!l(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!l(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!l(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}(t,!0),i(n),u)try{return f(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},x=s?function(e,t,n){return h.f(e,t,{enumerable:!((o=1)&o),configurable:!(2&o),writable:!(4&o),value:n});var o}:function(e,t,n){return e[t]=n,e},w={}.hasOwnProperty,z="prototype",b=function(e,t,n){var o,l,i,r,s,c=e&b.F,a=e&b.G,u=e&b.S,f=e&b.P,h=e&b.B,d=e&b.W,m=a?D:D[t]||(D[t]={}),v=m[z],p=a?y:u?y[t]:(y[t]||{})[z];for(o in a&&(n=t),n)(l=!c&&p&&void 0!==p[o])&&(r=m,s=o,w.call(r,s))||(i=l?p[o]:n[o],m[o]=a&&"function"!=typeof p[o]?n[o]:h&&l?S(i,y):d&&p[o]==i?function(o){var e=function(e,t,n){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(e);case 2:return new o(e,t)}return new o(e,t,n)}return o.apply(this,arguments)};return e[z]=o[z],e}(i):f&&"function"==typeof i?S(Function.call,i):i,f&&((m.virtual||(m.virtual={}))[o]=i,e&b.R&&v&&!v[o]&&x(v,o,i)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128;var d=b;d(d.S+d.F*!s,"Object",{defineProperty:h.f});var m=D.Object,v=function(e,t,n){return m.defineProperty(e,t,n)},p=n(function(e){e.exports={default:v,__esModule:!0}});t(p);var E=t(n(function(e,t){t.__esModule=!0;var n,l=(n=p)&&n.__esModule?n:{default:n};t.default=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,l.default)(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}()})),_=function(){function e(){o(this,e),this.addEvent=null,this.removeEvent=null,window.addEventListener?(this.addEvent=function(e,t,n){e.addEventListener(t,n,!1)},this.removeEvent=function(e,t,n){e.removeEventListener(t,n,!1)}):window.attachEvent&&(this.addEvent=function(e,t,n){e.attachEvent("on"+t,n)},this.removeEvent=function(e,t,n){e.detachEvent("on"+t,n)})}return E(e,null,[{key:"bind",value:function(){return null===this.instance&&(this.instance=new e),this.instance}}]),e}();_.instance=null;var g=_.bind();function N(){return 0<=window.navigator.userAgent.toLowerCase().indexOf("firefox")}function O(e,t){e.style.transform=t,e.style.webkitTransform=t,e.style.msTransform=t,e.style.mozTransform=t,e.style.oTransform=t}function M(e,t){var n={scrollRange:e.contentDomScrollSize[t]-e.contentDomSize[t],sliderRange:e.scrollDomSize[t]-e.sliderDomSize[t],scrollNumber:e.scrollBox.scrollTop,scrollType:"scrollTop",transformType:"translateY"};return"x"===t&&(n.scrollNumber=e.scrollBox.scrollLeft,n.scrollType="scrollLeft",n.transformType="translateX"),n}function B(e,t,n){if(!(t.contentDomScrollSize[n]<=t.contentDomSize[n])){var o=M(t,n),l=function(e,t,n,o,l){if(e.wheelDelta?0<e.wheelDelta:e.detail<0){if(n<=0)return null;try{e.preventDefault()}catch(e){}n-=t.options.wheelDis}else{if(o<=n)return null;try{e.preventDefault()}catch(e){}n+=t.options.wheelDis}return{scrollNumber:n=n<0?0:o<n?o:n,sliderScale:n*l/o}}(e,t,o.scrollNumber,o.scrollRange,o.sliderRange);l&&(t.scrollBox[o.scrollType]=l.scrollNumber,O(t.sliderDom[n],o.transformType+"("+100*l.sliderScale/t.sliderDomSize[n]+"%)"))}}function T(t,n){var o=this,l=document.documentElement,i=function(e){!function(e,t,n){var o="y"===n?e.clientY:e.clientX,l=o-t.startClient[n];t.startClient[n]=o;var i=M(t,n),r=function(e,t,n,o,l){try{e.preventDefault()}catch(e){}return n<=0&&t<0||o<=n&&0<t?null:{scrollNumber:n=(n+=t*o/l)<0?0:o<n?o:n,sliderScale:n*l/o}}(e,l,i.scrollNumber,i.scrollRange,i.sliderRange);r&&(t.scrollBox[i.scrollType]=r.scrollNumber,O(t.sliderDom[n],i.transformType+"("+100*r.sliderScale/t.sliderDomSize[n]+"%)"))}(e||window.event,o,t)};g.addEvent(l,"mousemove",i),g.addEvent(l,"mouseup",function e(t){t||window.event;0<=n.className.indexOf("stl_scroll_move_box")&&(n.className=n.className.replace(" stl_scroll_move_box","")),o.startClient={x:0,y:0},o.isScrollMove=0,g.removeEvent(l,"mousemove",i),g.removeEvent(l,"mouseup",e),N()?n.parentElement.parentElement.className=n.parentElement.parentElement.className.replace(" stl_scroll_unselect",""):n.parentElement.parentElement.onselectstart=function(){return!0}})}function H(t){var n=this,e=N()?"DOMMouseScroll":"mousewheel";("y"===t||"x"===this.options.direction&&this.options.xMousewheel)&&(g.addEvent(n.scrollBox,e,function(){var e=event||window.event;B.call(this,e,n,t)}),g.addEvent(n.scrollDom[t],e,function(){var e=event||window.event;B.call(this,e,n,t)})),g.addEvent(n.scrollDom[t],"click",function(){var e=event||window.event;"y"===t?function(e,t){if(!(e.target.className.indexOf("stl_yscroll_box")<0)){var n=e.offsetY-t.sliderDomSize.y/2;n=n<0?0:n>t.scrollDomSize.y-t.sliderDomSize.y?t.scrollDomSize.y-t.sliderDomSize.y:n;var o=(t.contentDomScrollSize.y-t.contentDomSize.y)*n/(t.scrollDomSize.y-t.sliderDomSize.y);t.scrollBox.scrollTop=o,O(t.sliderDom.y,"translateY("+100*n/t.sliderDomSize.y+"%)")}}.call(this,e,n,t):function(e,t){if(!(e.target.className.indexOf("stl_xscroll_box")<0)){var n=e.offsetX-t.sliderDomSize.x/2;n=n<0?0:n>t.scrollDomSize.x-t.sliderDomSize.x?t.scrollDomSize.x-t.sliderDomSize.x:n;var o=(t.contentDomScrollSize.x-t.contentDomSize.x)*n/(t.scrollDomSize.x-t.sliderDomSize.x);t.scrollBox.scrollLeft=o,O(t.sliderDom.x,"translateX("+100*n/t.sliderDomSize.x+"%)")}}.call(this,e,n,t)}),function(n,o){var l=this;g.addEvent(o,"mousedown",function(e){var t=e||window.event;N()?o.parentElement.parentElement.className=o.parentElement.parentElement.className+" stl_scroll_unselect":o.parentElement.parentElement.onselectstart=function(){return!1},o.className.indexOf("stl_scroll_move_box")<0&&(o.className=o.className+" stl_scroll_move_box"),l.startClient[n]="y"===n?t.clientY:t.clientX,T.call(l,n,o)})}.call(this,t,this.sliderDom[t])}function P(e,t,n){(function(e,t,n){this.contentDomSize[e]=this.scrollBox[t],this.contentDomScrollSize[e]=this.scrollBox[n]}).call(this,e,t,n),this.contentDomScrollSize[e]>this.contentDomSize[e]&&(R.call(this,e),W.call(this,e,t))}function j(e,t,n){this.contentDomScrollSize[e]<=this.contentDomSize[e]?this.scrollDom[e]&&(this.scrollDom[e].style.display="none"):(this.contentDomSize[e]||R.call(this,e),W.call(this,e,t))}function R(e){var t="stl_"+e+"scroll_box";this.scrollDom[e]=document.createElement("div"),this.sliderDom[e]=document.createElement("div"),this.scrollDom[e].className=""===this.options.className?t:t+" "+this.options.className,"y"===e?this.scrollDom[e].style.width=this.options.size+"px":this.scrollDom[e].style.height=this.options.size+"px",this.scrollDom[e].appendChild(this.sliderDom[e]),this.scrollParent.appendChild(this.scrollDom[e]),H.call(this,e)}function W(e,t){this.scrollDomSize[e]=this.scrollDom[e][t];var n=this.contentDomSize[e]*this.scrollDomSize[e]/this.contentDomScrollSize[e];this.sliderDomSize[e]=n>this.options.smallSize?n:this.options.smallSize,"x"===e?this.sliderDom[e].style.width=this.sliderDomSize[e]+"px":this.sliderDom[e].style.height=this.sliderDomSize[e]+"px"}function k(){switch(this.options.direction){case"x":this.contentDomScrollSize.x=this.scrollBox.scrollWidth,j.call(this,"x","clientWidth","scrollWidth");break;case"y":this.contentDomScrollSize.y=this.scrollBox.scrollHeight,j.call(this,"y","clientHeight","scrollHeight");break;case"xy":this.contentDomScrollSize.x=this.scrollBox.scrollWidth,this.contentDomScrollSize.y=this.scrollBox.scrollHeight,j.call(this,"x","clientWidth","scrollWidth"),j.call(this,"y","clientHeight","scrollHeight");break;default:this.contentDomScrollSize.y=this.scrollBox.scrollHeight,j.call(this,"y","clientHeight","scrollHeight")}}var C=function(){function t(e){o(this,t),this.contentDomSize={x:0,y:0},this.contentDomScrollSize={x:0,y:0},this.scrollDom={x:null,y:null},this.sliderDom={x:null,y:null},this.scrollDomSize={x:0,y:0},this.sliderDomSize={x:0,y:0},this.startClient={x:0,y:0},this.initOption(e),function(){"relative"!==getComputedStyle(this.scrollParent,null).position&&(this.scrollParent.style.position="relative")}.call(this),function(){switch(this.options.direction){case"x":P.call(this,"x","clientWidth","scrollWidth");break;case"y":P.call(this,"y","clientHeight","scrollHeight");break;case"xy":P.call(this,"x","clientWidth","scrollWidth"),P.call(this,"y","clientHeight","scrollHeight");break;default:P.call(this,"y","clientHeight","scrollHeight")}}.call(this),this.options.autoRefresh&&function(e,t,n){var o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,l=this,i=document.getElementById(e);if(o){var r=n||{attributes:!0,childList:!0,characterData:!0};new o(function(e){e.forEach(function(e){t.call(l)})}).observe(i,r)}else i.addEventListener("DOMNodeRemoved",function(e){t.call(l)},!1),i.addEventListener("DOMNodeInserted",function(e){t.call(l)},!1)}.call(this,this.options.id,k)}return E(t,[{key:"initOption",value:function(e){this.options={id:e.id,autoRefresh:void 0===e.autoRefresh||e.autoRefresh,size:e.size||5,direction:e.direction||"y",className:e.className||"",smallSize:void 0===e.smallSize?20:e.smallSize,xMousewheel:void 0===e.xMousewheel||e.xMousewheel,wheelDis:e.wheelDis||40},this.scrollBox=document.getElementById(e.id),this.scrollParent=this.scrollBox.parentNode}},{key:"refresh",value:function(){k.call(this)}}]),t}();e.scrollBar=C,Object.defineProperty(e,"__esModule",{value:!0})});
