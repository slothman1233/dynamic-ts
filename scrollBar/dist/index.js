!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).indexjs={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t(l(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),v=l(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),D=l(function(e){var t=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=t)}),S=(D.version,function(n,o,e){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(n),void 0===o)return n;switch(e){case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,l){return n.call(o,e,t,l)}}return function(){return n.apply(o,arguments)}}),o=function(e){return"object"==typeof e?null!==e:"function"==typeof e},i=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e},r=function(e){try{return!!e()}catch(e){return!0}},s=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c=v.document,a=o(c)&&o(c.createElement),u=!s&&!r(function(){return 7!=Object.defineProperty((e="div",a?c.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),h=Object.defineProperty,f={f:s?Object.defineProperty:function(e,t,l){if(i(e),t=function(e,t){if(!o(e))return e;var l,n;if(t&&"function"==typeof(l=e.toString)&&!o(n=l.call(e)))return n;if("function"==typeof(l=e.valueOf)&&!o(n=l.call(e)))return n;if(!t&&"function"==typeof(l=e.toString)&&!o(n=l.call(e)))return n;throw TypeError("Can't convert object to primitive value")}(t,!0),i(l),u)try{return h(e,t,l)}catch(e){}if("get"in l||"set"in l)throw TypeError("Accessors not supported!");return"value"in l&&(e[t]=l.value),e}},x=s?function(e,t,l){return f.f(e,t,{enumerable:!((n=1)&n),configurable:!(2&n),writable:!(4&n),value:l});var n}:function(e,t,l){return e[t]=l,e},z={}.hasOwnProperty,w="prototype",b=function(e,t,l){var n,o,i,r,s,c=e&b.F,a=e&b.G,u=e&b.S,h=e&b.P,f=e&b.B,d=e&b.W,m=a?D:D[t]||(D[t]={}),p=m[w],y=a?v:u?v[t]:(v[t]||{})[w];for(n in a&&(l=t),l)(o=!c&&y&&void 0!==y[n])&&(r=m,s=n,z.call(r,s))||(i=o?y[n]:l[n],m[n]=a&&"function"!=typeof y[n]?l[n]:f&&o?S(i,v):d&&y[n]==i?function(n){var e=function(e,t,l){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,l)}return n.apply(this,arguments)};return e[w]=n[w],e}(i):h&&"function"==typeof i?S(Function.call,i):i,h&&((m.virtual||(m.virtual={}))[n]=i,e&b.R&&p&&!p[n]&&x(p,n,i)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128;var d=b;d(d.S+d.F*!s,"Object",{defineProperty:f.f});var m=D.Object,p=function(e,t,l){return m.defineProperty(e,t,l)},y=l(function(e){e.exports={default:p,__esModule:!0}});t(y);var E=t(l(function(e,t){t.__esModule=!0;var l,o=(l=y)&&l.__esModule?l:{default:l};t.default=function(){function n(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(e,t,l){return t&&n(e.prototype,t),l&&n(e,l),e}}()})),g=function(){function e(){n(this,e),this.addEvent=null,this.removeEvent=null,window.addEventListener?(this.addEvent=function(e,t,l){e.addEventListener(t,l,!1)},this.removeEvent=function(e,t,l){e.removeEventListener(t,l,!1)}):window.attachEvent&&(this.addEvent=function(e,t,l){e.attachEvent("on"+t,l)},this.removeEvent=function(e,t,l){e.detachEvent("on"+t,l)})}return E(e,null,[{key:"bind",value:function(){return null===this.instance&&(this.instance=new e),this.instance}}]),e}();g.instance=null;var _=g.bind();function N(){return 0<=window.navigator.userAgent.toLowerCase().indexOf("firefox")}function O(e,t){e.style.transform=t,e.style.webkitTransform=t,e.style.msTransform=t,e.style.mozTransform=t,e.style.oTransform=t}function M(e,t){var l={scrollRange:e.contentDomScrollSize[t]-e.contentDomSize[t],sliderRange:e.scrollDomSize[t]-e.sliderDomSize[t],scrollNumber:e.scrollBox.scrollTop,scrollType:"scrollTop",transformType:"translateY"};return"x"===t&&(l.scrollNumber=e.scrollBox.scrollLeft,l.scrollType="scrollLeft",l.transformType="translateX"),l}function T(e,t,l){if(!(t.contentDomScrollSize[l]<=t.contentDomSize[l])){var n=M(t,l),o=function(e,t,l,n,o){if(e.wheelDelta?0<e.wheelDelta:e.detail<0){if(l<=0)return null;try{e.preventDefault()}catch(e){}l-=t.options.wheelDis}else{if(n<=l)return null;try{e.preventDefault()}catch(e){}l+=t.options.wheelDis}return{scrollNumber:l=l<0?0:n<l?n:l,sliderScale:l*o/n}}(e,t,n.scrollNumber,n.scrollRange,n.sliderRange);o&&(t.scrollBox[n.scrollType]=o.scrollNumber,O(t.sliderDom[l],n.transformType+"("+100*o.sliderScale/t.sliderDomSize[l]+"%)"))}}function B(t,l){var n=this,o=document.documentElement,i=function(e){!function(e,t,l){var n="y"===l?e.clientY:e.clientX,o=n-t.startClient[l];t.startClient[l]=n;var i=M(t,l),r=function(e,t,l,n,o){try{e.preventDefault()}catch(e){}return l<=0&&t<0||n<=l&&0<t?null:{scrollNumber:l=(l+=t*n/o)<0?0:n<l?n:l,sliderScale:l*o/n}}(e,o,i.scrollNumber,i.scrollRange,i.sliderRange);r&&(t.scrollBox[i.scrollType]=r.scrollNumber,O(t.sliderDom[l],i.transformType+"("+100*r.sliderScale/t.sliderDomSize[l]+"%)"))}(e||window.event,n,t)};_.addEvent(o,"mousemove",i),_.addEvent(o,"mouseup",function e(t){t||window.event;0<=l.className.indexOf("stl_scroll_move_box")&&(l.className=l.className.replace(" stl_scroll_move_box","")),n.startClient={x:0,y:0},n.isScrollMove=0,_.removeEvent(o,"mousemove",i),_.removeEvent(o,"mouseup",e),N()?l.parentElement.parentElement.className=l.parentElement.parentElement.className.replace(" stl_scroll_unselect",""):l.parentElement.parentElement.onselectstart=function(){return!0}})}function H(t){var l=this,e=N()?"DOMMouseScroll":"mousewheel";("y"===t||"x"===this.options.direction&&this.options.xMousewheel)&&(_.addEvent(l.scrollBox,e,function(){var e=event||window.event;T.call(this,e,l,t)}),_.addEvent(l.scrollDom[t],e,function(){var e=event||window.event;T.call(this,e,l,t)})),_.addEvent(l.scrollDom[t],"click",function(){var e=event||window.event;"y"===t?function(e,t){if(!(e.target.className.indexOf("stl_yscroll_box")<0)){var l=e.offsetY-t.sliderDomSize.y/2;l=l<0?0:l>t.scrollDomSize.y-t.sliderDomSize.y?t.scrollDomSize.y-t.sliderDomSize.y:l;var n=(t.contentDomScrollSize.y-t.contentDomSize.y)*l/(t.scrollDomSize.y-t.sliderDomSize.y);t.scrollBox.scrollTop=n,O(t.sliderDom.y,"translateY("+100*l/t.sliderDomSize.y+"%)")}}.call(this,e,l,t):function(e,t){if(!(e.target.className.indexOf("stl_xscroll_box")<0)){var l=e.offsetX-t.sliderDomSize.x/2;l=l<0?0:l>t.scrollDomSize.x-t.sliderDomSize.x?t.scrollDomSize.x-t.sliderDomSize.x:l;var n=(t.contentDomScrollSize.x-t.contentDomSize.x)*l/(t.scrollDomSize.x-t.sliderDomSize.x);t.scrollBox.scrollLeft=n,O(t.sliderDom.x,"translateX("+100*l/t.sliderDomSize.x+"%)")}}.call(this,e,l,t)}),function(l,n){var o=this;_.addEvent(n,"mousedown",function(e){var t=e||window.event;N()?n.parentElement.parentElement.className=n.parentElement.parentElement.className+" stl_scroll_unselect":n.parentElement.parentElement.onselectstart=function(){return!1},n.className.indexOf("stl_scroll_move_box")<0&&(n.className=n.className+" stl_scroll_move_box"),o.startClient[l]="y"===l?t.clientY:t.clientX,B.call(o,l,n)})}.call(this,t,this.sliderDom[t])}function P(e,t,l){k.call(this,e,t,l),this.contentDomScrollSize[e]>this.contentDomSize[e]&&(j.call(this,e),R.call(this,e,t))}function W(e,t,l){this.contentDomScrollSize[e]<=this.contentDomSize[e]?this.scrollDom[e]&&(this.scrollDom[e].style.display="none"):(this.scrollDom[e]?"none"===this.scrollDom[e].style.display&&(this.scrollDom[e].style.display="block"):j.call(this,e),R.call(this,e,t))}function k(e,t,l){this.contentDomSize[e]=this.scrollBox[t],this.contentDomScrollSize[e]=this.scrollBox[l]}function j(e){var t="stl_"+e+"scroll_box";this.scrollDom[e]=document.createElement("div"),this.sliderDom[e]=document.createElement("div"),this.scrollDom[e].className=""===this.options.className?t:t+" "+this.options.className,"y"===e?this.scrollDom[e].style.width=this.options.size+"px":this.scrollDom[e].style.height=this.options.size+"px",this.scrollDom[e].appendChild(this.sliderDom[e]),this.scrollParent.appendChild(this.scrollDom[e]),H.call(this,e)}function R(e,t){this.scrollDomSize[e]=this.scrollDom[e][t];var l=this.contentDomSize[e]*this.scrollDomSize[e]/this.contentDomScrollSize[e];this.sliderDomSize[e]=l>this.options.smallSize?l:this.options.smallSize,"x"===e?this.sliderDom[e].style.width=this.sliderDomSize[e]+"px":this.sliderDom[e].style.height=this.sliderDomSize[e]+"px"}function L(e){switch(this.options.direction){case"x":k.call(this,"x","clientWidth","scrollWidth"),W.call(this,"x","clientWidth","scrollWidth");break;case"y":k.call(this,"y","clientHeight","scrollHeight"),W.call(this,"y","clientHeight","scrollHeight");break;case"xy":k.call(this,"x","clientWidth","scrollWidth"),k.call(this,"y","clientHeight","scrollHeight"),W.call(this,"x","clientWidth","scrollWidth"),W.call(this,"y","clientHeight","scrollHeight");break;default:k.call(this,"y","clientHeight","scrollHeight"),W.call(this,"y","clientHeight","scrollHeight")}}var C=function(){function t(e){n(this,t),this.contentDomSize={x:0,y:0},this.contentDomScrollSize={x:0,y:0},this.scrollDom={x:null,y:null},this.sliderDom={x:null,y:null},this.scrollDomSize={x:0,y:0},this.sliderDomSize={x:0,y:0},this.startClient={x:0,y:0},this.initOption(e),function(){"relative"!==getComputedStyle(this.scrollParent,null).position&&(this.scrollParent.style.position="relative")}.call(this),function(){switch(this.options.direction){case"x":P.call(this,"x","clientWidth","scrollWidth");break;case"y":P.call(this,"y","clientHeight","scrollHeight");break;case"xy":P.call(this,"x","clientWidth","scrollWidth"),P.call(this,"y","clientHeight","scrollHeight");break;default:P.call(this,"y","clientHeight","scrollHeight")}}.call(this),this.options.autoRefresh&&function(e,t,l){var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,o=this,i=document.getElementById(e);if(n){var r=l||{attributes:!0,childList:!0,characterData:!0};new n(function(e){e.forEach(function(e){t.call(o)})}).observe(i,r)}else i.addEventListener("DOMNodeRemoved",function(e){t.call(o)},!1),i.addEventListener("DOMNodeInserted",function(e){t.call(o)},!1)}.call(this,this.options.id,L)}return E(t,[{key:"initOption",value:function(e){this.options={id:e.id,autoRefresh:void 0===e.autoRefresh||e.autoRefresh,size:e.size||5,direction:e.direction||"y",className:e.className||"",smallSize:void 0===e.smallSize?20:e.smallSize,xMousewheel:void 0===e.xMousewheel||e.xMousewheel,wheelDis:e.wheelDis||40},this.scrollBox=document.getElementById(e.id),this.scrollParent=this.scrollBox.parentNode}},{key:"refresh",value:function(){L.call(this,!0)}},{key:"fixedPointScroll",value:function(e){(function(e){if(e.hasOwnProperty("left")){var t=this.contentDomScrollSize.x-this.contentDomSize.x;this.scrollBox.scrollLeft=e.left>t?t:e.left;var l=this.scrollBox.scrollLeft*(this.scrollDomSize.x-this.sliderDomSize.x)/(this.contentDomScrollSize.x-this.contentDomSize.x);O(this.sliderDom.x,"translateX("+100*l/this.sliderDomSize.x+"%)")}if(e.hasOwnProperty("top")){var n=this.contentDomScrollSize.y-this.contentDomSize.y;this.scrollBox.scrollTop=e.top>n?n:e.top;var o=this.scrollBox.scrollTop*(this.scrollDomSize.y-this.sliderDomSize.y)/(this.contentDomScrollSize.y-this.contentDomSize.y);O(this.sliderDom.y,"translateY("+100*o/this.sliderDomSize.y+"%)")}}).call(this,e)}}]),t}();e.scrollBar=C,Object.defineProperty(e,"__esModule",{value:!0})});
