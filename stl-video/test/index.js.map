{"version":3,"file":"index.js","sources":["../node_modules/core-js/library/modules/_defined.js","../node_modules/core-js/library/modules/_to-object.js","../node_modules/core-js/library/modules/_has.js","../node_modules/core-js/library/modules/_cof.js","../node_modules/core-js/library/modules/_iobject.js","../node_modules/core-js/library/modules/_to-iobject.js","../node_modules/core-js/library/modules/_to-integer.js","../node_modules/core-js/library/modules/_to-length.js","../node_modules/core-js/library/modules/_to-absolute-index.js","../node_modules/core-js/library/modules/_array-includes.js","../node_modules/core-js/library/modules/_core.js","../node_modules/core-js/library/modules/_global.js","../node_modules/core-js/library/modules/_library.js","../node_modules/core-js/library/modules/_shared.js","../node_modules/core-js/library/modules/_uid.js","../node_modules/core-js/library/modules/_shared-key.js","../node_modules/core-js/library/modules/_object-keys-internal.js","../node_modules/core-js/library/modules/_enum-bug-keys.js","../node_modules/core-js/library/modules/_object-keys.js","../node_modules/core-js/library/modules/_a-function.js","../node_modules/core-js/library/modules/_ctx.js","../node_modules/core-js/library/modules/_is-object.js","../node_modules/core-js/library/modules/_an-object.js","../node_modules/core-js/library/modules/_fails.js","../node_modules/core-js/library/modules/_descriptors.js","../node_modules/core-js/library/modules/_dom-create.js","../node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/core-js/library/modules/_to-primitive.js","../node_modules/core-js/library/modules/_object-dp.js","../node_modules/core-js/library/modules/_property-desc.js","../node_modules/core-js/library/modules/_hide.js","../node_modules/core-js/library/modules/_export.js","../node_modules/core-js/library/modules/_object-sap.js","../node_modules/core-js/library/modules/es6.object.keys.js","../node_modules/core-js/library/fn/object/keys.js","../node_modules/babel-runtime/core-js/object/keys.js","../node_modules/core-js/library/modules/_string-at.js","../node_modules/core-js/library/modules/_redefine.js","../node_modules/core-js/library/modules/_object-dps.js","../node_modules/core-js/library/modules/_html.js","../node_modules/core-js/library/modules/_object-create.js","../node_modules/core-js/library/modules/_wks.js","../node_modules/core-js/library/modules/_set-to-string-tag.js","../node_modules/core-js/library/modules/_iter-create.js","../node_modules/core-js/library/modules/_object-gpo.js","../node_modules/core-js/library/modules/_iter-define.js","../node_modules/core-js/library/modules/es6.string.iterator.js","../node_modules/core-js/library/modules/_iter-step.js","../node_modules/core-js/library/modules/es6.array.iterator.js","../node_modules/core-js/library/modules/web.dom.iterable.js","../node_modules/core-js/library/modules/_wks-ext.js","../node_modules/core-js/library/fn/symbol/iterator.js","../node_modules/babel-runtime/core-js/symbol/iterator.js","../node_modules/core-js/library/modules/_meta.js","../node_modules/core-js/library/modules/_wks-define.js","../node_modules/core-js/library/modules/_object-gops.js","../node_modules/core-js/library/modules/_object-pie.js","../node_modules/core-js/library/modules/_enum-keys.js","../node_modules/core-js/library/modules/_is-array.js","../node_modules/core-js/library/modules/_object-gopn.js","../node_modules/core-js/library/modules/_object-gopn-ext.js","../node_modules/core-js/library/modules/_object-gopd.js","../node_modules/core-js/library/modules/es6.symbol.js","../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../node_modules/core-js/library/modules/es7.symbol.observable.js","../node_modules/core-js/library/fn/symbol/index.js","../node_modules/babel-runtime/core-js/symbol.js","../node_modules/babel-runtime/helpers/typeof.js","../node_modules/core-js/library/modules/es6.object.get-own-property-names.js","../node_modules/core-js/library/fn/object/get-own-property-names.js","../node_modules/babel-runtime/core-js/object/get-own-property-names.js","../node_modules/core-js/library/modules/_object-assign.js","../node_modules/core-js/library/modules/es6.object.assign.js","../node_modules/core-js/library/fn/object/assign.js","../node_modules/babel-runtime/core-js/object/assign.js","../node_modules/fetch-polyfill2/dist/index.js","../node_modules/babel-runtime/core-js/object/keys.js","../node_modules/core-js/library/fn/json/stringify.js","../node_modules/babel-runtime/core-js/json/stringify.js","../src/utils/mux/mux.js"],"sourcesContent":["// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","module.exports = true;\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: 'Â© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = require('./_hide');\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","exports.f = require('./_wks');\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function () {\n  return require('./_object-gopn-ext').f;\n});\n","require('../../modules/es6.object.get-own-property-names');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyNames(it) {\n  return $Object.getOwnPropertyNames(it);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-names\"), __esModule: true };","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fetch\"] = factory();\n\telse\n\t\troot[\"fetch\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Request = __webpack_require__(1)\n\tvar Response = __webpack_require__(5)\n\tvar Headers = __webpack_require__(2)\n\tvar Transport = __webpack_require__(6)\n\n\tif (![].forEach) {\n\t    Array.prototype.forEach = function (fn, scope) {\n\t        'use strict'\n\t        var i, len\n\t        for (i = 0, len = this.length; i < len; ++i) {\n\t            if (i in this) {\n\t                fn.call(scope, this[i], i, this)\n\t            }\n\t        }\n\t    }\n\t}\n\tif (!'å¸å¾æ­£ç¾'.trim) {\n\t    var rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g\n\t    String.prototype.trim = function () {\n\t        return this.replace(rtrim, '')\n\t    }\n\t}\n\tfunction headers(xhr) {\n\t    var head = new Headers()\n\t    if (xhr.getAllResponseHeaders) {\n\t        var headerStr = xhr.getAllResponseHeaders() || ''\n\t        if (/\\S/.test(headerStr)) {\n\t            //http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method\n\t            var headerPairs = headerStr.split('\\u000d\\u000a');\n\t            for (var i = 0; i < headerPairs.length; i++) {\n\t                var headerPair = headerPairs[i];\n\t                // Can't use split() here because it does the wrong thing\n\t                // if the header value has the string \": \" in it.\n\t                var index = headerPair.indexOf('\\u003a\\u0020')\n\t                if (index > 0) {\n\t                    var key = headerPair.substring(0, index).trim()\n\t                    var value = headerPair.substring(index + 2).trim()\n\t                    head.append(key, value)\n\t                }\n\t            }\n\t        }\n\t    }\n\t    return head\n\t}\n\tfunction fetch(input, init) {\n\t    return new Promise(function (resolve, reject) {\n\t        var request\n\t        if (!init && (init instanceof Request)) {\n\t            request = input\n\t        } else {\n\t            request = new Request(input, init)\n\t        }\n\t     \n\n\t        var xhr = new Transport(request)\n\t        function responseURL() {\n\t            if ('responseURL' in xhr) {\n\t                return xhr.responseURL\n\t            }\n\t            // Avoid security warnings on getResponseHeader when not allowed by CORS\n\t            if (xhr.getResponseHeader && /^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n\t                return xhr.getResponseHeader('X-Request-URL')\n\t            }\n\n\t            return\n\t        }\n\n\t        xhr.on('load', function (event) {\n\t            var options = {\n\t                status: event.status,\n\t                statusText: event.statusText,\n\t                headers: headers(event),\n\t                url: responseURL()\n\t            }\n\t            var body = 'response' in event ? event.response : event.responseText\n\t            resolve(new Response(body, options))\n\t        })\n\t        xhr.on('error', function () {\n\t            reject(new TypeError('Network request failed'))\n\t        })\n\t        xhr.on('timeout', function () {\n\t            reject(new TypeError('Network request timeout'))\n\t        })\n\n\t        xhr.open(request.method, request.url, true)\n\n\t        request.headers.forEach(function (value, name) {\n\t            xhr.setRequestHeader(name, value)\n\t        })\n\n\t        xhr.send(typeof request._body === 'undefined' ? null : request._body)\n\t    })\n\t}\n\tfunction notFunc(a){\n\t  return  !/\\scode\\]\\s+\\}$/.test(a)\n\t}\n\tif (notFunc(window.fetch)) {\n\t    window.fetch = fetch\n\t}\n\tif (typeof avalon === 'function') {\n\t    avalon.fetch = fetch\n\t}\n\tmodule.exports = fetch\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Headers = __webpack_require__(2)\n\tvar Body = __webpack_require__(4)\n\n\tfunction Request(input, options) {\n\t    options = options || {}\n\t    var body = options.body\n\t    if (input instanceof Request) {\n\t        if (input.bodyUsed) {\n\t            throw new TypeError('Already read')\n\t        }\n\t        this.url = input.url\n\t        this.credentials = input.credentials\n\t        if (!options.headers) {\n\t            var h = this.headers = new Headers(input.headers)\n\t            if(!h.map['x-requested-with']){\n\t                h.set('X-Requested-With', 'XMLHttpRequest')\n\t            }\n\t        }\n\t        this.method = input.method\n\t        this.mode = input.mode\n\t        if (!body) {\n\t            body = input._body\n\t            input.bodyUsed = true\n\t        }\n\t    } else {\n\t        this.url = input\n\t    }\n\n\t    this.credentials = options.credentials || this.credentials || 'omit'\n\t    if (options.headers || !this.headers) {\n\t        this.headers = new Headers(options.headers)\n\t    }\n\t    this.method = (options.method || this.method || 'GET').toUpperCase()\n\t    this.mode = options.mode || this.mode || null\n\t    this.referrer = null\n\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n\t        throw new TypeError('Body not allowed for GET or HEAD requests')\n\t    }\n\t    this._initBody(body)\n\t}\n\n\tRequest.prototype.clone = function () {\n\t    return new Request(this)\n\t}\n\n\tvar F = function(){} \n\tF.prototype = Body.prototype \n\tRequest.prototype = new F() \n\n\tmodule.exports = Request\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar support = __webpack_require__(3)\n\n\tfunction Headers(headers) {\n\t    this.map = {}\n\t    if (headers instanceof Headers) {\n\t        headers.forEach(function (value, name) {\n\t            this.append(name, value)\n\t        }, this)\n\n\t    } else if (headers) {\n\t        for (var name in headers) {\n\t            if (headers.hasOwnProperty(name)) {\n\t                this.append(name, headers[name])\n\t            }\n\t        }\n\n\t    }\n\t}\n\n\tHeaders.prototype.append = function (name, value) {\n\t    name = normalizeName(name)\n\t    value = normalizeValue(value)\n\t    var list = this.map[name]\n\t    if (!list) {\n\t        list = []\n\t        this.map[name] = list\n\t    }\n\t    list.push(value)\n\t}\n\n\tHeaders.prototype['delete'] = function (name) {\n\t    delete this.map[normalizeName(name)]\n\t}\n\n\tHeaders.prototype.get = function (name) {\n\t    var values = this.map[normalizeName(name)]\n\t    return values ? values[0] : null\n\t}\n\n\tHeaders.prototype.getAll = function (name) {\n\t    return this.map[normalizeName(name)] || []\n\t}\n\n\tHeaders.prototype.has = function (name) {\n\t    return this.map.hasOwnProperty(normalizeName(name))\n\t}\n\n\tHeaders.prototype.set = function (name, value) {\n\t    this.map[normalizeName(name)] = [normalizeValue(value)]\n\t}\n\n\tHeaders.prototype.forEach = function (callback, thisArg) {\n\t    for (var name in this.map) {\n\t        if (this.map.hasOwnProperty(name)) {\n\t            this.map[name].forEach(function (value) {\n\t                callback.call(thisArg, value, name, this)\n\t            }, this)\n\t        }\n\t    }\n\t}\n\n\tHeaders.prototype.keys = function () {\n\t    var items = []\n\t    this.forEach(function (value, name) {\n\t        items.push(name)\n\t    })\n\t    return iteratorFor(items)\n\t}\n\n\tHeaders.prototype.values = function () {\n\t    var items = []\n\t    this.forEach(function (value) {\n\t        items.push(value)\n\t    })\n\t    return iteratorFor(items)\n\t}\n\n\tHeaders.prototype.entries = function () {\n\t    var items = []\n\t    this.forEach(function (value, name) {\n\t        items.push([name, value])\n\t    })\n\t    return iteratorFor(items)\n\t}\n\n\t  if (support.iterable) {\n\t    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n\t  }\n\n\tfunction normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t        name = String(name)\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t        throw new TypeError('Invalid character in header field name')\n\t    }\n\t    return name.toLowerCase()\n\t}\n\n\tfunction normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t        value = String(value)\n\t    }\n\t    return value\n\t}\n\n\tmodule.exports = Headers\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t    searchParams: 'URLSearchParams' in window,\n\t    iterable: 'Symbol' in window && 'iterator' in window,\n\t    blob: 'FileReader' in window && 'Blob' in window && (function () {\n\t        try {\n\t            new Blob()\n\t            return true\n\t        } catch (e) {\n\t            return false\n\t        }\n\t    })(),\n\t    formData: 'FormData' in window,\n\t    arrayBuffer: 'ArrayBuffer' in window\n\t}\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar support = __webpack_require__(3)\n\n\tfunction Body() {\n\t    this.bodyUsed = false\n\t}\n\tvar p = Body.prototype\n\n\t'text,blob,formData,json,arrayBuffer'.replace(/\\w+/g, function (method) {\n\t    p[method] = function () {\n\t        return consumeBody(this).then(function (body) {\n\t            return convertBody(body, method)\n\t        })\n\t    }\n\t})\n\n\tp._initBody = function (body) {\n\t    this._body = body\n\t    if (!this.headers.get('content-type')) {\n\t        var a = bodyType(body)\n\t        switch (a) {\n\t            case 'text':\n\t                this.headers.set('content-type', 'text/plain;charset=UTF-8')\n\t                break\n\t            case 'blob':\n\t                if (body && body.type) {\n\t                    this.headers.set('content-type', body.type)\n\t                }\n\t                break\n\t            case 'searchParams':\n\t                this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n\t                break\n\t        }\n\t    }\n\t}\n\n\tfunction consumeBody(body) {\n\t    if (body.bodyUsed) {\n\t        return Promise.reject(new TypeError('Already read'))\n\t    } else {\n\t        body.bodyUsed = true\n\t        return Promise.resolve(body._body)\n\t    }\n\t}\n\n\tfunction convertBody(body, to) {\n\t    var from = bodyType(body)\n\t    if (body === null || body === void 0 || !from || from === to) {\n\t        return Promise.resolve(body)\n\t    } else if (map[to] && map[to][from]) {\n\t        return map[to][from](body)\n\t    } else {\n\t        return Promise.reject(new Error('Convertion from ' + from + ' to ' + to + ' not supported'))\n\t    }\n\t}\n\n\n\tvar map = {\n\t    text: {\n\t        json: function (body) {//json --> text\n\t            return Promise.resolve(JSON.stringify(body))\n\t        },\n\t        blob: function (body) {//blob --> text\n\t            return blob2text(body)\n\t        },\n\t        searchParams: function (body) {//searchParams --> text\n\t            return Promise.resolve(body.toString())\n\t        }\n\t    },\n\t    json: {\n\t        text: function (body) {//text --> json\n\t            return Promise.resolve(parseJSON(body))\n\t        },\n\t        blob: function (body) {//blob --> json\n\t            return blob2text(body).then(parseJSON)\n\t        }\n\t    },\n\t    formData: {\n\t        text: function (body) {//text --> formData\n\t            return text2formData(body)\n\t        }\n\t    },\n\t    blob: {\n\t        text: function (body) {//json --> blob\n\t            return Promise.resolve(new Blob([body]))\n\t        },\n\t        json: function (body) {//json --> blob\n\t            return Promise.resolve(new Blob([JSON.stringify(body)]))\n\t        }\n\t    },\n\t    arrayBuffer: {\n\t        blob: function (body) {\n\t            return blob2ArrayBuffer(body)\n\t        }\n\t    }\n\t}\n\n\tfunction bodyType(body) {\n\t    if (typeof body === 'string') {\n\t        return 'text'\n\t    } else if (support.blob && (body instanceof Blob)) {\n\t        return 'blob'\n\t    } else if (support.formData && (body instanceof FormData)) {\n\t        return 'formData'\n\t    } else if (support.searchParams && (body instanceof URLSearchParams)) {\n\t        return 'searchParams'\n\t    } else if (body && typeof body === 'object') {\n\t        return 'json'\n\t    } else {\n\t        return null\n\t    }\n\t}\n\n\n\tfunction reader2Promise(reader) {\n\t    return new Promise(function (resolve, reject) {\n\t        reader.onload = function () {\n\t            resolve(reader.result)\n\t        }\n\t        reader.onerror = function () {\n\t            reject(reader.error)\n\t        }\n\t    })\n\t}\n\t/*\n\t readAsBinaryString(File|Blob)\n\t readAsText(File|Blob [, encoding])\n\t readAsDataURL(File|Blob)\n\t readAsArrayBuffer(File|Blob)\n\t */\n\tfunction text2formData(body) {\n\t    var form = new FormData()\n\t    body.trim().split('&').forEach(function (bytes) {\n\t        if (bytes) {\n\t            var split = bytes.split('=')\n\t            var name = split.shift().replace(/\\+/g, ' ')\n\t            var value = split.join('=').replace(/\\+/g, ' ')\n\t            form.append(decodeURIComponent(name), decodeURIComponent(value))\n\t        }\n\t    })\n\t    return Promise.resolve(form)\n\t}\n\n\tfunction blob2ArrayBuffer(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsArrayBuffer(blob)\n\t    return reader2Promise(reader)\n\t}\n\n\tfunction blob2text(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsText(blob)\n\t    return reader2Promise(reader)\n\t}\n\n\n\tfunction parseJSON(body) {\n\t    try {\n\t        return JSON.parse(body)\n\t    } catch (ex) {\n\t        throw 'Invalid JSON'\n\t    }\n\t}\n\n\tmodule.exports = Body\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Headers = __webpack_require__(2)\n\tvar Body = __webpack_require__(4)\n\n\tfunction Response(bodyInit, options) {\n\t    if (!options) {\n\t        options = {}\n\t    }\n\n\t    this.type = 'default'\n\n\t    this.status = options.status\n\t    if (1223 === this.status) {\n\t        this.status = 204\n\t    }\n\t    this.ok = this.status >= 200 && this.status < 300\n\t    this.statusText = options.statusText\n\t    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n\t    this.url = options.url || ''\n\t    this._initBody(bodyInit)\n\t}\n\n\tvar F = function(){} \n\tF.prototype = Body.prototype \n\tResponse.prototype = new F() \n\n\tResponse.prototype.clone = function () {\n\t    return new Response(this._bodyInit, {\n\t        status: this.status,\n\t        statusText: this.statusText,\n\t        headers: new Headers(this.headers),\n\t        url: this.url\n\t    })\n\t}\n\n\tResponse.error = function () {\n\t    var response = new Response(null, {status: 0, statusText: ''})\n\t    response.type = 'error'\n\t    return response\n\t}\n\n\tvar redirectStatuses = [301, 302, 303, 307, 308]\n\n\tResponse.redirect = function (url, status) {\n\t    if (redirectStatuses.indexOf(status) === -1) {\n\t        throw new RangeError('Invalid status code')\n\t    }\n\n\t    return new Response(null, {status: status, headers: {location: url}})\n\t}\n\n\tmodule.exports = Response\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar AXO = __webpack_require__(7)\n\tvar JSONP = __webpack_require__(8)\n\tvar XDR = __webpack_require__(9)\n\tvar XHR = __webpack_require__(10)\n\tvar msie = 0\n\tif (window.VBArray) {\n\t    msie = document.documentMode || (window.XMLHttpRequest ? 7 : 6)\n\t}\n\n\tfunction Transport(request) {\n\t    if (msie === 8 || msie === 9) {\n\t        this.core = new XDR(request)\n\t    } else if (!msie) {\n\t        this.core = new XHR(request)\n\t    } else if (msie <= 7) {\n\t        if (request.credentials === 'include') {\n\t            this.core = new JSONP(request)\n\t        } else {\n\t            this.core = new AXO(request)\n\t        }\n\t    }\n\t}\n\n\tvar p = Transport.prototype\n\tp.on = function (type, fn) {\n\t    this.core.on(type, fn)\n\t}\n\n\tp.setRequestHeader = function (a, b) {\n\t    if (this.core.setRequestHeader) {\n\t        this.core.setRequestHeader(a, b)\n\t    }\n\t}\n\n\tp.open = function (a, b, c, d, e) {\n\t    if (this.core.open) {\n\t        this.core.open(a, b, c, d, e)\n\t    }\n\t}\n\n\tp.send = function (a) {\n\t    if (this.core.send) {\n\t        this.core.send(a)\n\t    }\n\t}\n\n\tp.abort = function () {\n\t    if (this.core.abort) {\n\t        this.core.abort()\n\t    }\n\t}\n\n\tmodule.exports = Transport\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\n\n\tmodule.exports = function AXO(opts) {\n\t    var xhr = new ActiveXObject('Microsoft.XMLHTTP')\n\t    \n\t    xhr.onreadystatechange = function () {\n\t        if (xhr.readyState === 4) {\n\t            if (/^2\\d\\d|1224/.test(xhr.status)) {\n\t                events['load'] && events['load'](xhr)\n\t            } else {\n\t                events['error'] && events['error']()\n\t            }\n\t        }\n\t    }\n\t    var events = {}\n\t    xhr.on = function (type, fn) {\n\t        events[type] = fn\n\t    }\n\n\t    xhr.abort = function () {\n\t        events = {}\n\t    }\n\t    if (opts.timeout === 'number') {\n\t        setTimeout(function () {\n\t            events['timeout'] && events['timeout']()\n\t            xhr.abort()\n\t        }, opts.timeout)\n\t    }\n\t    return xhr\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\n\tfunction JSONP(opts) {\n\t    var callbackFunction = opts.jsonpCallbackFunction || generateCallbackFunction();\n\t    var jsonpCallback = opts.jsonpCallback || 'callback'\n\t    var xhr = document.createElement('script')\n\t    if (xhr.charset) {\n\t        xhr.charset = opts.charset\n\t    }\n\t    xhr.onerror = xhr[useOnload ? 'onload' : 'onreadystatechange'] = function (e) {\n\t        var execute = /loaded|complete|undefined/i.test(xhr.readyState)\n\t        if (e && e.type === 'error') {\n\t            events['error'] && events['error']()\n\t        } else if (execute) {\n\t            setTimeout(function () {\n\t                xhr.abort()\n\t            }, 0)\n\t        }\n\t    }\n\n\t    var events = {}\n\t    xhr.on = function (type, fn) {\n\t        events[type] = fn\n\t    }\n\t    xhr.abort = function () {\n\t        events = {}\n\t        removeNode(xhr)\n\t        clearFunction(callbackFunction)\n\t    }\n\t    xhr.open = function (a, url) {\n\t        window[callbackFunction] = function (response) {\n\t            events['load'] && events['load']({\n\t                status: 200,\n\t                statusText: 'ok',\n\t                response: response\n\t            })\n\t            clearFunction(callbackFunction)\n\t        }\n\t        var head = document.getElementsTagName('head')[0]\n\n\t        url += (url.indexOf('?') === -1) ? '?' : '&';\n\t        xhr.setAttribute('src', url + jsonpCallback + '=' + callbackFunction);\n\t        head.insertBefore(xhr, head.firstChild)\n\t        if (typeof opts.timeout === 'number') {\n\t            setTimeout(function () {\n\t                events['timeout'] && events['timeout']()\n\t                xhr.abort()\n\t            }, opts.timeout)\n\t        }\n\t    }\n\t}\n\n\n\tfunction generateCallbackFunction() {\n\t    return ('jsonp' + Math.random()).replace(/0\\./, '')\n\t}\n\n\t// Known issue: Will throw 'Uncaught ReferenceError: callback_*** is not defined' error if request timeout\n\tfunction clearFunction(functionName) {\n\t    // IE8 throws an exception when you try to delete a property on window\n\t    // http://stackoverflow.com/a/1824228/751089\n\t    try {\n\t        delete window[functionName];\n\t    } catch (e) {\n\t        window[functionName] = undefined;\n\t    }\n\t}\n\n\tvar f = document.createDocumentFragment()\n\tvar useOnload = 'textContent' in document\n\n\tfunction removeNode(node) {\n\t    f.appendChild(node)\n\t    f.removeChild(node)\n\t    node.onload = onerror = onreadystatechange = function () {\n\t    }\n\t    return node\n\t}\n\n\tmodule.exports = JSONP\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t//https://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx\n\tmodule.exports = function XDR(opts) {\n\t    var xhr = new XDomainRequest()\n\t    'load,error,timeout'.replace(/\\w+/g, function (method) {\n\t        xhr['on' + method] = function () {\n\t            if (events[method]) {\n\t                events[method](xhr)\n\t            }\n\t        }\n\t    })\n\t    var events = {}\n\t    xhr.on = function (type, fn) {\n\t        events[type] = fn\n\t    }\n\t    xhr.onabort = function () {\n\t        events = {}\n\t    }\n\t    if (typeof opts.timeout === 'number') {\n\t        xhr.timeout = opts.timeout\n\t    }\n\t    return xhr\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\n\tmodule.exports = function XHR(opts) {\n\t    var xhr = new XMLHttpRequest\n\t    'load,error,timeout'.replace(/\\w+/g, function (method) {\n\t        xhr['on' + method] = function () {\n\t            if (events[method]) {\n\t                events[method](xhr)\n\t            }\n\t        }\n\t    })\n\t    var events = {}\n\t    xhr.on = function (type, fn) {\n\t        events[type] = fn\n\t    }\n\t    xhr.onabort = function () {\n\t        events = {}\n\t    }\n\t    if (opts.credentials === 'include') {\n\t        xhr.withCredentials = true\n\t    }\n\n\t    if ('responseType' in xhr && ('Blob' in window)) {\n\t        xhr.responseType = 'blob'\n\t    }\n\t    return xhr\n\t}\n\n/***/ }\n/******/ ])\n});\n;","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.muxjs = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2016 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * A stream-based aac to mp4 converter. This utility can be used to\r\n   * deliver mp4s to a SourceBuffer on platforms that support native\r\n   * Media Source Extensions.\r\n   */\r\n  'use strict';\r\n  var Stream = require('../utils/stream.js');\r\n  \r\n  // Constants\r\n  var AacStream;\r\n  \r\n  /**\r\n   * Splits an incoming stream of binary data into ADTS and ID3 Frames.\r\n   */\r\n  \r\n  AacStream = function() {\r\n    var\r\n      everything = new Uint8Array(),\r\n      timeStamp = 0;\r\n  \r\n    AacStream.prototype.init.call(this);\r\n  \r\n    this.setTimestamp = function(timestamp) {\r\n      timeStamp = timestamp;\r\n    };\r\n  \r\n    this.parseId3TagSize = function(header, byteIndex) {\r\n      var\r\n        returnSize = (header[byteIndex + 6] << 21) |\r\n                     (header[byteIndex + 7] << 14) |\r\n                     (header[byteIndex + 8] << 7) |\r\n                     (header[byteIndex + 9]),\r\n        flags = header[byteIndex + 5],\r\n        footerPresent = (flags & 16) >> 4;\r\n  \r\n      if (footerPresent) {\r\n        return returnSize + 20;\r\n      }\r\n      return returnSize + 10;\r\n    };\r\n  \r\n    this.parseAdtsSize = function(header, byteIndex) {\r\n      var\r\n        lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\r\n        middle = header[byteIndex + 4] << 3,\r\n        highTwo = header[byteIndex + 3] & 0x3 << 11;\r\n  \r\n      return (highTwo | middle) | lowThree;\r\n    };\r\n  \r\n    this.push = function(bytes) {\r\n      var\r\n        frameSize = 0,\r\n        byteIndex = 0,\r\n        bytesLeft,\r\n        chunk,\r\n        packet,\r\n        tempLength;\r\n  \r\n      // If there are bytes remaining from the last segment, prepend them to the\r\n      // bytes that were pushed in\r\n      if (everything.length) {\r\n        tempLength = everything.length;\r\n        everything = new Uint8Array(bytes.byteLength + tempLength);\r\n        everything.set(everything.subarray(0, tempLength));\r\n        everything.set(bytes, tempLength);\r\n      } else {\r\n        everything = bytes;\r\n      }\r\n  \r\n      while (everything.length - byteIndex >= 3) {\r\n        if ((everything[byteIndex] === 'I'.charCodeAt(0)) &&\r\n            (everything[byteIndex + 1] === 'D'.charCodeAt(0)) &&\r\n            (everything[byteIndex + 2] === '3'.charCodeAt(0))) {\r\n  \r\n          // Exit early because we don't have enough to parse\r\n          // the ID3 tag header\r\n          if (everything.length - byteIndex < 10) {\r\n            break;\r\n          }\r\n  \r\n          // check framesize\r\n          frameSize = this.parseId3TagSize(everything, byteIndex);\r\n  \r\n          // Exit early if we don't have enough in the buffer\r\n          // to emit a full packet\r\n          if (frameSize > everything.length) {\r\n            break;\r\n          }\r\n          chunk = {\r\n            type: 'timed-metadata',\r\n            data: everything.subarray(byteIndex, byteIndex + frameSize)\r\n          };\r\n          this.trigger('data', chunk);\r\n          byteIndex += frameSize;\r\n          continue;\r\n        } else if ((everything[byteIndex] & 0xff === 0xff) &&\r\n                   ((everything[byteIndex + 1] & 0xf0) === 0xf0)) {\r\n  \r\n          // Exit early because we don't have enough to parse\r\n          // the ADTS frame header\r\n          if (everything.length - byteIndex < 7) {\r\n            break;\r\n          }\r\n  \r\n          frameSize = this.parseAdtsSize(everything, byteIndex);\r\n  \r\n          // Exit early if we don't have enough in the buffer\r\n          // to emit a full packet\r\n          if (frameSize > everything.length) {\r\n            break;\r\n          }\r\n  \r\n          packet = {\r\n            type: 'audio',\r\n            data: everything.subarray(byteIndex, byteIndex + frameSize),\r\n            pts: timeStamp,\r\n            dts: timeStamp\r\n          };\r\n          this.trigger('data', packet);\r\n          byteIndex += frameSize;\r\n          continue;\r\n        }\r\n        byteIndex++;\r\n      }\r\n      bytesLeft = everything.length - byteIndex;\r\n  \r\n      if (bytesLeft > 0) {\r\n        everything = everything.subarray(byteIndex);\r\n      } else {\r\n        everything = new Uint8Array();\r\n      }\r\n    };\r\n  };\r\n  \r\n  AacStream.prototype = new Stream();\r\n  \r\n  module.exports = AacStream;\r\n  \r\n  },{\"../utils/stream.js\":25}],2:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2016 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * Utilities to detect basic properties and metadata about Aac data.\r\n   */\r\n  'use strict';\r\n  \r\n  var ADTS_SAMPLING_FREQUENCIES = [\r\n    96000,\r\n    88200,\r\n    64000,\r\n    48000,\r\n    44100,\r\n    32000,\r\n    24000,\r\n    22050,\r\n    16000,\r\n    12000,\r\n    11025,\r\n    8000,\r\n    7350\r\n  ];\r\n  \r\n  var parseSyncSafeInteger = function(data) {\r\n    return (data[0] << 21) |\r\n            (data[1] << 14) |\r\n            (data[2] << 7) |\r\n            (data[3]);\r\n  };\r\n  \r\n  // return a percent-encoded representation of the specified byte range\r\n  // @see http://en.wikipedia.org/wiki/Percent-encoding\r\n  var percentEncode = function(bytes, start, end) {\r\n    var i, result = '';\r\n    for (i = start; i < end; i++) {\r\n      result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\r\n    }\r\n    return result;\r\n  };\r\n  \r\n  // return the string representation of the specified byte range,\r\n  // interpreted as ISO-8859-1.\r\n  var parseIso88591 = function(bytes, start, end) {\r\n    return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\r\n  };\r\n  \r\n  var parseId3TagSize = function(header, byteIndex) {\r\n    var\r\n      returnSize = (header[byteIndex + 6] << 21) |\r\n                   (header[byteIndex + 7] << 14) |\r\n                   (header[byteIndex + 8] << 7) |\r\n                   (header[byteIndex + 9]),\r\n      flags = header[byteIndex + 5],\r\n      footerPresent = (flags & 16) >> 4;\r\n  \r\n    if (footerPresent) {\r\n      return returnSize + 20;\r\n    }\r\n    return returnSize + 10;\r\n  };\r\n  \r\n  var parseAdtsSize = function(header, byteIndex) {\r\n    var\r\n      lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\r\n      middle = header[byteIndex + 4] << 3,\r\n      highTwo = header[byteIndex + 3] & 0x3 << 11;\r\n  \r\n    return (highTwo | middle) | lowThree;\r\n  };\r\n  \r\n  var parseType = function(header, byteIndex) {\r\n    if ((header[byteIndex] === 'I'.charCodeAt(0)) &&\r\n        (header[byteIndex + 1] === 'D'.charCodeAt(0)) &&\r\n        (header[byteIndex + 2] === '3'.charCodeAt(0))) {\r\n      return 'timed-metadata';\r\n    } else if ((header[byteIndex] & 0xff === 0xff) &&\r\n               ((header[byteIndex + 1] & 0xf0) === 0xf0)) {\r\n      return 'audio';\r\n    }\r\n    return null;\r\n  };\r\n  \r\n  var parseSampleRate = function(packet) {\r\n    var i = 0;\r\n  \r\n    while (i + 5 < packet.length) {\r\n      if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\r\n        // If a valid header was not found,  jump one forward and attempt to\r\n        // find a valid ADTS header starting at the next byte\r\n        i++;\r\n        continue;\r\n      }\r\n      return ADTS_SAMPLING_FREQUENCIES[(packet[i + 2] & 0x3c) >>> 2];\r\n    }\r\n  \r\n    return null;\r\n  };\r\n  \r\n  var parseAacTimestamp = function(packet) {\r\n    var frameStart, frameSize, frame, frameHeader;\r\n  \r\n    // find the start of the first frame and the end of the tag\r\n    frameStart = 10;\r\n    if (packet[5] & 0x40) {\r\n      // advance the frame start past the extended header\r\n      frameStart += 4; // header size field\r\n      frameStart += parseSyncSafeInteger(packet.subarray(10, 14));\r\n    }\r\n  \r\n    // parse one or more ID3 frames\r\n    // http://id3.org/id3v2.3.0#ID3v2_frame_overview\r\n    do {\r\n      // determine the number of bytes in this frame\r\n      frameSize = parseSyncSafeInteger(packet.subarray(frameStart + 4, frameStart + 8));\r\n      if (frameSize < 1) {\r\n        return null;\r\n      }\r\n      frameHeader = String.fromCharCode(packet[frameStart],\r\n                                        packet[frameStart + 1],\r\n                                        packet[frameStart + 2],\r\n                                        packet[frameStart + 3]);\r\n  \r\n      if (frameHeader === 'PRIV') {\r\n        frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\r\n  \r\n        for (var i = 0; i < frame.byteLength; i++) {\r\n          if (frame[i] === 0) {\r\n            var owner = parseIso88591(frame, 0, i);\r\n            if (owner === 'com.apple.streaming.transportStreamTimestamp') {\r\n              var d = frame.subarray(i + 1);\r\n              var size = ((d[3] & 0x01)  << 30) |\r\n                         (d[4]  << 22) |\r\n                         (d[5] << 14) |\r\n                         (d[6] << 6) |\r\n                         (d[7] >>> 2);\r\n              size *= 4;\r\n              size += d[7] & 0x03;\r\n  \r\n              return size;\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n  \r\n      frameStart += 10; // advance past the frame header\r\n      frameStart += frameSize; // advance past the frame body\r\n    } while (frameStart < packet.byteLength);\r\n    return null;\r\n  };\r\n  \r\n  module.exports = {\r\n    parseId3TagSize: parseId3TagSize,\r\n    parseAdtsSize: parseAdtsSize,\r\n    parseType: parseType,\r\n    parseSampleRate: parseSampleRate,\r\n    parseAacTimestamp: parseAacTimestamp\r\n  };\r\n  \r\n  },{}],3:[function(require,module,exports){\r\n  'use strict';\r\n  \r\n  var Stream = require('../utils/stream.js');\r\n  \r\n  var AdtsStream;\r\n  \r\n  var\r\n    ADTS_SAMPLING_FREQUENCIES = [\r\n      96000,\r\n      88200,\r\n      64000,\r\n      48000,\r\n      44100,\r\n      32000,\r\n      24000,\r\n      22050,\r\n      16000,\r\n      12000,\r\n      11025,\r\n      8000,\r\n      7350\r\n    ];\r\n  \r\n  /*\r\n   * Accepts a ElementaryStream and emits data events with parsed\r\n   * AAC Audio Frames of the individual packets. Input audio in ADTS\r\n   * format is unpacked and re-emitted as AAC frames.\r\n   *\r\n   * @see http://wiki.multimedia.cx/index.php?title=ADTS\r\n   * @see http://wiki.multimedia.cx/?title=Understanding_AAC\r\n   */\r\n  AdtsStream = function() {\r\n    var buffer;\r\n  \r\n    AdtsStream.prototype.init.call(this);\r\n  \r\n    this.push = function(packet) {\r\n      var\r\n        i = 0,\r\n        frameNum = 0,\r\n        frameLength,\r\n        protectionSkipBytes,\r\n        frameEnd,\r\n        oldBuffer,\r\n        sampleCount,\r\n        adtsFrameDuration;\r\n  \r\n      if (packet.type !== 'audio') {\r\n        // ignore non-audio data\r\n        return;\r\n      }\r\n  \r\n      // Prepend any data in the buffer to the input data so that we can parse\r\n      // aac frames the cross a PES packet boundary\r\n      if (buffer) {\r\n        oldBuffer = buffer;\r\n        buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\r\n        buffer.set(oldBuffer);\r\n        buffer.set(packet.data, oldBuffer.byteLength);\r\n      } else {\r\n        buffer = packet.data;\r\n      }\r\n  \r\n      // unpack any ADTS frames which have been fully received\r\n      // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\r\n      while (i + 5 < buffer.length) {\r\n  \r\n        // Loook for the start of an ADTS header..\r\n        if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\r\n          // If a valid header was not found,  jump one forward and attempt to\r\n          // find a valid ADTS header starting at the next byte\r\n          i++;\r\n          continue;\r\n        }\r\n  \r\n        // The protection skip bit tells us if we have 2 bytes of CRC data at the\r\n        // end of the ADTS header\r\n        protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2;\r\n  \r\n        // Frame length is a 13 bit integer starting 16 bits from the\r\n        // end of the sync sequence\r\n        frameLength = ((buffer[i + 3] & 0x03) << 11) |\r\n          (buffer[i + 4] << 3) |\r\n          ((buffer[i + 5] & 0xe0) >> 5);\r\n  \r\n        sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\r\n        adtsFrameDuration = (sampleCount * 90000) /\r\n          ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\r\n  \r\n        frameEnd = i + frameLength;\r\n  \r\n        // If we don't have enough data to actually finish this ADTS frame, return\r\n        // and wait for more data\r\n        if (buffer.byteLength < frameEnd) {\r\n          return;\r\n        }\r\n  \r\n        // Otherwise, deliver the complete AAC frame\r\n        this.trigger('data', {\r\n          pts: packet.pts + (frameNum * adtsFrameDuration),\r\n          dts: packet.dts + (frameNum * adtsFrameDuration),\r\n          sampleCount: sampleCount,\r\n          audioobjecttype: ((buffer[i + 2] >>> 6) & 0x03) + 1,\r\n          channelcount: ((buffer[i + 2] & 1) << 2) |\r\n            ((buffer[i + 3] & 0xc0) >>> 6),\r\n          samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\r\n          samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\r\n          // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\r\n          samplesize: 16,\r\n          data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\r\n        });\r\n  \r\n        // If the buffer is empty, clear it and return\r\n        if (buffer.byteLength === frameEnd) {\r\n          buffer = undefined;\r\n          return;\r\n        }\r\n  \r\n        frameNum++;\r\n  \r\n        // Remove the finished frame from the buffer and start the process again\r\n        buffer = buffer.subarray(frameEnd);\r\n      }\r\n    };\r\n    this.flush = function() {\r\n      this.trigger('done');\r\n    };\r\n  };\r\n  \r\n  AdtsStream.prototype = new Stream();\r\n  \r\n  module.exports = AdtsStream;\r\n  \r\n  },{\"../utils/stream.js\":25}],4:[function(require,module,exports){\r\n  'use strict';\r\n  \r\n  var Stream = require('../utils/stream.js');\r\n  var ExpGolomb = require('../utils/exp-golomb.js');\r\n  \r\n  var H264Stream, NalByteStream;\r\n  var PROFILES_WITH_OPTIONAL_SPS_DATA;\r\n  \r\n  /**\r\n   * Accepts a NAL unit byte stream and unpacks the embedded NAL units.\r\n   */\r\n  NalByteStream = function() {\r\n    var\r\n      syncPoint = 0,\r\n      i,\r\n      buffer;\r\n    NalByteStream.prototype.init.call(this);\r\n  \r\n    this.push = function(data) {\r\n      var swapBuffer;\r\n  \r\n      if (!buffer) {\r\n        buffer = data.data;\r\n      } else {\r\n        swapBuffer = new Uint8Array(buffer.byteLength + data.data.byteLength);\r\n        swapBuffer.set(buffer);\r\n        swapBuffer.set(data.data, buffer.byteLength);\r\n        buffer = swapBuffer;\r\n      }\r\n  \r\n      // Rec. ITU-T H.264, Annex B\r\n      // scan for NAL unit boundaries\r\n  \r\n      // a match looks like this:\r\n      // 0 0 1 .. NAL .. 0 0 1\r\n      // ^ sync point        ^ i\r\n      // or this:\r\n      // 0 0 1 .. NAL .. 0 0 0\r\n      // ^ sync point        ^ i\r\n  \r\n      // advance the sync point to a NAL start, if necessary\r\n      for (; syncPoint < buffer.byteLength - 3; syncPoint++) {\r\n        if (buffer[syncPoint + 2] === 1) {\r\n          // the sync point is properly aligned\r\n          i = syncPoint + 5;\r\n          break;\r\n        }\r\n      }\r\n  \r\n      while (i < buffer.byteLength) {\r\n        // look at the current byte to determine if we've hit the end of\r\n        // a NAL unit boundary\r\n        switch (buffer[i]) {\r\n        case 0:\r\n          // skip past non-sync sequences\r\n          if (buffer[i - 1] !== 0) {\r\n            i += 2;\r\n            break;\r\n          } else if (buffer[i - 2] !== 0) {\r\n            i++;\r\n            break;\r\n          }\r\n  \r\n          // deliver the NAL unit if it isn't empty\r\n          if (syncPoint + 3 !== i - 2) {\r\n            this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\r\n          }\r\n  \r\n          // drop trailing zeroes\r\n          do {\r\n            i++;\r\n          } while (buffer[i] !== 1 && i < buffer.length);\r\n          syncPoint = i - 2;\r\n          i += 3;\r\n          break;\r\n        case 1:\r\n          // skip past non-sync sequences\r\n          if (buffer[i - 1] !== 0 ||\r\n              buffer[i - 2] !== 0) {\r\n            i += 3;\r\n            break;\r\n          }\r\n  \r\n          // deliver the NAL unit\r\n          this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\r\n          syncPoint = i - 2;\r\n          i += 3;\r\n          break;\r\n        default:\r\n          // the current byte isn't a one or zero, so it cannot be part\r\n          // of a sync sequence\r\n          i += 3;\r\n          break;\r\n        }\r\n      }\r\n      // filter out the NAL units that were delivered\r\n      buffer = buffer.subarray(syncPoint);\r\n      i -= syncPoint;\r\n      syncPoint = 0;\r\n    };\r\n  \r\n    this.flush = function() {\r\n      // deliver the last buffered NAL unit\r\n      if (buffer && buffer.byteLength > 3) {\r\n        this.trigger('data', buffer.subarray(syncPoint + 3));\r\n      }\r\n      // reset the stream state\r\n      buffer = null;\r\n      syncPoint = 0;\r\n      this.trigger('done');\r\n    };\r\n  };\r\n  NalByteStream.prototype = new Stream();\r\n  \r\n  // values of profile_idc that indicate additional fields are included in the SPS\r\n  // see Recommendation ITU-T H.264 (4/2013),\r\n  // 7.3.2.1.1 Sequence parameter set data syntax\r\n  PROFILES_WITH_OPTIONAL_SPS_DATA = {\r\n    100: true,\r\n    110: true,\r\n    122: true,\r\n    244: true,\r\n    44: true,\r\n    83: true,\r\n    86: true,\r\n    118: true,\r\n    128: true,\r\n    138: true,\r\n    139: true,\r\n    134: true\r\n  };\r\n  \r\n  /**\r\n   * Accepts input from a ElementaryStream and produces H.264 NAL unit data\r\n   * events.\r\n   */\r\n  H264Stream = function() {\r\n    var\r\n      nalByteStream = new NalByteStream(),\r\n      self,\r\n      trackId,\r\n      currentPts,\r\n      currentDts,\r\n  \r\n      discardEmulationPreventionBytes,\r\n      readSequenceParameterSet,\r\n      skipScalingList;\r\n  \r\n    H264Stream.prototype.init.call(this);\r\n    self = this;\r\n  \r\n    this.push = function(packet) {\r\n      if (packet.type !== 'video') {\r\n        return;\r\n      }\r\n      trackId = packet.trackId;\r\n      currentPts = packet.pts;\r\n      currentDts = packet.dts;\r\n  \r\n      nalByteStream.push(packet);\r\n    };\r\n  \r\n    nalByteStream.on('data', function(data) {\r\n      var\r\n        event = {\r\n          trackId: trackId,\r\n          pts: currentPts,\r\n          dts: currentDts,\r\n          data: data\r\n        };\r\n  \r\n      switch (data[0] & 0x1f) {\r\n      case 0x05:\r\n        event.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';\r\n        break;\r\n      case 0x06:\r\n        event.nalUnitType = 'sei_rbsp';\r\n        event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\r\n        break;\r\n      case 0x07:\r\n        event.nalUnitType = 'seq_parameter_set_rbsp';\r\n        event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\r\n        event.config = readSequenceParameterSet(event.escapedRBSP);\r\n        break;\r\n      case 0x08:\r\n        event.nalUnitType = 'pic_parameter_set_rbsp';\r\n        break;\r\n      case 0x09:\r\n        event.nalUnitType = 'access_unit_delimiter_rbsp';\r\n        break;\r\n  \r\n      default:\r\n        break;\r\n      }\r\n      self.trigger('data', event);\r\n    });\r\n    nalByteStream.on('done', function() {\r\n      self.trigger('done');\r\n    });\r\n  \r\n    this.flush = function() {\r\n      nalByteStream.flush();\r\n    };\r\n  \r\n    /**\r\n     * Advance the ExpGolomb decoder past a scaling list. The scaling\r\n     * list is optionally transmitted as part of a sequence parameter\r\n     * set and is not relevant to transmuxing.\r\n     * @param count {number} the number of entries in this scaling list\r\n     * @param expGolombDecoder {object} an ExpGolomb pointed to the\r\n     * start of a scaling list\r\n     * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\r\n     */\r\n    skipScalingList = function(count, expGolombDecoder) {\r\n      var\r\n        lastScale = 8,\r\n        nextScale = 8,\r\n        j,\r\n        deltaScale;\r\n  \r\n      for (j = 0; j < count; j++) {\r\n        if (nextScale !== 0) {\r\n          deltaScale = expGolombDecoder.readExpGolomb();\r\n          nextScale = (lastScale + deltaScale + 256) % 256;\r\n        }\r\n  \r\n        lastScale = (nextScale === 0) ? lastScale : nextScale;\r\n      }\r\n    };\r\n  \r\n    /**\r\n     * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\r\n     * Sequence Payload\"\r\n     * @param data {Uint8Array} the bytes of a RBSP from a NAL\r\n     * unit\r\n     * @return {Uint8Array} the RBSP without any Emulation\r\n     * Prevention Bytes\r\n     */\r\n    discardEmulationPreventionBytes = function(data) {\r\n      var\r\n        length = data.byteLength,\r\n        emulationPreventionBytesPositions = [],\r\n        i = 1,\r\n        newLength, newData;\r\n  \r\n      // Find all `Emulation Prevention Bytes`\r\n      while (i < length - 2) {\r\n        if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\r\n          emulationPreventionBytesPositions.push(i + 2);\r\n          i += 2;\r\n        } else {\r\n          i++;\r\n        }\r\n      }\r\n  \r\n      // If no Emulation Prevention Bytes were found just return the original\r\n      // array\r\n      if (emulationPreventionBytesPositions.length === 0) {\r\n        return data;\r\n      }\r\n  \r\n      // Create a new array to hold the NAL unit data\r\n      newLength = length - emulationPreventionBytesPositions.length;\r\n      newData = new Uint8Array(newLength);\r\n      var sourceIndex = 0;\r\n  \r\n      for (i = 0; i < newLength; sourceIndex++, i++) {\r\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\r\n          // Skip this byte\r\n          sourceIndex++;\r\n          // Remove this position index\r\n          emulationPreventionBytesPositions.shift();\r\n        }\r\n        newData[i] = data[sourceIndex];\r\n      }\r\n  \r\n      return newData;\r\n    };\r\n  \r\n    /**\r\n     * Read a sequence parameter set and return some interesting video\r\n     * properties. A sequence parameter set is the H264 metadata that\r\n     * describes the properties of upcoming video frames.\r\n     * @param data {Uint8Array} the bytes of a sequence parameter set\r\n     * @return {object} an object with configuration parsed from the\r\n     * sequence parameter set, including the dimensions of the\r\n     * associated video frames.\r\n     */\r\n    readSequenceParameterSet = function(data) {\r\n      var\r\n        frameCropLeftOffset = 0,\r\n        frameCropRightOffset = 0,\r\n        frameCropTopOffset = 0,\r\n        frameCropBottomOffset = 0,\r\n        sarScale = 1,\r\n        expGolombDecoder, profileIdc, levelIdc, profileCompatibility,\r\n        chromaFormatIdc, picOrderCntType,\r\n        numRefFramesInPicOrderCntCycle, picWidthInMbsMinus1,\r\n        picHeightInMapUnitsMinus1,\r\n        frameMbsOnlyFlag,\r\n        scalingListCount,\r\n        sarRatio,\r\n        aspectRatioIdc,\r\n        i;\r\n  \r\n      expGolombDecoder = new ExpGolomb(data);\r\n      profileIdc = expGolombDecoder.readUnsignedByte(); // profile_idc\r\n      profileCompatibility = expGolombDecoder.readUnsignedByte(); // constraint_set[0-5]_flag\r\n      levelIdc = expGolombDecoder.readUnsignedByte(); // level_idc u(8)\r\n      expGolombDecoder.skipUnsignedExpGolomb(); // seq_parameter_set_id\r\n  \r\n      // some profiles have more optional data we don't need\r\n      if (PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]) {\r\n        chromaFormatIdc = expGolombDecoder.readUnsignedExpGolomb();\r\n        if (chromaFormatIdc === 3) {\r\n          expGolombDecoder.skipBits(1); // separate_colour_plane_flag\r\n        }\r\n        expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_luma_minus8\r\n        expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_chroma_minus8\r\n        expGolombDecoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\r\n        if (expGolombDecoder.readBoolean()) { // seq_scaling_matrix_present_flag\r\n          scalingListCount = (chromaFormatIdc !== 3) ? 8 : 12;\r\n          for (i = 0; i < scalingListCount; i++) {\r\n            if (expGolombDecoder.readBoolean()) { // seq_scaling_list_present_flag[ i ]\r\n              if (i < 6) {\r\n                skipScalingList(16, expGolombDecoder);\r\n              } else {\r\n                skipScalingList(64, expGolombDecoder);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n  \r\n      expGolombDecoder.skipUnsignedExpGolomb(); // log2_max_frame_num_minus4\r\n      picOrderCntType = expGolombDecoder.readUnsignedExpGolomb();\r\n  \r\n      if (picOrderCntType === 0) {\r\n        expGolombDecoder.readUnsignedExpGolomb(); // log2_max_pic_order_cnt_lsb_minus4\r\n      } else if (picOrderCntType === 1) {\r\n        expGolombDecoder.skipBits(1); // delta_pic_order_always_zero_flag\r\n        expGolombDecoder.skipExpGolomb(); // offset_for_non_ref_pic\r\n        expGolombDecoder.skipExpGolomb(); // offset_for_top_to_bottom_field\r\n        numRefFramesInPicOrderCntCycle = expGolombDecoder.readUnsignedExpGolomb();\r\n        for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\r\n          expGolombDecoder.skipExpGolomb(); // offset_for_ref_frame[ i ]\r\n        }\r\n      }\r\n  \r\n      expGolombDecoder.skipUnsignedExpGolomb(); // max_num_ref_frames\r\n      expGolombDecoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\r\n  \r\n      picWidthInMbsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\r\n      picHeightInMapUnitsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\r\n  \r\n      frameMbsOnlyFlag = expGolombDecoder.readBits(1);\r\n      if (frameMbsOnlyFlag === 0) {\r\n        expGolombDecoder.skipBits(1); // mb_adaptive_frame_field_flag\r\n      }\r\n  \r\n      expGolombDecoder.skipBits(1); // direct_8x8_inference_flag\r\n      if (expGolombDecoder.readBoolean()) { // frame_cropping_flag\r\n        frameCropLeftOffset = expGolombDecoder.readUnsignedExpGolomb();\r\n        frameCropRightOffset = expGolombDecoder.readUnsignedExpGolomb();\r\n        frameCropTopOffset = expGolombDecoder.readUnsignedExpGolomb();\r\n        frameCropBottomOffset = expGolombDecoder.readUnsignedExpGolomb();\r\n      }\r\n      if (expGolombDecoder.readBoolean()) {\r\n        // vui_parameters_present_flag\r\n        if (expGolombDecoder.readBoolean()) {\r\n          // aspect_ratio_info_present_flag\r\n          aspectRatioIdc = expGolombDecoder.readUnsignedByte();\r\n          switch (aspectRatioIdc) {\r\n            case 1: sarRatio = [1, 1]; break;\r\n            case 2: sarRatio = [12, 11]; break;\r\n            case 3: sarRatio = [10, 11]; break;\r\n            case 4: sarRatio = [16, 11]; break;\r\n            case 5: sarRatio = [40, 33]; break;\r\n            case 6: sarRatio = [24, 11]; break;\r\n            case 7: sarRatio = [20, 11]; break;\r\n            case 8: sarRatio = [32, 11]; break;\r\n            case 9: sarRatio = [80, 33]; break;\r\n            case 10: sarRatio = [18, 11]; break;\r\n            case 11: sarRatio = [15, 11]; break;\r\n            case 12: sarRatio = [64, 33]; break;\r\n            case 13: sarRatio = [160, 99]; break;\r\n            case 14: sarRatio = [4, 3]; break;\r\n            case 15: sarRatio = [3, 2]; break;\r\n            case 16: sarRatio = [2, 1]; break;\r\n            case 255: {\r\n              sarRatio = [expGolombDecoder.readUnsignedByte() << 8 |\r\n                          expGolombDecoder.readUnsignedByte(),\r\n                          expGolombDecoder.readUnsignedByte() << 8 |\r\n                          expGolombDecoder.readUnsignedByte() ];\r\n              break;\r\n            }\r\n          }\r\n          if (sarRatio) {\r\n            sarScale = sarRatio[0] / sarRatio[1];\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        profileIdc: profileIdc,\r\n        levelIdc: levelIdc,\r\n        profileCompatibility: profileCompatibility,\r\n        width: Math.ceil((((picWidthInMbsMinus1 + 1) * 16) - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\r\n        height: ((2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16) - (frameCropTopOffset * 2) - (frameCropBottomOffset * 2)\r\n      };\r\n    };\r\n  \r\n  };\r\n  H264Stream.prototype = new Stream();\r\n  \r\n  module.exports = {\r\n    H264Stream: H264Stream,\r\n    NalByteStream: NalByteStream\r\n  };\r\n  \r\n  },{\"../utils/exp-golomb.js\":24,\"../utils/stream.js\":25}],5:[function(require,module,exports){\r\n  module.exports = {\r\n    adts: require('./adts'),\r\n    h264: require('./h264')\r\n  };\r\n  \r\n  },{\"./adts\":3,\"./h264\":4}],6:[function(require,module,exports){\r\n  /**\r\n   * An object that stores the bytes of an FLV tag and methods for\r\n   * querying and manipulating that data.\r\n   * @see http://download.macromedia.com/f4v/video_file_format_spec_v10_1.pdf\r\n   */\r\n  'use strict';\r\n  \r\n  var FlvTag;\r\n  \r\n  // (type:uint, extraData:Boolean = false) extends ByteArray\r\n  FlvTag = function(type, extraData) {\r\n    var\r\n      // Counter if this is a metadata tag, nal start marker if this is a video\r\n      // tag. unused if this is an audio tag\r\n      adHoc = 0, // :uint\r\n  \r\n      // The default size is 16kb but this is not enough to hold iframe\r\n      // data and the resizing algorithm costs a bit so we create a larger\r\n      // starting buffer for video tags\r\n      bufferStartSize = 16384,\r\n  \r\n      // checks whether the FLV tag has enough capacity to accept the proposed\r\n      // write and re-allocates the internal buffers if necessary\r\n      prepareWrite = function(flv, count) {\r\n        var\r\n          bytes,\r\n          minLength = flv.position + count;\r\n        if (minLength < flv.bytes.byteLength) {\r\n          // there's enough capacity so do nothing\r\n          return;\r\n        }\r\n  \r\n        // allocate a new buffer and copy over the data that will not be modified\r\n        bytes = new Uint8Array(minLength * 2);\r\n        bytes.set(flv.bytes.subarray(0, flv.position), 0);\r\n        flv.bytes = bytes;\r\n        flv.view = new DataView(flv.bytes.buffer);\r\n      },\r\n  \r\n      // commonly used metadata properties\r\n      widthBytes = FlvTag.widthBytes || new Uint8Array('width'.length),\r\n      heightBytes = FlvTag.heightBytes || new Uint8Array('height'.length),\r\n      videocodecidBytes = FlvTag.videocodecidBytes || new Uint8Array('videocodecid'.length),\r\n      i;\r\n  \r\n    if (!FlvTag.widthBytes) {\r\n      // calculating the bytes of common metadata names ahead of time makes the\r\n      // corresponding writes faster because we don't have to loop over the\r\n      // characters\r\n      // re-test with test/perf.html if you're planning on changing this\r\n      for (i = 0; i < 'width'.length; i++) {\r\n        widthBytes[i] = 'width'.charCodeAt(i);\r\n      }\r\n      for (i = 0; i < 'height'.length; i++) {\r\n        heightBytes[i] = 'height'.charCodeAt(i);\r\n      }\r\n      for (i = 0; i < 'videocodecid'.length; i++) {\r\n        videocodecidBytes[i] = 'videocodecid'.charCodeAt(i);\r\n      }\r\n  \r\n      FlvTag.widthBytes = widthBytes;\r\n      FlvTag.heightBytes = heightBytes;\r\n      FlvTag.videocodecidBytes = videocodecidBytes;\r\n    }\r\n  \r\n    this.keyFrame = false; // :Boolean\r\n  \r\n    switch (type) {\r\n    case FlvTag.VIDEO_TAG:\r\n      this.length = 16;\r\n      // Start the buffer at 256k\r\n      bufferStartSize *= 6;\r\n      break;\r\n    case FlvTag.AUDIO_TAG:\r\n      this.length = 13;\r\n      this.keyFrame = true;\r\n      break;\r\n    case FlvTag.METADATA_TAG:\r\n      this.length = 29;\r\n      this.keyFrame = true;\r\n      break;\r\n    default:\r\n      throw new Error('Unknown FLV tag type');\r\n    }\r\n  \r\n    this.bytes = new Uint8Array(bufferStartSize);\r\n    this.view = new DataView(this.bytes.buffer);\r\n    this.bytes[0] = type;\r\n    this.position = this.length;\r\n    this.keyFrame = extraData; // Defaults to false\r\n  \r\n    // presentation timestamp\r\n    this.pts = 0;\r\n    // decoder timestamp\r\n    this.dts = 0;\r\n  \r\n    // ByteArray#writeBytes(bytes:ByteArray, offset:uint = 0, length:uint = 0)\r\n    this.writeBytes = function(bytes, offset, length) {\r\n      var\r\n        start = offset || 0,\r\n        end;\r\n      length = length || bytes.byteLength;\r\n      end = start + length;\r\n  \r\n      prepareWrite(this, length);\r\n      this.bytes.set(bytes.subarray(start, end), this.position);\r\n  \r\n      this.position += length;\r\n      this.length = Math.max(this.length, this.position);\r\n    };\r\n  \r\n    // ByteArray#writeByte(value:int):void\r\n    this.writeByte = function(byte) {\r\n      prepareWrite(this, 1);\r\n      this.bytes[this.position] = byte;\r\n      this.position++;\r\n      this.length = Math.max(this.length, this.position);\r\n    };\r\n  \r\n    // ByteArray#writeShort(value:int):void\r\n    this.writeShort = function(short) {\r\n      prepareWrite(this, 2);\r\n      this.view.setUint16(this.position, short);\r\n      this.position += 2;\r\n      this.length = Math.max(this.length, this.position);\r\n    };\r\n  \r\n    // Negative index into array\r\n    // (pos:uint):int\r\n    this.negIndex = function(pos) {\r\n      return this.bytes[this.length - pos];\r\n    };\r\n  \r\n    // The functions below ONLY work when this[0] == VIDEO_TAG.\r\n    // We are not going to check for that because we dont want the overhead\r\n    // (nal:ByteArray = null):int\r\n    this.nalUnitSize = function() {\r\n      if (adHoc === 0) {\r\n        return 0;\r\n      }\r\n  \r\n      return this.length - (adHoc + 4);\r\n    };\r\n  \r\n    this.startNalUnit = function() {\r\n      // remember position and add 4 bytes\r\n      if (adHoc > 0) {\r\n        throw new Error('Attempted to create new NAL wihout closing the old one');\r\n      }\r\n  \r\n      // reserve 4 bytes for nal unit size\r\n      adHoc = this.length;\r\n      this.length += 4;\r\n      this.position = this.length;\r\n    };\r\n  \r\n    // (nal:ByteArray = null):void\r\n    this.endNalUnit = function(nalContainer) {\r\n      var\r\n        nalStart, // :uint\r\n        nalLength; // :uint\r\n  \r\n      // Rewind to the marker and write the size\r\n      if (this.length === adHoc + 4) {\r\n        // we started a nal unit, but didnt write one, so roll back the 4 byte size value\r\n        this.length -= 4;\r\n      } else if (adHoc > 0) {\r\n        nalStart = adHoc + 4;\r\n        nalLength = this.length - nalStart;\r\n  \r\n        this.position = adHoc;\r\n        this.view.setUint32(this.position, nalLength);\r\n        this.position = this.length;\r\n  \r\n        if (nalContainer) {\r\n          // Add the tag to the NAL unit\r\n          nalContainer.push(this.bytes.subarray(nalStart, nalStart + nalLength));\r\n        }\r\n      }\r\n  \r\n      adHoc = 0;\r\n    };\r\n  \r\n    /**\r\n     * Write out a 64-bit floating point valued metadata property. This method is\r\n     * called frequently during a typical parse and needs to be fast.\r\n     */\r\n    // (key:String, val:Number):void\r\n    this.writeMetaDataDouble = function(key, val) {\r\n      var i;\r\n      prepareWrite(this, 2 + key.length + 9);\r\n  \r\n      // write size of property name\r\n      this.view.setUint16(this.position, key.length);\r\n      this.position += 2;\r\n  \r\n      // this next part looks terrible but it improves parser throughput by\r\n      // 10kB/s in my testing\r\n  \r\n      // write property name\r\n      if (key === 'width') {\r\n        this.bytes.set(widthBytes, this.position);\r\n        this.position += 5;\r\n      } else if (key === 'height') {\r\n        this.bytes.set(heightBytes, this.position);\r\n        this.position += 6;\r\n      } else if (key === 'videocodecid') {\r\n        this.bytes.set(videocodecidBytes, this.position);\r\n        this.position += 12;\r\n      } else {\r\n        for (i = 0; i < key.length; i++) {\r\n          this.bytes[this.position] = key.charCodeAt(i);\r\n          this.position++;\r\n        }\r\n      }\r\n  \r\n      // skip null byte\r\n      this.position++;\r\n  \r\n      // write property value\r\n      this.view.setFloat64(this.position, val);\r\n      this.position += 8;\r\n  \r\n      // update flv tag length\r\n      this.length = Math.max(this.length, this.position);\r\n      ++adHoc;\r\n    };\r\n  \r\n    // (key:String, val:Boolean):void\r\n    this.writeMetaDataBoolean = function(key, val) {\r\n      var i;\r\n      prepareWrite(this, 2);\r\n      this.view.setUint16(this.position, key.length);\r\n      this.position += 2;\r\n      for (i = 0; i < key.length; i++) {\r\n        // if key.charCodeAt(i) >= 255, handle error\r\n        prepareWrite(this, 1);\r\n        this.bytes[this.position] = key.charCodeAt(i);\r\n        this.position++;\r\n      }\r\n      prepareWrite(this, 2);\r\n      this.view.setUint8(this.position, 0x01);\r\n      this.position++;\r\n      this.view.setUint8(this.position, val ? 0x01 : 0x00);\r\n      this.position++;\r\n      this.length = Math.max(this.length, this.position);\r\n      ++adHoc;\r\n    };\r\n  \r\n    // ():ByteArray\r\n    this.finalize = function() {\r\n      var\r\n        dtsDelta, // :int\r\n        len; // :int\r\n  \r\n      switch (this.bytes[0]) {\r\n        // Video Data\r\n      case FlvTag.VIDEO_TAG:\r\n         // We only support AVC, 1 = key frame (for AVC, a seekable\r\n         // frame), 2 = inter frame (for AVC, a non-seekable frame)\r\n        this.bytes[11] = ((this.keyFrame || extraData) ? 0x10 : 0x20) | 0x07;\r\n        this.bytes[12] = extraData ?  0x00 : 0x01;\r\n  \r\n        dtsDelta = this.pts - this.dts;\r\n        this.bytes[13] = (dtsDelta & 0x00FF0000) >>> 16;\r\n        this.bytes[14] = (dtsDelta & 0x0000FF00) >>>  8;\r\n        this.bytes[15] = (dtsDelta & 0x000000FF) >>>  0;\r\n        break;\r\n  \r\n      case FlvTag.AUDIO_TAG:\r\n        this.bytes[11] = 0xAF; // 44 kHz, 16-bit stereo\r\n        this.bytes[12] = extraData ? 0x00 : 0x01;\r\n        break;\r\n  \r\n      case FlvTag.METADATA_TAG:\r\n        this.position = 11;\r\n        this.view.setUint8(this.position, 0x02); // String type\r\n        this.position++;\r\n        this.view.setUint16(this.position, 0x0A); // 10 Bytes\r\n        this.position += 2;\r\n        // set \"onMetaData\"\r\n        this.bytes.set([0x6f, 0x6e, 0x4d, 0x65,\r\n                        0x74, 0x61, 0x44, 0x61,\r\n                        0x74, 0x61], this.position);\r\n        this.position += 10;\r\n        this.bytes[this.position] = 0x08; // Array type\r\n        this.position++;\r\n        this.view.setUint32(this.position, adHoc);\r\n        this.position = this.length;\r\n        this.bytes.set([0, 0, 9], this.position);\r\n        this.position += 3; // End Data Tag\r\n        this.length = this.position;\r\n        break;\r\n      }\r\n  \r\n      len = this.length - 11;\r\n  \r\n      // write the DataSize field\r\n      this.bytes[ 1] = (len & 0x00FF0000) >>> 16;\r\n      this.bytes[ 2] = (len & 0x0000FF00) >>>  8;\r\n      this.bytes[ 3] = (len & 0x000000FF) >>>  0;\r\n      // write the Timestamp\r\n      this.bytes[ 4] = (this.dts & 0x00FF0000) >>> 16;\r\n      this.bytes[ 5] = (this.dts & 0x0000FF00) >>>  8;\r\n      this.bytes[ 6] = (this.dts & 0x000000FF) >>>  0;\r\n      this.bytes[ 7] = (this.dts & 0xFF000000) >>> 24;\r\n      // write the StreamID\r\n      this.bytes[ 8] = 0;\r\n      this.bytes[ 9] = 0;\r\n      this.bytes[10] = 0;\r\n  \r\n      // Sometimes we're at the end of the view and have one slot to write a\r\n      // uint32, so, prepareWrite of count 4, since, view is uint8\r\n      prepareWrite(this, 4);\r\n      this.view.setUint32(this.length, this.length);\r\n      this.length += 4;\r\n      this.position += 4;\r\n  \r\n      // trim down the byte buffer to what is actually being used\r\n      this.bytes = this.bytes.subarray(0, this.length);\r\n      this.frameTime = FlvTag.frameTime(this.bytes);\r\n      // if bytes.bytelength isn't equal to this.length, handle error\r\n      return this;\r\n    };\r\n  };\r\n  \r\n  FlvTag.AUDIO_TAG = 0x08; // == 8, :uint\r\n  FlvTag.VIDEO_TAG = 0x09; // == 9, :uint\r\n  FlvTag.METADATA_TAG = 0x12; // == 18, :uint\r\n  \r\n  // (tag:ByteArray):Boolean {\r\n  FlvTag.isAudioFrame = function(tag) {\r\n    return FlvTag.AUDIO_TAG === tag[0];\r\n  };\r\n  \r\n  // (tag:ByteArray):Boolean {\r\n  FlvTag.isVideoFrame = function(tag) {\r\n    return FlvTag.VIDEO_TAG === tag[0];\r\n  };\r\n  \r\n  // (tag:ByteArray):Boolean {\r\n  FlvTag.isMetaData = function(tag) {\r\n    return FlvTag.METADATA_TAG === tag[0];\r\n  };\r\n  \r\n  // (tag:ByteArray):Boolean {\r\n  FlvTag.isKeyFrame = function(tag) {\r\n    if (FlvTag.isVideoFrame(tag)) {\r\n      return tag[11] === 0x17;\r\n    }\r\n  \r\n    if (FlvTag.isAudioFrame(tag)) {\r\n      return true;\r\n    }\r\n  \r\n    if (FlvTag.isMetaData(tag)) {\r\n      return true;\r\n    }\r\n  \r\n    return false;\r\n  };\r\n  \r\n  // (tag:ByteArray):uint {\r\n  FlvTag.frameTime = function(tag) {\r\n    var pts = tag[ 4] << 16; // :uint\r\n    pts |= tag[ 5] <<  8;\r\n    pts |= tag[ 6] <<  0;\r\n    pts |= tag[ 7] << 24;\r\n    return pts;\r\n  };\r\n  \r\n  module.exports = FlvTag;\r\n  \r\n  },{}],7:[function(require,module,exports){\r\n  module.exports = {\r\n    tag: require('./flv-tag'),\r\n    Transmuxer: require('./transmuxer')\r\n  };\r\n  \r\n  },{\"./flv-tag\":6,\"./transmuxer\":8}],8:[function(require,module,exports){\r\n  'use strict';\r\n  \r\n  var Stream = require('../utils/stream.js');\r\n  var FlvTag = require('./flv-tag.js');\r\n  var m2ts = require('../m2ts/m2ts.js');\r\n  var AdtsStream = require('../codecs/adts.js');\r\n  var H264Stream = require('../codecs/h264').H264Stream;\r\n  \r\n  var\r\n    Transmuxer,\r\n    VideoSegmentStream,\r\n    AudioSegmentStream,\r\n    CoalesceStream,\r\n    collectTimelineInfo,\r\n    metaDataTag,\r\n    extraDataTag;\r\n  \r\n  /**\r\n   * Store information about the start and end of the tracka and the\r\n   * duration for each frame/sample we process in order to calculate\r\n   * the baseMediaDecodeTime\r\n   */\r\n  collectTimelineInfo = function(track, data) {\r\n    if (typeof data.pts === 'number') {\r\n      if (track.timelineStartInfo.pts === undefined) {\r\n        track.timelineStartInfo.pts = data.pts;\r\n      } else {\r\n        track.timelineStartInfo.pts =\r\n          Math.min(track.timelineStartInfo.pts, data.pts);\r\n      }\r\n    }\r\n  \r\n    if (typeof data.dts === 'number') {\r\n      if (track.timelineStartInfo.dts === undefined) {\r\n        track.timelineStartInfo.dts = data.dts;\r\n      } else {\r\n        track.timelineStartInfo.dts =\r\n          Math.min(track.timelineStartInfo.dts, data.dts);\r\n      }\r\n    }\r\n  };\r\n  \r\n  metaDataTag = function(track, pts) {\r\n    var\r\n      tag = new FlvTag(FlvTag.METADATA_TAG); // :FlvTag\r\n  \r\n    tag.dts = pts;\r\n    tag.pts = pts;\r\n  \r\n    tag.writeMetaDataDouble('videocodecid', 7);\r\n    tag.writeMetaDataDouble('width', track.width);\r\n    tag.writeMetaDataDouble('height', track.height);\r\n  \r\n    return tag;\r\n  };\r\n  \r\n  extraDataTag = function(track, pts) {\r\n    var\r\n      i,\r\n      tag = new FlvTag(FlvTag.VIDEO_TAG, true);\r\n  \r\n    tag.dts = pts;\r\n    tag.pts = pts;\r\n  \r\n    tag.writeByte(0x01);// version\r\n    tag.writeByte(track.profileIdc);// profile\r\n    tag.writeByte(track.profileCompatibility);// compatibility\r\n    tag.writeByte(track.levelIdc);// level\r\n    tag.writeByte(0xFC | 0x03); // reserved (6 bits), NULA length size - 1 (2 bits)\r\n    tag.writeByte(0xE0 | 0x01); // reserved (3 bits), num of SPS (5 bits)\r\n    tag.writeShort(track.sps[0].length); // data of SPS\r\n    tag.writeBytes(track.sps[0]); // SPS\r\n  \r\n    tag.writeByte(track.pps.length); // num of PPS (will there ever be more that 1 PPS?)\r\n    for (i = 0; i < track.pps.length; ++i) {\r\n      tag.writeShort(track.pps[i].length); // 2 bytes for length of PPS\r\n      tag.writeBytes(track.pps[i]); // data of PPS\r\n    }\r\n  \r\n    return tag;\r\n  };\r\n  \r\n  /**\r\n   * Constructs a single-track, media segment from AAC data\r\n   * events. The output of this stream can be fed to flash.\r\n   */\r\n  AudioSegmentStream = function(track) {\r\n    var\r\n      adtsFrames = [],\r\n      oldExtraData;\r\n  \r\n    AudioSegmentStream.prototype.init.call(this);\r\n  \r\n    this.push = function(data) {\r\n      collectTimelineInfo(track, data);\r\n  \r\n      if (track && track.channelcount === undefined) {\r\n        track.audioobjecttype = data.audioobjecttype;\r\n        track.channelcount = data.channelcount;\r\n        track.samplerate = data.samplerate;\r\n        track.samplingfrequencyindex = data.samplingfrequencyindex;\r\n        track.samplesize = data.samplesize;\r\n        track.extraData = (track.audioobjecttype << 11) |\r\n                          (track.samplingfrequencyindex << 7) |\r\n                          (track.channelcount << 3);\r\n      }\r\n  \r\n      data.pts = Math.round(data.pts / 90);\r\n      data.dts = Math.round(data.dts / 90);\r\n  \r\n      // buffer audio data until end() is called\r\n      adtsFrames.push(data);\r\n    };\r\n  \r\n    this.flush = function() {\r\n      var currentFrame, adtsFrame, lastMetaPts, tags = [];\r\n      // return early if no audio data has been observed\r\n      if (adtsFrames.length === 0) {\r\n        this.trigger('done');\r\n        return;\r\n      }\r\n  \r\n      lastMetaPts = -Infinity;\r\n  \r\n      while (adtsFrames.length) {\r\n        currentFrame = adtsFrames.shift();\r\n  \r\n        // write out metadata tags every 1 second so that the decoder\r\n        // is re-initialized quickly after seeking into a different\r\n        // audio configuration\r\n        if (track.extraData !== oldExtraData || currentFrame.pts - lastMetaPts >= 1000) {\r\n         adtsFrame = new FlvTag(FlvTag.METADATA_TAG);\r\n          adtsFrame.pts = currentFrame.pts;\r\n          adtsFrame.dts = currentFrame.dts;\r\n  \r\n          // AAC is always 10\r\n          adtsFrame.writeMetaDataDouble('audiocodecid', 10);\r\n          adtsFrame.writeMetaDataBoolean('stereo', track.channelcount === 2);\r\n          adtsFrame.writeMetaDataDouble('audiosamplerate', track.samplerate);\r\n          // Is AAC always 16 bit?\r\n          adtsFrame.writeMetaDataDouble('audiosamplesize', 16);\r\n  \r\n          tags.push(adtsFrame);\r\n  \r\n          oldExtraData = track.extraData;\r\n  \r\n          adtsFrame = new FlvTag(FlvTag.AUDIO_TAG, true);\r\n          // For audio, DTS is always the same as PTS. We want to set the DTS\r\n          // however so we can compare with video DTS to determine approximate\r\n          // packet order\r\n          adtsFrame.pts = currentFrame.pts;\r\n          adtsFrame.dts = currentFrame.dts;\r\n  \r\n          adtsFrame.view.setUint16(adtsFrame.position, track.extraData);\r\n          adtsFrame.position += 2;\r\n          adtsFrame.length = Math.max(adtsFrame.length, adtsFrame.position);\r\n  \r\n          tags.push(adtsFrame);\r\n  \r\n          lastMetaPts = currentFrame.pts;\r\n        }\r\n        adtsFrame = new FlvTag(FlvTag.AUDIO_TAG);\r\n        adtsFrame.pts = currentFrame.pts;\r\n        adtsFrame.dts = currentFrame.dts;\r\n  \r\n        adtsFrame.writeBytes(currentFrame.data);\r\n  \r\n        tags.push(adtsFrame);\r\n      }\r\n  \r\n      oldExtraData = null;\r\n      this.trigger('data', {track: track, tags: tags});\r\n  \r\n      this.trigger('done');\r\n    };\r\n  };\r\n  AudioSegmentStream.prototype = new Stream();\r\n  \r\n  /**\r\n   * Store FlvTags for the h264 stream\r\n   * @param track {object} track metadata configuration\r\n   */\r\n  VideoSegmentStream = function(track) {\r\n    var\r\n      nalUnits = [],\r\n      config,\r\n      h264Frame;\r\n    VideoSegmentStream.prototype.init.call(this);\r\n  \r\n    this.finishFrame = function(tags, frame) {\r\n      if (!frame) {\r\n        return;\r\n      }\r\n      // Check if keyframe and the length of tags.\r\n      // This makes sure we write metadata on the first frame of a segment.\r\n      if (config && track && track.newMetadata &&\r\n          (frame.keyFrame || tags.length === 0)) {\r\n        // Push extra data on every IDR frame in case we did a stream change + seek\r\n        tags.push(metaDataTag(config, frame.pts));\r\n        tags.push(extraDataTag(track, frame.pts));\r\n        track.newMetadata = false;\r\n      }\r\n  \r\n      frame.endNalUnit();\r\n      tags.push(frame);\r\n    };\r\n  \r\n    this.push = function(data) {\r\n      collectTimelineInfo(track, data);\r\n  \r\n      data.pts = Math.round(data.pts / 90);\r\n      data.dts = Math.round(data.dts / 90);\r\n  \r\n      // buffer video until flush() is called\r\n      nalUnits.push(data);\r\n    };\r\n  \r\n    this.flush = function() {\r\n      var\r\n        currentNal,\r\n        tags = [];\r\n  \r\n      // Throw away nalUnits at the start of the byte stream until we find\r\n      // the first AUD\r\n      while (nalUnits.length) {\r\n        if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\r\n          break;\r\n        }\r\n        nalUnits.shift();\r\n      }\r\n  \r\n      // return early if no video data has been observed\r\n      if (nalUnits.length === 0) {\r\n        this.trigger('done');\r\n        return;\r\n      }\r\n  \r\n      while (nalUnits.length) {\r\n        currentNal = nalUnits.shift();\r\n  \r\n        // record the track config\r\n        if (currentNal.nalUnitType === 'seq_parameter_set_rbsp') {\r\n          track.newMetadata = true;\r\n          config = currentNal.config;\r\n          track.width = config.width;\r\n          track.height = config.height;\r\n          track.sps = [currentNal.data];\r\n          track.profileIdc = config.profileIdc;\r\n          track.levelIdc = config.levelIdc;\r\n          track.profileCompatibility = config.profileCompatibility;\r\n          h264Frame.endNalUnit();\r\n        } else if (currentNal.nalUnitType === 'pic_parameter_set_rbsp') {\r\n          track.newMetadata = true;\r\n          track.pps = [currentNal.data];\r\n          h264Frame.endNalUnit();\r\n        } else if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\r\n          if (h264Frame) {\r\n            this.finishFrame(tags, h264Frame);\r\n          }\r\n          h264Frame = new FlvTag(FlvTag.VIDEO_TAG);\r\n          h264Frame.pts = currentNal.pts;\r\n          h264Frame.dts = currentNal.dts;\r\n        } else {\r\n          if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\r\n            // the current sample is a key frame\r\n            h264Frame.keyFrame = true;\r\n          }\r\n          h264Frame.endNalUnit();\r\n        }\r\n        h264Frame.startNalUnit();\r\n        h264Frame.writeBytes(currentNal.data);\r\n      }\r\n      if (h264Frame) {\r\n        this.finishFrame(tags, h264Frame);\r\n      }\r\n  \r\n      this.trigger('data', {track: track, tags: tags});\r\n  \r\n      // Continue with the flush process now\r\n      this.trigger('done');\r\n    };\r\n  };\r\n  \r\n  VideoSegmentStream.prototype = new Stream();\r\n  \r\n  /**\r\n   * The final stage of the transmuxer that emits the flv tags\r\n   * for audio, video, and metadata. Also tranlates in time and\r\n   * outputs caption data and id3 cues.\r\n   */\r\n  CoalesceStream = function(options) {\r\n    // Number of Tracks per output segment\r\n    // If greater than 1, we combine multiple\r\n    // tracks into a single segment\r\n    this.numberOfTracks = 0;\r\n    this.metadataStream = options.metadataStream;\r\n  \r\n    this.videoTags = [];\r\n    this.audioTags = [];\r\n    this.videoTrack = null;\r\n    this.audioTrack = null;\r\n    this.pendingCaptions = [];\r\n    this.pendingMetadata = [];\r\n    this.pendingTracks = 0;\r\n  \r\n    CoalesceStream.prototype.init.call(this);\r\n  \r\n    // Take output from multiple\r\n    this.push = function(output) {\r\n      // buffer incoming captions until the associated video segment\r\n      // finishes\r\n      if (output.text) {\r\n        return this.pendingCaptions.push(output);\r\n      }\r\n      // buffer incoming id3 tags until the final flush\r\n      if (output.frames) {\r\n        return this.pendingMetadata.push(output);\r\n      }\r\n  \r\n      if (output.track.type === 'video') {\r\n        this.videoTrack = output.track;\r\n        this.videoTags = output.tags;\r\n        this.pendingTracks++;\r\n      }\r\n      if (output.track.type === 'audio') {\r\n        this.audioTrack = output.track;\r\n        this.audioTags = output.tags;\r\n        this.pendingTracks++;\r\n      }\r\n    };\r\n  };\r\n  \r\n  CoalesceStream.prototype = new Stream();\r\n  CoalesceStream.prototype.flush = function() {\r\n    var\r\n      id3,\r\n      caption,\r\n      i,\r\n      timelineStartPts,\r\n      event = {\r\n        tags: {},\r\n        captions: [],\r\n        metadata: []\r\n      };\r\n  \r\n    if (this.pendingTracks < this.numberOfTracks) {\r\n      return;\r\n    }\r\n  \r\n    if (this.videoTrack) {\r\n      timelineStartPts = this.videoTrack.timelineStartInfo.pts;\r\n    } else if (this.audioTrack) {\r\n      timelineStartPts = this.audioTrack.timelineStartInfo.pts;\r\n    }\r\n  \r\n    event.tags.videoTags = this.videoTags;\r\n    event.tags.audioTags = this.audioTags;\r\n  \r\n    // Translate caption PTS times into second offsets into the\r\n    // video timeline for the segment\r\n    for (i = 0; i < this.pendingCaptions.length; i++) {\r\n      caption = this.pendingCaptions[i];\r\n      caption.startTime = caption.startPts - timelineStartPts;\r\n      caption.startTime /= 90e3;\r\n      caption.endTime = caption.endPts - timelineStartPts;\r\n      caption.endTime /= 90e3;\r\n      event.captions.push(caption);\r\n    }\r\n  \r\n    // Translate ID3 frame PTS times into second offsets into the\r\n    // video timeline for the segment\r\n    for (i = 0; i < this.pendingMetadata.length; i++) {\r\n      id3 = this.pendingMetadata[i];\r\n      id3.cueTime = id3.pts - timelineStartPts;\r\n      id3.cueTime /= 90e3;\r\n      event.metadata.push(id3);\r\n    }\r\n    // We add this to every single emitted segment even though we only need\r\n    // it for the first\r\n    event.metadata.dispatchType = this.metadataStream.dispatchType;\r\n  \r\n    // Reset stream state\r\n    this.videoTrack = null;\r\n    this.audioTrack = null;\r\n    this.videoTags = [];\r\n    this.audioTags = [];\r\n    this.pendingCaptions.length = 0;\r\n    this.pendingMetadata.length = 0;\r\n    this.pendingTracks = 0;\r\n  \r\n    // Emit the final segment\r\n    this.trigger('data', event);\r\n  \r\n    this.trigger('done');\r\n  };\r\n  \r\n  /**\r\n   * An object that incrementally transmuxes MPEG2 Trasport Stream\r\n   * chunks into an FLV.\r\n   */\r\n  Transmuxer = function(options) {\r\n    var\r\n      self = this,\r\n  \r\n      packetStream, parseStream, elementaryStream,\r\n      videoTimestampRolloverStream, audioTimestampRolloverStream,\r\n      timedMetadataTimestampRolloverStream,\r\n      adtsStream, h264Stream,\r\n      videoSegmentStream, audioSegmentStream, captionStream,\r\n      coalesceStream;\r\n  \r\n    Transmuxer.prototype.init.call(this);\r\n  \r\n    options = options || {};\r\n  \r\n    // expose the metadata stream\r\n    this.metadataStream = new m2ts.MetadataStream();\r\n  \r\n    options.metadataStream = this.metadataStream;\r\n  \r\n    // set up the parsing pipeline\r\n    packetStream = new m2ts.TransportPacketStream();\r\n    parseStream = new m2ts.TransportParseStream();\r\n    elementaryStream = new m2ts.ElementaryStream();\r\n    videoTimestampRolloverStream = new m2ts.TimestampRolloverStream('video');\r\n    audioTimestampRolloverStream = new m2ts.TimestampRolloverStream('audio');\r\n    timedMetadataTimestampRolloverStream = new m2ts.TimestampRolloverStream('timed-metadata');\r\n  \r\n    adtsStream = new AdtsStream();\r\n    h264Stream = new H264Stream();\r\n    coalesceStream = new CoalesceStream(options);\r\n  \r\n    // disassemble MPEG2-TS packets into elementary streams\r\n    packetStream\r\n      .pipe(parseStream)\r\n      .pipe(elementaryStream);\r\n  \r\n    // !!THIS ORDER IS IMPORTANT!!\r\n    // demux the streams\r\n    elementaryStream\r\n      .pipe(videoTimestampRolloverStream)\r\n      .pipe(h264Stream);\r\n    elementaryStream\r\n      .pipe(audioTimestampRolloverStream)\r\n      .pipe(adtsStream);\r\n  \r\n    elementaryStream\r\n      .pipe(timedMetadataTimestampRolloverStream)\r\n      .pipe(this.metadataStream)\r\n      .pipe(coalesceStream);\r\n    // if CEA-708 parsing is available, hook up a caption stream\r\n    captionStream = new m2ts.CaptionStream();\r\n    h264Stream.pipe(captionStream)\r\n      .pipe(coalesceStream);\r\n  \r\n    // hook up the segment streams once track metadata is delivered\r\n    elementaryStream.on('data', function(data) {\r\n      var i, videoTrack, audioTrack;\r\n  \r\n      if (data.type === 'metadata') {\r\n        i = data.tracks.length;\r\n  \r\n        // scan the tracks listed in the metadata\r\n        while (i--) {\r\n          if (data.tracks[i].type === 'video') {\r\n            videoTrack = data.tracks[i];\r\n          } else if (data.tracks[i].type === 'audio') {\r\n            audioTrack = data.tracks[i];\r\n          }\r\n        }\r\n  \r\n        // hook up the video segment stream to the first track with h264 data\r\n        if (videoTrack && !videoSegmentStream) {\r\n          coalesceStream.numberOfTracks++;\r\n          videoSegmentStream = new VideoSegmentStream(videoTrack);\r\n  \r\n          // Set up the final part of the video pipeline\r\n          h264Stream\r\n            .pipe(videoSegmentStream)\r\n            .pipe(coalesceStream);\r\n        }\r\n  \r\n        if (audioTrack && !audioSegmentStream) {\r\n          // hook up the audio segment stream to the first track with aac data\r\n          coalesceStream.numberOfTracks++;\r\n          audioSegmentStream = new AudioSegmentStream(audioTrack);\r\n  \r\n          // Set up the final part of the audio pipeline\r\n          adtsStream\r\n            .pipe(audioSegmentStream)\r\n            .pipe(coalesceStream);\r\n        }\r\n      }\r\n    });\r\n  \r\n    // feed incoming data to the front of the parsing pipeline\r\n    this.push = function(data) {\r\n      packetStream.push(data);\r\n    };\r\n  \r\n    // flush any buffered data\r\n    this.flush = function() {\r\n      // Start at the top of the pipeline and flush all pending work\r\n      packetStream.flush();\r\n    };\r\n  \r\n    // Re-emit any data coming from the coalesce stream to the outside world\r\n    coalesceStream.on('data', function(event) {\r\n      self.trigger('data', event);\r\n    });\r\n  \r\n    // Let the consumer know we have finished flushing the entire pipeline\r\n    coalesceStream.on('done', function() {\r\n      self.trigger('done');\r\n    });\r\n  \r\n    // For information on the FLV format, see\r\n    // http://download.macromedia.com/f4v/video_file_format_spec_v10_1.pdf.\r\n    // Technically, this function returns the header and a metadata FLV tag\r\n    // if duration is greater than zero\r\n    // duration in seconds\r\n    // @return {object} the bytes of the FLV header as a Uint8Array\r\n    this.getFlvHeader = function(duration, audio, video) { // :ByteArray {\r\n      var\r\n        headBytes = new Uint8Array(3 + 1 + 1 + 4),\r\n        head = new DataView(headBytes.buffer),\r\n        metadata,\r\n        result,\r\n        metadataLength;\r\n  \r\n      // default arguments\r\n      duration = duration || 0;\r\n      audio = audio === undefined ? true : audio;\r\n      video = video === undefined ? true : video;\r\n  \r\n      // signature\r\n      head.setUint8(0, 0x46); // 'F'\r\n      head.setUint8(1, 0x4c); // 'L'\r\n      head.setUint8(2, 0x56); // 'V'\r\n  \r\n      // version\r\n      head.setUint8(3, 0x01);\r\n  \r\n      // flags\r\n      head.setUint8(4, (audio ? 0x04 : 0x00) | (video ? 0x01 : 0x00));\r\n  \r\n      // data offset, should be 9 for FLV v1\r\n      head.setUint32(5, headBytes.byteLength);\r\n  \r\n      // init the first FLV tag\r\n      if (duration <= 0) {\r\n        // no duration available so just write the first field of the first\r\n        // FLV tag\r\n        result = new Uint8Array(headBytes.byteLength + 4);\r\n        result.set(headBytes);\r\n        result.set([0, 0, 0, 0], headBytes.byteLength);\r\n        return result;\r\n      }\r\n  \r\n      // write out the duration metadata tag\r\n      metadata = new FlvTag(FlvTag.METADATA_TAG);\r\n      metadata.pts = metadata.dts = 0;\r\n      metadata.writeMetaDataDouble('duration', duration);\r\n      metadataLength = metadata.finalize().length;\r\n      result = new Uint8Array(headBytes.byteLength + metadataLength);\r\n      result.set(headBytes);\r\n      result.set(head.byteLength, metadataLength);\r\n  \r\n      return result;\r\n    };\r\n  };\r\n  Transmuxer.prototype = new Stream();\r\n  \r\n  // forward compatibility\r\n  module.exports = Transmuxer;\r\n  \r\n  },{\"../codecs/adts.js\":3,\"../codecs/h264\":4,\"../m2ts/m2ts.js\":12,\"../utils/stream.js\":25,\"./flv-tag.js\":6}],9:[function(require,module,exports){\r\n  'use strict';\r\n  \r\n  var muxjs = {\r\n    codecs: require('./codecs'),\r\n    mp4: require('./mp4'),\r\n    flv: require('./flv'),\r\n    mp2t: require('./m2ts')\r\n  };\r\n  \r\n  // include all the tools when the full library is required\r\n  muxjs.mp4.tools = require('./tools/mp4-inspector');\r\n  muxjs.flv.tools = require('./tools/flv-inspector');\r\n  muxjs.mp2t.tools = require('./tools/ts-inspector');\r\n  \r\n  \r\n  module.exports = muxjs;\r\n  window['muxjs'] = muxjs;\r\n  \r\n  },{\"./codecs\":5,\"./flv\":7,\"./m2ts\":11,\"./mp4\":17,\"./tools/flv-inspector\":21,\"./tools/mp4-inspector\":22,\"./tools/ts-inspector\":23}],10:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2015 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * Reads in-band caption information from a video elementary\r\n   * stream. Captions must follow the CEA-708 standard for injection\r\n   * into an MPEG-2 transport streams.\r\n   * @see https://en.wikipedia.org/wiki/CEA-708\r\n   */\r\n  \r\n  'use strict';\r\n  \r\n  // -----------------\r\n  // Link To Transport\r\n  // -----------------\r\n  \r\n  // Supplemental enhancement information (SEI) NAL units have a\r\n  // payload type field to indicate how they are to be\r\n  // interpreted. CEAS-708 caption content is always transmitted with\r\n  // payload type 0x04.\r\n  var USER_DATA_REGISTERED_ITU_T_T35 = 4,\r\n      RBSP_TRAILING_BITS = 128,\r\n      Stream = require('../utils/stream');\r\n  \r\n  /**\r\n    * Parse a supplemental enhancement information (SEI) NAL unit.\r\n    * Stops parsing once a message of type ITU T T35 has been found.\r\n    *\r\n    * @param bytes {Uint8Array} the bytes of a SEI NAL unit\r\n    * @return {object} the parsed SEI payload\r\n    * @see Rec. ITU-T H.264, 7.3.2.3.1\r\n    */\r\n  var parseSei = function(bytes) {\r\n    var\r\n      i = 0,\r\n      result = {\r\n        payloadType: -1,\r\n        payloadSize: 0\r\n      },\r\n      payloadType = 0,\r\n      payloadSize = 0;\r\n  \r\n    // go through the sei_rbsp parsing each each individual sei_message\r\n    while (i < bytes.byteLength) {\r\n      // stop once we have hit the end of the sei_rbsp\r\n      if (bytes[i] === RBSP_TRAILING_BITS) {\r\n        break;\r\n      }\r\n  \r\n      // Parse payload type\r\n      while (bytes[i] === 0xFF) {\r\n        payloadType += 255;\r\n        i++;\r\n      }\r\n      payloadType += bytes[i++];\r\n  \r\n      // Parse payload size\r\n      while (bytes[i] === 0xFF) {\r\n        payloadSize += 255;\r\n        i++;\r\n      }\r\n      payloadSize += bytes[i++];\r\n  \r\n      // this sei_message is a 608/708 caption so save it and break\r\n      // there can only ever be one caption message in a frame's sei\r\n      if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\r\n        result.payloadType = payloadType;\r\n        result.payloadSize = payloadSize;\r\n        result.payload = bytes.subarray(i, i + payloadSize);\r\n        break;\r\n      }\r\n  \r\n      // skip the payload and parse the next message\r\n      i += payloadSize;\r\n      payloadType = 0;\r\n      payloadSize = 0;\r\n    }\r\n  \r\n    return result;\r\n  };\r\n  \r\n  // see ANSI/SCTE 128-1 (2013), section 8.1\r\n  var parseUserData = function(sei) {\r\n    // itu_t_t35_contry_code must be 181 (United States) for\r\n    // captions\r\n    if (sei.payload[0] !== 181) {\r\n      return null;\r\n    }\r\n  \r\n    // itu_t_t35_provider_code should be 49 (ATSC) for captions\r\n    if (((sei.payload[1] << 8) | sei.payload[2]) !== 49) {\r\n      return null;\r\n    }\r\n  \r\n    // the user_identifier should be \"GA94\" to indicate ATSC1 data\r\n    if (String.fromCharCode(sei.payload[3],\r\n                            sei.payload[4],\r\n                            sei.payload[5],\r\n                            sei.payload[6]) !== 'GA94') {\r\n      return null;\r\n    }\r\n  \r\n    // finally, user_data_type_code should be 0x03 for caption data\r\n    if (sei.payload[7] !== 0x03) {\r\n      return null;\r\n    }\r\n  \r\n    // return the user_data_type_structure and strip the trailing\r\n    // marker bits\r\n    return sei.payload.subarray(8, sei.payload.length - 1);\r\n  };\r\n  \r\n  // see CEA-708-D, section 4.4\r\n  var parseCaptionPackets = function(pts, userData) {\r\n    var results = [], i, count, offset, data;\r\n  \r\n    // if this is just filler, return immediately\r\n    if (!(userData[0] & 0x40)) {\r\n      return results;\r\n    }\r\n  \r\n    // parse out the cc_data_1 and cc_data_2 fields\r\n    count = userData[0] & 0x1f;\r\n    for (i = 0; i < count; i++) {\r\n      offset = i * 3;\r\n      data = {\r\n        type: userData[offset + 2] & 0x03,\r\n        pts: pts\r\n      };\r\n  \r\n      // capture cc data when cc_valid is 1\r\n      if (userData[offset + 2] & 0x04) {\r\n        data.ccData = (userData[offset + 3] << 8) | userData[offset + 4];\r\n        results.push(data);\r\n      }\r\n    }\r\n    return results;\r\n  };\r\n  \r\n  var CaptionStream = function() {\r\n    CaptionStream.prototype.init.call(this);\r\n  \r\n    this.captionPackets_ = [];\r\n  \r\n    this.field1_ = new Cea608Stream(); // eslint-disable-line no-use-before-define\r\n  \r\n    // forward data and done events from field1_ to this CaptionStream\r\n    this.field1_.on('data', this.trigger.bind(this, 'data'));\r\n    this.field1_.on('done', this.trigger.bind(this, 'done'));\r\n  };\r\n  CaptionStream.prototype = new Stream();\r\n  CaptionStream.prototype.push = function(event) {\r\n    var sei, userData;\r\n  \r\n    // only examine SEI NALs\r\n    if (event.nalUnitType !== 'sei_rbsp') {\r\n      return;\r\n    }\r\n  \r\n    // parse the sei\r\n    sei = parseSei(event.escapedRBSP);\r\n  \r\n    // ignore everything but user_data_registered_itu_t_t35\r\n    if (sei.payloadType !== USER_DATA_REGISTERED_ITU_T_T35) {\r\n      return;\r\n    }\r\n  \r\n    // parse out the user data payload\r\n    userData = parseUserData(sei);\r\n  \r\n    // ignore unrecognized userData\r\n    if (!userData) {\r\n      return;\r\n    }\r\n  \r\n    // parse out CC data packets and save them for later\r\n    this.captionPackets_ = this.captionPackets_.concat(parseCaptionPackets(event.pts, userData));\r\n  };\r\n  \r\n  CaptionStream.prototype.flush = function() {\r\n    // make sure we actually parsed captions before proceeding\r\n    if (!this.captionPackets_.length) {\r\n      this.field1_.flush();\r\n      return;\r\n    }\r\n  \r\n    // In Chrome, the Array#sort function is not stable so add a\r\n    // presortIndex that we can use to ensure we get a stable-sort\r\n    this.captionPackets_.forEach(function(elem, idx) {\r\n      elem.presortIndex = idx;\r\n    });\r\n  \r\n    // sort caption byte-pairs based on their PTS values\r\n    this.captionPackets_.sort(function(a, b) {\r\n      if (a.pts === b.pts) {\r\n        return a.presortIndex - b.presortIndex;\r\n      }\r\n      return a.pts - b.pts;\r\n    });\r\n  \r\n    // Push each caption into Cea608Stream\r\n    this.captionPackets_.forEach(this.field1_.push, this.field1_);\r\n  \r\n    this.captionPackets_.length = 0;\r\n    this.field1_.flush();\r\n    return;\r\n  };\r\n  // ----------------------\r\n  // Session to Application\r\n  // ----------------------\r\n  \r\n  var BASIC_CHARACTER_TRANSLATION = {\r\n    0x2a: 0xe1,\r\n    0x5c: 0xe9,\r\n    0x5e: 0xed,\r\n    0x5f: 0xf3,\r\n    0x60: 0xfa,\r\n    0x7b: 0xe7,\r\n    0x7c: 0xf7,\r\n    0x7d: 0xd1,\r\n    0x7e: 0xf1,\r\n    0x7f: 0x2588\r\n  };\r\n  \r\n  var getCharFromCode = function(code) {\r\n    if (code === null) {\r\n      return '';\r\n    }\r\n    code = BASIC_CHARACTER_TRANSLATION[code] || code;\r\n    return String.fromCharCode(code);\r\n  };\r\n  \r\n  // Constants for the byte codes recognized by Cea608Stream. This\r\n  // list is not exhaustive. For a more comprehensive listing and\r\n  // semantics see\r\n  // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\r\n  var PADDING                    = 0x0000,\r\n  \r\n      // Pop-on Mode\r\n      RESUME_CAPTION_LOADING     = 0x1420,\r\n      END_OF_CAPTION             = 0x142f,\r\n  \r\n      // Roll-up Mode\r\n      ROLL_UP_2_ROWS             = 0x1425,\r\n      ROLL_UP_3_ROWS             = 0x1426,\r\n      ROLL_UP_4_ROWS             = 0x1427,\r\n      CARRIAGE_RETURN            = 0x142d,\r\n      // Erasure\r\n      BACKSPACE                  = 0x1421,\r\n      ERASE_DISPLAYED_MEMORY     = 0x142c,\r\n      ERASE_NON_DISPLAYED_MEMORY = 0x142e;\r\n  \r\n  // the index of the last row in a CEA-608 display buffer\r\n  var BOTTOM_ROW = 14;\r\n  // CEA-608 captions are rendered onto a 34x15 matrix of character\r\n  // cells. The \"bottom\" row is the last element in the outer array.\r\n  var createDisplayBuffer = function() {\r\n    var result = [], i = BOTTOM_ROW + 1;\r\n    while (i--) {\r\n      result.push('');\r\n    }\r\n    return result;\r\n  };\r\n  \r\n  var Cea608Stream = function() {\r\n    Cea608Stream.prototype.init.call(this);\r\n  \r\n    this.mode_ = 'popOn';\r\n    // When in roll-up mode, the index of the last row that will\r\n    // actually display captions. If a caption is shifted to a row\r\n    // with a lower index than this, it is cleared from the display\r\n    // buffer\r\n    this.topRow_ = 0;\r\n    this.startPts_ = 0;\r\n    this.displayed_ = createDisplayBuffer();\r\n    this.nonDisplayed_ = createDisplayBuffer();\r\n    this.lastControlCode_ = null;\r\n  \r\n    this.push = function(packet) {\r\n      // Ignore other channels\r\n      if (packet.type !== 0) {\r\n        return;\r\n      }\r\n      var data, swap, char0, char1;\r\n      // remove the parity bits\r\n      data = packet.ccData & 0x7f7f;\r\n  \r\n      // ignore duplicate control codes\r\n      if (data === this.lastControlCode_) {\r\n        this.lastControlCode_ = null;\r\n        return;\r\n      }\r\n  \r\n      // Store control codes\r\n      if ((data & 0xf000) === 0x1000) {\r\n        this.lastControlCode_ = data;\r\n      } else {\r\n        this.lastControlCode_ = null;\r\n      }\r\n  \r\n      switch (data) {\r\n      case PADDING:\r\n        break;\r\n      case RESUME_CAPTION_LOADING:\r\n        this.mode_ = 'popOn';\r\n        break;\r\n      case END_OF_CAPTION:\r\n        // if a caption was being displayed, it's gone now\r\n        this.flushDisplayed(packet.pts);\r\n  \r\n        // flip memory\r\n        swap = this.displayed_;\r\n        this.displayed_ = this.nonDisplayed_;\r\n        this.nonDisplayed_ = swap;\r\n  \r\n        // start measuring the time to display the caption\r\n        this.startPts_ = packet.pts;\r\n        break;\r\n  \r\n      case ROLL_UP_2_ROWS:\r\n        this.topRow_ = BOTTOM_ROW - 1;\r\n        this.mode_ = 'rollUp';\r\n        break;\r\n      case ROLL_UP_3_ROWS:\r\n        this.topRow_ = BOTTOM_ROW - 2;\r\n        this.mode_ = 'rollUp';\r\n        break;\r\n      case ROLL_UP_4_ROWS:\r\n        this.topRow_ = BOTTOM_ROW - 3;\r\n        this.mode_ = 'rollUp';\r\n        break;\r\n      case CARRIAGE_RETURN:\r\n        this.flushDisplayed(packet.pts);\r\n        this.shiftRowsUp_();\r\n        this.startPts_ = packet.pts;\r\n        break;\r\n  \r\n      case BACKSPACE:\r\n        if (this.mode_ === 'popOn') {\r\n          this.nonDisplayed_[BOTTOM_ROW] = this.nonDisplayed_[BOTTOM_ROW].slice(0, -1);\r\n        } else {\r\n          this.displayed_[BOTTOM_ROW] = this.displayed_[BOTTOM_ROW].slice(0, -1);\r\n        }\r\n        break;\r\n      case ERASE_DISPLAYED_MEMORY:\r\n        this.flushDisplayed(packet.pts);\r\n        this.displayed_ = createDisplayBuffer();\r\n        break;\r\n      case ERASE_NON_DISPLAYED_MEMORY:\r\n        this.nonDisplayed_ = createDisplayBuffer();\r\n        break;\r\n      default:\r\n        char0 = data >>> 8;\r\n        char1 = data & 0xff;\r\n  \r\n        // Look for a Channel 1 Preamble Address Code\r\n        if (char0 >= 0x10 && char0 <= 0x17 &&\r\n            char1 >= 0x40 && char1 <= 0x7F &&\r\n            (char0 !== 0x10 || char1 < 0x60)) {\r\n          // Follow Safari's lead and replace the PAC with a space\r\n          char0 = 0x20;\r\n          // we only want one space so make the second character null\r\n          // which will get become '' in getCharFromCode\r\n          char1 = null;\r\n        }\r\n  \r\n        // Look for special character sets\r\n        if ((char0 === 0x11 || char0 === 0x19) &&\r\n            (char1 >= 0x30 && char1 <= 0x3F)) {\r\n          // Put in eigth note and space\r\n          char0 = 0x266A;\r\n          char1 = '';\r\n        }\r\n  \r\n        // ignore unsupported control codes\r\n        if ((char0 & 0xf0) === 0x10) {\r\n          return;\r\n        }\r\n  \r\n        // character handling is dependent on the current mode\r\n        this[this.mode_](packet.pts, char0, char1);\r\n        break;\r\n      }\r\n    };\r\n  };\r\n  Cea608Stream.prototype = new Stream();\r\n  // Trigger a cue point that captures the current state of the\r\n  // display buffer\r\n  Cea608Stream.prototype.flushDisplayed = function(pts) {\r\n    var content = this.displayed_\r\n      // remove spaces from the start and end of the string\r\n      .map(function(row) {\r\n        return row.trim();\r\n      })\r\n      // remove empty rows\r\n      .filter(function(row) {\r\n        return row.length;\r\n      })\r\n      // combine all text rows to display in one cue\r\n      .join('\\n');\r\n  \r\n    if (content.length) {\r\n      this.trigger('data', {\r\n        startPts: this.startPts_,\r\n        endPts: pts,\r\n        text: content\r\n      });\r\n    }\r\n  };\r\n  \r\n  // Mode Implementations\r\n  Cea608Stream.prototype.popOn = function(pts, char0, char1) {\r\n    var baseRow = this.nonDisplayed_[BOTTOM_ROW];\r\n  \r\n    // buffer characters\r\n    baseRow += getCharFromCode(char0);\r\n    baseRow += getCharFromCode(char1);\r\n    this.nonDisplayed_[BOTTOM_ROW] = baseRow;\r\n  };\r\n  \r\n  Cea608Stream.prototype.rollUp = function(pts, char0, char1) {\r\n    var baseRow = this.displayed_[BOTTOM_ROW];\r\n    if (baseRow === '') {\r\n      // we're starting to buffer new display input, so flush out the\r\n      // current display\r\n      this.flushDisplayed(pts);\r\n  \r\n      this.startPts_ = pts;\r\n    }\r\n  \r\n    baseRow += getCharFromCode(char0);\r\n    baseRow += getCharFromCode(char1);\r\n  \r\n    this.displayed_[BOTTOM_ROW] = baseRow;\r\n  };\r\n  Cea608Stream.prototype.shiftRowsUp_ = function() {\r\n    var i;\r\n    // clear out inactive rows\r\n    for (i = 0; i < this.topRow_; i++) {\r\n      this.displayed_[i] = '';\r\n    }\r\n    // shift displayed rows up\r\n    for (i = this.topRow_; i < BOTTOM_ROW; i++) {\r\n      this.displayed_[i] = this.displayed_[i + 1];\r\n    }\r\n    // clear out the bottom row\r\n    this.displayed_[BOTTOM_ROW] = '';\r\n  };\r\n  \r\n  // exports\r\n  module.exports = {\r\n    CaptionStream: CaptionStream,\r\n    Cea608Stream: Cea608Stream\r\n  };\r\n  \r\n  },{\"../utils/stream\":25}],11:[function(require,module,exports){\r\n  module.exports = require('./m2ts');\r\n  \r\n  },{\"./m2ts\":12}],12:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2015 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * A stream-based mp2t to mp4 converter. This utility can be used to\r\n   * deliver mp4s to a SourceBuffer on platforms that support native\r\n   * Media Source Extensions.\r\n   */\r\n  'use strict';\r\n  var Stream = require('../utils/stream.js'),\r\n    CaptionStream = require('./caption-stream'),\r\n    StreamTypes = require('./stream-types'),\r\n    TimestampRolloverStream = require('./timestamp-rollover-stream').TimestampRolloverStream;\r\n  \r\n  var m2tsStreamTypes = require('./stream-types.js');\r\n  \r\n  // object types\r\n  var TransportPacketStream, TransportParseStream, ElementaryStream;\r\n  \r\n  // constants\r\n  var\r\n    MP2T_PACKET_LENGTH = 188, // bytes\r\n    SYNC_BYTE = 0x47;\r\n  \r\n  /**\r\n   * Splits an incoming stream of binary data into MPEG-2 Transport\r\n   * Stream packets.\r\n   */\r\n  TransportPacketStream = function() {\r\n    var\r\n      buffer = new Uint8Array(MP2T_PACKET_LENGTH),\r\n      bytesInBuffer = 0;\r\n  \r\n    TransportPacketStream.prototype.init.call(this);\r\n  \r\n     // Deliver new bytes to the stream.\r\n  \r\n    this.push = function(bytes) {\r\n      var\r\n        startIndex = 0,\r\n        endIndex = MP2T_PACKET_LENGTH,\r\n        everything;\r\n  \r\n      // If there are bytes remaining from the last segment, prepend them to the\r\n      // bytes that were pushed in\r\n      if (bytesInBuffer) {\r\n        everything = new Uint8Array(bytes.byteLength + bytesInBuffer);\r\n        everything.set(buffer.subarray(0, bytesInBuffer));\r\n        everything.set(bytes, bytesInBuffer);\r\n        bytesInBuffer = 0;\r\n      } else {\r\n        everything = bytes;\r\n      }\r\n  \r\n      // While we have enough data for a packet\r\n      while (endIndex < everything.byteLength) {\r\n        // Look for a pair of start and end sync bytes in the data..\r\n        if (everything[startIndex] === SYNC_BYTE && everything[endIndex] === SYNC_BYTE) {\r\n          // We found a packet so emit it and jump one whole packet forward in\r\n          // the stream\r\n          this.trigger('data', everything.subarray(startIndex, endIndex));\r\n          startIndex += MP2T_PACKET_LENGTH;\r\n          endIndex += MP2T_PACKET_LENGTH;\r\n          continue;\r\n        }\r\n        // If we get here, we have somehow become de-synchronized and we need to step\r\n        // forward one byte at a time until we find a pair of sync bytes that denote\r\n        // a packet\r\n        startIndex++;\r\n        endIndex++;\r\n      }\r\n  \r\n      // If there was some data left over at the end of the segment that couldn't\r\n      // possibly be a whole packet, keep it because it might be the start of a packet\r\n      // that continues in the next segment\r\n      if (startIndex < everything.byteLength) {\r\n        buffer.set(everything.subarray(startIndex), 0);\r\n        bytesInBuffer = everything.byteLength - startIndex;\r\n      }\r\n    };\r\n  \r\n    this.flush = function() {\r\n      // If the buffer contains a whole packet when we are being flushed, emit it\r\n      // and empty the buffer. Otherwise hold onto the data because it may be\r\n      // important for decoding the next segment\r\n      if (bytesInBuffer === MP2T_PACKET_LENGTH && buffer[0] === SYNC_BYTE) {\r\n        this.trigger('data', buffer);\r\n        bytesInBuffer = 0;\r\n      }\r\n      this.trigger('done');\r\n    };\r\n  };\r\n  TransportPacketStream.prototype = new Stream();\r\n  \r\n  /**\r\n   * Accepts an MP2T TransportPacketStream and emits data events with parsed\r\n   * forms of the individual transport stream packets.\r\n   */\r\n  TransportParseStream = function() {\r\n    var parsePsi, parsePat, parsePmt, self;\r\n    TransportParseStream.prototype.init.call(this);\r\n    self = this;\r\n  \r\n    this.packetsWaitingForPmt = [];\r\n    this.programMapTable = undefined;\r\n  \r\n    parsePsi = function(payload, psi) {\r\n      var offset = 0;\r\n  \r\n      // PSI packets may be split into multiple sections and those\r\n      // sections may be split into multiple packets. If a PSI\r\n      // section starts in this packet, the payload_unit_start_indicator\r\n      // will be true and the first byte of the payload will indicate\r\n      // the offset from the current position to the start of the\r\n      // section.\r\n      if (psi.payloadUnitStartIndicator) {\r\n        offset += payload[offset] + 1;\r\n      }\r\n  \r\n      if (psi.type === 'pat') {\r\n        parsePat(payload.subarray(offset), psi);\r\n      } else {\r\n        parsePmt(payload.subarray(offset), psi);\r\n      }\r\n    };\r\n  \r\n    parsePat = function(payload, pat) {\r\n      pat.section_number = payload[7]; // eslint-disable-line camelcase\r\n      pat.last_section_number = payload[8]; // eslint-disable-line camelcase\r\n  \r\n      // skip the PSI header and parse the first PMT entry\r\n      self.pmtPid = (payload[10] & 0x1F) << 8 | payload[11];\r\n      pat.pmtPid = self.pmtPid;\r\n    };\r\n  \r\n    /**\r\n     * Parse out the relevant fields of a Program Map Table (PMT).\r\n     * @param payload {Uint8Array} the PMT-specific portion of an MP2T\r\n     * packet. The first byte in this array should be the table_id\r\n     * field.\r\n     * @param pmt {object} the object that should be decorated with\r\n     * fields parsed from the PMT.\r\n     */\r\n    parsePmt = function(payload, pmt) {\r\n      var sectionLength, tableEnd, programInfoLength, offset;\r\n  \r\n      // PMTs can be sent ahead of the time when they should actually\r\n      // take effect. We don't believe this should ever be the case\r\n      // for HLS but we'll ignore \"forward\" PMT declarations if we see\r\n      // them. Future PMT declarations have the current_next_indicator\r\n      // set to zero.\r\n      if (!(payload[5] & 0x01)) {\r\n        return;\r\n      }\r\n  \r\n      // overwrite any existing program map table\r\n      self.programMapTable = {};\r\n  \r\n      // the mapping table ends at the end of the current section\r\n      sectionLength = (payload[1] & 0x0f) << 8 | payload[2];\r\n      tableEnd = 3 + sectionLength - 4;\r\n  \r\n      // to determine where the table is, we have to figure out how\r\n      // long the program info descriptors are\r\n      programInfoLength = (payload[10] & 0x0f) << 8 | payload[11];\r\n  \r\n      // advance the offset to the first entry in the mapping table\r\n      offset = 12 + programInfoLength;\r\n      while (offset < tableEnd) {\r\n        // add an entry that maps the elementary_pid to the stream_type\r\n        self.programMapTable[(payload[offset + 1] & 0x1F) << 8 | payload[offset + 2]] = payload[offset];\r\n  \r\n        // move to the next table entry\r\n        // skip past the elementary stream descriptors, if present\r\n        offset += ((payload[offset + 3] & 0x0F) << 8 | payload[offset + 4]) + 5;\r\n      }\r\n  \r\n      // record the map on the packet as well\r\n      pmt.programMapTable = self.programMapTable;\r\n  \r\n      // if there are any packets waiting for a PMT to be found, process them now\r\n      while (self.packetsWaitingForPmt.length) {\r\n        self.processPes_.apply(self, self.packetsWaitingForPmt.shift());\r\n      }\r\n    };\r\n  \r\n    /**\r\n     * Deliver a new MP2T packet to the stream.\r\n     */\r\n    this.push = function(packet) {\r\n      var\r\n        result = {},\r\n        offset = 4;\r\n  \r\n      result.payloadUnitStartIndicator = !!(packet[1] & 0x40);\r\n  \r\n      // pid is a 13-bit field starting at the last bit of packet[1]\r\n      result.pid = packet[1] & 0x1f;\r\n      result.pid <<= 8;\r\n      result.pid |= packet[2];\r\n  \r\n      // if an adaption field is present, its length is specified by the\r\n      // fifth byte of the TS packet header. The adaptation field is\r\n      // used to add stuffing to PES packets that don't fill a complete\r\n      // TS packet, and to specify some forms of timing and control data\r\n      // that we do not currently use.\r\n      if (((packet[3] & 0x30) >>> 4) > 0x01) {\r\n        offset += packet[offset] + 1;\r\n      }\r\n  \r\n      // parse the rest of the packet based on the type\r\n      if (result.pid === 0) {\r\n        result.type = 'pat';\r\n        parsePsi(packet.subarray(offset), result);\r\n        this.trigger('data', result);\r\n      } else if (result.pid === this.pmtPid) {\r\n        result.type = 'pmt';\r\n        parsePsi(packet.subarray(offset), result);\r\n        this.trigger('data', result);\r\n      } else if (this.programMapTable === undefined) {\r\n        // When we have not seen a PMT yet, defer further processing of\r\n        // PES packets until one has been parsed\r\n        this.packetsWaitingForPmt.push([packet, offset, result]);\r\n      } else {\r\n        this.processPes_(packet, offset, result);\r\n      }\r\n    };\r\n  \r\n    this.processPes_ = function(packet, offset, result) {\r\n      result.streamType = this.programMapTable[result.pid];\r\n      result.type = 'pes';\r\n      result.data = packet.subarray(offset);\r\n  \r\n      this.trigger('data', result);\r\n    };\r\n  \r\n  };\r\n  TransportParseStream.prototype = new Stream();\r\n  TransportParseStream.STREAM_TYPES  = {\r\n    h264: 0x1b,\r\n    adts: 0x0f\r\n  };\r\n  \r\n  /**\r\n   * Reconsistutes program elementary stream (PES) packets from parsed\r\n   * transport stream packets. That is, if you pipe an\r\n   * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output\r\n   * events will be events which capture the bytes for individual PES\r\n   * packets plus relevant metadata that has been extracted from the\r\n   * container.\r\n   */\r\n  ElementaryStream = function() {\r\n    var\r\n      self = this,\r\n      // PES packet fragments\r\n      video = {\r\n        data: [],\r\n        size: 0\r\n      },\r\n      audio = {\r\n        data: [],\r\n        size: 0\r\n      },\r\n      timedMetadata = {\r\n        data: [],\r\n        size: 0\r\n      },\r\n      parsePes = function(payload, pes) {\r\n        var ptsDtsFlags;\r\n  \r\n        // find out if this packets starts a new keyframe\r\n        pes.dataAlignmentIndicator = (payload[6] & 0x04) !== 0;\r\n        // PES packets may be annotated with a PTS value, or a PTS value\r\n        // and a DTS value. Determine what combination of values is\r\n        // available to work with.\r\n        ptsDtsFlags = payload[7];\r\n  \r\n        // PTS and DTS are normally stored as a 33-bit number.  Javascript\r\n        // performs all bitwise operations on 32-bit integers but javascript\r\n        // supports a much greater range (52-bits) of integer using standard\r\n        // mathematical operations.\r\n        // We construct a 31-bit value using bitwise operators over the 31\r\n        // most significant bits and then multiply by 4 (equal to a left-shift\r\n        // of 2) before we add the final 2 least significant bits of the\r\n        // timestamp (equal to an OR.)\r\n        if (ptsDtsFlags & 0xC0) {\r\n          // the PTS and DTS are not written out directly. For information\r\n          // on how they are encoded, see\r\n          // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\r\n          pes.pts = (payload[9] & 0x0E) << 27 |\r\n            (payload[10] & 0xFF) << 20 |\r\n            (payload[11] & 0xFE) << 12 |\r\n            (payload[12] & 0xFF) <<  5 |\r\n            (payload[13] & 0xFE) >>>  3;\r\n          pes.pts *= 4; // Left shift by 2\r\n          pes.pts += (payload[13] & 0x06) >>> 1; // OR by the two LSBs\r\n          pes.dts = pes.pts;\r\n          if (ptsDtsFlags & 0x40) {\r\n            pes.dts = (payload[14] & 0x0E) << 27 |\r\n              (payload[15] & 0xFF) << 20 |\r\n              (payload[16] & 0xFE) << 12 |\r\n              (payload[17] & 0xFF) << 5 |\r\n              (payload[18] & 0xFE) >>> 3;\r\n            pes.dts *= 4; // Left shift by 2\r\n            pes.dts += (payload[18] & 0x06) >>> 1; // OR by the two LSBs\r\n          }\r\n        }\r\n        // the data section starts immediately after the PES header.\r\n        // pes_header_data_length specifies the number of header bytes\r\n        // that follow the last byte of the field.\r\n        pes.data = payload.subarray(9 + payload[8]);\r\n      },\r\n      flushStream = function(stream, type) {\r\n        var\r\n          packetData = new Uint8Array(stream.size),\r\n          event = {\r\n            type: type\r\n          },\r\n          i = 0,\r\n          fragment;\r\n  \r\n        // do nothing if there is no buffered data\r\n        if (!stream.data.length) {\r\n          return;\r\n        }\r\n        event.trackId = stream.data[0].pid;\r\n  \r\n        // reassemble the packet\r\n        while (stream.data.length) {\r\n          fragment = stream.data.shift();\r\n  \r\n          packetData.set(fragment.data, i);\r\n          i += fragment.data.byteLength;\r\n        }\r\n  \r\n        // parse assembled packet's PES header\r\n        parsePes(packetData, event);\r\n  \r\n        stream.size = 0;\r\n  \r\n        self.trigger('data', event);\r\n      };\r\n  \r\n    ElementaryStream.prototype.init.call(this);\r\n  \r\n    this.push = function(data) {\r\n      ({\r\n        pat: function() {\r\n          // we have to wait for the PMT to arrive as well before we\r\n          // have any meaningful metadata\r\n        },\r\n        pes: function() {\r\n          var stream, streamType;\r\n  \r\n          switch (data.streamType) {\r\n          case StreamTypes.H264_STREAM_TYPE:\r\n          case m2tsStreamTypes.H264_STREAM_TYPE:\r\n            stream = video;\r\n            streamType = 'video';\r\n            break;\r\n          case StreamTypes.ADTS_STREAM_TYPE:\r\n            stream = audio;\r\n            streamType = 'audio';\r\n            break;\r\n          case StreamTypes.METADATA_STREAM_TYPE:\r\n            stream = timedMetadata;\r\n            streamType = 'timed-metadata';\r\n            break;\r\n          default:\r\n            // ignore unknown stream types\r\n            return;\r\n          }\r\n  \r\n          // if a new packet is starting, we can flush the completed\r\n          // packet\r\n          if (data.payloadUnitStartIndicator) {\r\n            flushStream(stream, streamType);\r\n          }\r\n  \r\n          // buffer this fragment until we are sure we've received the\r\n          // complete payload\r\n          stream.data.push(data);\r\n          stream.size += data.data.byteLength;\r\n        },\r\n        pmt: function() {\r\n          var\r\n            event = {\r\n              type: 'metadata',\r\n              tracks: []\r\n            },\r\n            programMapTable = data.programMapTable,\r\n            k,\r\n            track;\r\n  \r\n          // translate streams to tracks\r\n          for (k in programMapTable) {\r\n            if (programMapTable.hasOwnProperty(k)) {\r\n              track = {\r\n                timelineStartInfo: {\r\n                  baseMediaDecodeTime: 0\r\n                }\r\n              };\r\n              track.id = +k;\r\n              if (programMapTable[k] === m2tsStreamTypes.H264_STREAM_TYPE) {\r\n                track.codec = 'avc';\r\n                track.type = 'video';\r\n              } else if (programMapTable[k] === m2tsStreamTypes.ADTS_STREAM_TYPE) {\r\n                track.codec = 'adts';\r\n                track.type = 'audio';\r\n              }\r\n              event.tracks.push(track);\r\n            }\r\n          }\r\n          self.trigger('data', event);\r\n        }\r\n      })[data.type]();\r\n    };\r\n  \r\n    /**\r\n     * Flush any remaining input. Video PES packets may be of variable\r\n     * length. Normally, the start of a new video packet can trigger the\r\n     * finalization of the previous packet. That is not possible if no\r\n     * more video is forthcoming, however. In that case, some other\r\n     * mechanism (like the end of the file) has to be employed. When it is\r\n     * clear that no additional data is forthcoming, calling this method\r\n     * will flush the buffered packets.\r\n     */\r\n    this.flush = function() {\r\n      // !!THIS ORDER IS IMPORTANT!!\r\n      // video first then audio\r\n      flushStream(video, 'video');\r\n      flushStream(audio, 'audio');\r\n      flushStream(timedMetadata, 'timed-metadata');\r\n      this.trigger('done');\r\n    };\r\n  };\r\n  ElementaryStream.prototype = new Stream();\r\n  \r\n  var m2ts = {\r\n    PAT_PID: 0x0000,\r\n    MP2T_PACKET_LENGTH: MP2T_PACKET_LENGTH,\r\n    TransportPacketStream: TransportPacketStream,\r\n    TransportParseStream: TransportParseStream,\r\n    ElementaryStream: ElementaryStream,\r\n    TimestampRolloverStream: TimestampRolloverStream,\r\n    CaptionStream: CaptionStream.CaptionStream,\r\n    Cea608Stream: CaptionStream.Cea608Stream,\r\n    MetadataStream: require('./metadata-stream')\r\n  };\r\n  \r\n  for (var type in StreamTypes) {\r\n    if (StreamTypes.hasOwnProperty(type)) {\r\n      m2ts[type] = StreamTypes[type];\r\n    }\r\n  }\r\n  \r\n  module.exports = m2ts;\r\n  \r\n  },{\"../utils/stream.js\":25,\"./caption-stream\":10,\"./metadata-stream\":13,\"./stream-types\":15,\"./stream-types.js\":15,\"./timestamp-rollover-stream\":16}],13:[function(require,module,exports){\r\n  /**\r\n   * Accepts program elementary stream (PES) data events and parses out\r\n   * ID3 metadata from them, if present.\r\n   * @see http://id3.org/id3v2.3.0\r\n   */\r\n  'use strict';\r\n  var\r\n    Stream = require('../utils/stream'),\r\n    StreamTypes = require('./stream-types'),\r\n    // return a percent-encoded representation of the specified byte range\r\n    // @see http://en.wikipedia.org/wiki/Percent-encoding\r\n    percentEncode = function(bytes, start, end) {\r\n      var i, result = '';\r\n      for (i = start; i < end; i++) {\r\n        result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\r\n      }\r\n      return result;\r\n    },\r\n    // return the string representation of the specified byte range,\r\n    // interpreted as UTf-8.\r\n    parseUtf8 = function(bytes, start, end) {\r\n      return decodeURIComponent(percentEncode(bytes, start, end));\r\n    },\r\n    // return the string representation of the specified byte range,\r\n    // interpreted as ISO-8859-1.\r\n    parseIso88591 = function(bytes, start, end) {\r\n      return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\r\n    },\r\n    parseSyncSafeInteger = function(data) {\r\n      return (data[0] << 21) |\r\n              (data[1] << 14) |\r\n              (data[2] << 7) |\r\n              (data[3]);\r\n    },\r\n    tagParsers = {\r\n      TXXX: function(tag) {\r\n        var i;\r\n        if (tag.data[0] !== 3) {\r\n          // ignore frames with unrecognized character encodings\r\n          return;\r\n        }\r\n  \r\n        for (i = 1; i < tag.data.length; i++) {\r\n          if (tag.data[i] === 0) {\r\n            // parse the text fields\r\n            tag.description = parseUtf8(tag.data, 1, i);\r\n            // do not include the null terminator in the tag value\r\n            tag.value = parseUtf8(tag.data, i + 1, tag.data.length - 1);\r\n            break;\r\n          }\r\n        }\r\n        tag.data = tag.value;\r\n      },\r\n      WXXX: function(tag) {\r\n        var i;\r\n        if (tag.data[0] !== 3) {\r\n          // ignore frames with unrecognized character encodings\r\n          return;\r\n        }\r\n  \r\n        for (i = 1; i < tag.data.length; i++) {\r\n          if (tag.data[i] === 0) {\r\n            // parse the description and URL fields\r\n            tag.description = parseUtf8(tag.data, 1, i);\r\n            tag.url = parseUtf8(tag.data, i + 1, tag.data.length);\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      PRIV: function(tag) {\r\n        var i;\r\n  \r\n        for (i = 0; i < tag.data.length; i++) {\r\n          if (tag.data[i] === 0) {\r\n            // parse the description and URL fields\r\n            tag.owner = parseIso88591(tag.data, 0, i);\r\n            break;\r\n          }\r\n        }\r\n        tag.privateData = tag.data.subarray(i + 1);\r\n        tag.data = tag.privateData;\r\n      }\r\n    },\r\n    MetadataStream;\r\n  \r\n  MetadataStream = function(options) {\r\n    var\r\n      settings = {\r\n        debug: !!(options && options.debug),\r\n  \r\n        // the bytes of the program-level descriptor field in MP2T\r\n        // see ISO/IEC 13818-1:2013 (E), section 2.6 \"Program and\r\n        // program element descriptors\"\r\n        descriptor: options && options.descriptor\r\n      },\r\n      // the total size in bytes of the ID3 tag being parsed\r\n      tagSize = 0,\r\n      // tag data that is not complete enough to be parsed\r\n      buffer = [],\r\n      // the total number of bytes currently in the buffer\r\n      bufferSize = 0,\r\n      i;\r\n  \r\n    MetadataStream.prototype.init.call(this);\r\n  \r\n    // calculate the text track in-band metadata track dispatch type\r\n    // https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track\r\n    this.dispatchType = StreamTypes.METADATA_STREAM_TYPE.toString(16);\r\n    if (settings.descriptor) {\r\n      for (i = 0; i < settings.descriptor.length; i++) {\r\n        this.dispatchType += ('00' + settings.descriptor[i].toString(16)).slice(-2);\r\n      }\r\n    }\r\n  \r\n    this.push = function(chunk) {\r\n      var tag, frameStart, frameSize, frame, i, frameHeader;\r\n      if (chunk.type !== 'timed-metadata') {\r\n        return;\r\n      }\r\n  \r\n      // if data_alignment_indicator is set in the PES header,\r\n      // we must have the start of a new ID3 tag. Assume anything\r\n      // remaining in the buffer was malformed and throw it out\r\n      if (chunk.dataAlignmentIndicator) {\r\n        bufferSize = 0;\r\n        buffer.length = 0;\r\n      }\r\n  \r\n      // ignore events that don't look like ID3 data\r\n      if (buffer.length === 0 &&\r\n          (chunk.data.length < 10 ||\r\n            chunk.data[0] !== 'I'.charCodeAt(0) ||\r\n            chunk.data[1] !== 'D'.charCodeAt(0) ||\r\n            chunk.data[2] !== '3'.charCodeAt(0))) {\r\n        if (settings.debug) {\r\n          // eslint-disable-next-line no-console\r\n          console.log('Skipping unrecognized metadata packet');\r\n        }\r\n        return;\r\n      }\r\n  \r\n      // add this chunk to the data we've collected so far\r\n  \r\n      buffer.push(chunk);\r\n      bufferSize += chunk.data.byteLength;\r\n  \r\n      // grab the size of the entire frame from the ID3 header\r\n      if (buffer.length === 1) {\r\n        // the frame size is transmitted as a 28-bit integer in the\r\n        // last four bytes of the ID3 header.\r\n        // The most significant bit of each byte is dropped and the\r\n        // results concatenated to recover the actual value.\r\n        tagSize = parseSyncSafeInteger(chunk.data.subarray(6, 10));\r\n  \r\n        // ID3 reports the tag size excluding the header but it's more\r\n        // convenient for our comparisons to include it\r\n        tagSize += 10;\r\n      }\r\n  \r\n      // if the entire frame has not arrived, wait for more data\r\n      if (bufferSize < tagSize) {\r\n        return;\r\n      }\r\n  \r\n      // collect the entire frame so it can be parsed\r\n      tag = {\r\n        data: new Uint8Array(tagSize),\r\n        frames: [],\r\n        pts: buffer[0].pts,\r\n        dts: buffer[0].dts\r\n      };\r\n      for (i = 0; i < tagSize;) {\r\n        tag.data.set(buffer[0].data.subarray(0, tagSize - i), i);\r\n        i += buffer[0].data.byteLength;\r\n        bufferSize -= buffer[0].data.byteLength;\r\n        buffer.shift();\r\n      }\r\n  \r\n      // find the start of the first frame and the end of the tag\r\n      frameStart = 10;\r\n      if (tag.data[5] & 0x40) {\r\n        // advance the frame start past the extended header\r\n        frameStart += 4; // header size field\r\n        frameStart += parseSyncSafeInteger(tag.data.subarray(10, 14));\r\n  \r\n        // clip any padding off the end\r\n        tagSize -= parseSyncSafeInteger(tag.data.subarray(16, 20));\r\n      }\r\n  \r\n      // parse one or more ID3 frames\r\n      // http://id3.org/id3v2.3.0#ID3v2_frame_overview\r\n      do {\r\n        // determine the number of bytes in this frame\r\n        frameSize = parseSyncSafeInteger(tag.data.subarray(frameStart + 4, frameStart + 8));\r\n        if (frameSize < 1) {\r\n           // eslint-disable-next-line no-console\r\n          return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');\r\n        }\r\n        frameHeader = String.fromCharCode(tag.data[frameStart],\r\n                                          tag.data[frameStart + 1],\r\n                                          tag.data[frameStart + 2],\r\n                                          tag.data[frameStart + 3]);\r\n  \r\n  \r\n        frame = {\r\n          id: frameHeader,\r\n          data: tag.data.subarray(frameStart + 10, frameStart + frameSize + 10)\r\n        };\r\n        frame.key = frame.id;\r\n        if (tagParsers[frame.id]) {\r\n          tagParsers[frame.id](frame);\r\n  \r\n          // handle the special PRIV frame used to indicate the start\r\n          // time for raw AAC data\r\n          if (frame.owner === 'com.apple.streaming.transportStreamTimestamp') {\r\n            var\r\n              d = frame.data,\r\n              size = ((d[3] & 0x01)  << 30) |\r\n                     (d[4]  << 22) |\r\n                     (d[5] << 14) |\r\n                     (d[6] << 6) |\r\n                     (d[7] >>> 2);\r\n  \r\n            size *= 4;\r\n            size += d[7] & 0x03;\r\n            frame.timeStamp = size;\r\n            // in raw AAC, all subsequent data will be timestamped based\r\n            // on the value of this frame\r\n            // we couldn't have known the appropriate pts and dts before\r\n            // parsing this ID3 tag so set those values now\r\n            if (tag.pts === undefined && tag.dts === undefined) {\r\n              tag.pts = frame.timeStamp;\r\n              tag.dts = frame.timeStamp;\r\n            }\r\n            this.trigger('timestamp', frame);\r\n          }\r\n        }\r\n        tag.frames.push(frame);\r\n  \r\n        frameStart += 10; // advance past the frame header\r\n        frameStart += frameSize; // advance past the frame body\r\n      } while (frameStart < tagSize);\r\n      this.trigger('data', tag);\r\n    };\r\n  };\r\n  MetadataStream.prototype = new Stream();\r\n  \r\n  module.exports = MetadataStream;\r\n  \r\n  },{\"../utils/stream\":25,\"./stream-types\":15}],14:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2016 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * Utilities to detect basic properties and metadata about TS Segments.\r\n   */\r\n  'use strict';\r\n  \r\n  var StreamTypes = require('./stream-types.js');\r\n  \r\n  var parsePid = function(packet) {\r\n    var pid = packet[1] & 0x1f;\r\n    pid <<= 8;\r\n    pid |= packet[2];\r\n    return pid;\r\n  };\r\n  \r\n  var parsePayloadUnitStartIndicator = function(packet) {\r\n    return !!(packet[1] & 0x40);\r\n  };\r\n  \r\n  var parseAdaptionField = function(packet) {\r\n    var offset = 0;\r\n    // if an adaption field is present, its length is specified by the\r\n    // fifth byte of the TS packet header. The adaptation field is\r\n    // used to add stuffing to PES packets that don't fill a complete\r\n    // TS packet, and to specify some forms of timing and control data\r\n    // that we do not currently use.\r\n    if (((packet[3] & 0x30) >>> 4) > 0x01) {\r\n      offset += packet[4] + 1;\r\n    }\r\n    return offset;\r\n  };\r\n  \r\n  var parseType = function(packet, pmtPid) {\r\n    var pid = parsePid(packet);\r\n    if (pid === 0) {\r\n      return 'pat';\r\n    } else if (pid === pmtPid) {\r\n      return 'pmt';\r\n    } else if (pmtPid) {\r\n      return 'pes';\r\n    }\r\n    return null;\r\n  };\r\n  \r\n  var parsePat = function(packet) {\r\n    var pusi = parsePayloadUnitStartIndicator(packet);\r\n    var offset = 4 + parseAdaptionField(packet);\r\n  \r\n    if (pusi) {\r\n      offset += packet[offset] + 1;\r\n    }\r\n  \r\n    return (packet[offset + 10] & 0x1f) << 8 | packet[offset + 11];\r\n  };\r\n  \r\n  var parsePmt = function(packet) {\r\n    var programMapTable = {};\r\n    var pusi = parsePayloadUnitStartIndicator(packet);\r\n    var payloadOffset = 4 + parseAdaptionField(packet);\r\n  \r\n    if (pusi) {\r\n      payloadOffset += packet[payloadOffset] + 1;\r\n    }\r\n  \r\n    // PMTs can be sent ahead of the time when they should actually\r\n    // take effect. We don't believe this should ever be the case\r\n    // for HLS but we'll ignore \"forward\" PMT declarations if we see\r\n    // them. Future PMT declarations have the current_next_indicator\r\n    // set to zero.\r\n    if (!(packet[payloadOffset + 5] & 0x01)) {\r\n      return;\r\n    }\r\n  \r\n    var sectionLength, tableEnd, programInfoLength;\r\n    // the mapping table ends at the end of the current section\r\n    sectionLength = (packet[payloadOffset + 1] & 0x0f) << 8 | packet[payloadOffset + 2];\r\n    tableEnd = 3 + sectionLength - 4;\r\n  \r\n    // to determine where the table is, we have to figure out how\r\n    // long the program info descriptors are\r\n    programInfoLength = (packet[payloadOffset + 10] & 0x0f) << 8 | packet[payloadOffset + 11];\r\n  \r\n    // advance the offset to the first entry in the mapping table\r\n    var offset = 12 + programInfoLength;\r\n    while (offset < tableEnd) {\r\n      var i = payloadOffset + offset;\r\n      // add an entry that maps the elementary_pid to the stream_type\r\n      programMapTable[(packet[i + 1] & 0x1F) << 8 | packet[i + 2]] = packet[i];\r\n  \r\n      // move to the next table entry\r\n      // skip past the elementary stream descriptors, if present\r\n      offset += ((packet[i + 3] & 0x0F) << 8 | packet[i + 4]) + 5;\r\n    }\r\n    return programMapTable;\r\n  };\r\n  \r\n  var parsePesType = function(packet, programMapTable) {\r\n    var pid = parsePid(packet);\r\n    var type = programMapTable[pid];\r\n    switch (type) {\r\n      case StreamTypes.H264_STREAM_TYPE:\r\n        return 'video';\r\n      case StreamTypes.ADTS_STREAM_TYPE:\r\n        return 'audio';\r\n      case StreamTypes.METADATA_STREAM_TYPE:\r\n        return 'timed-metadata';\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  \r\n  var parsePesTime = function(packet) {\r\n    var pusi = parsePayloadUnitStartIndicator(packet);\r\n    if (!pusi) {\r\n      return null;\r\n    }\r\n  \r\n    var offset = 4 + parseAdaptionField(packet);\r\n  \r\n    var pes = {};\r\n    var ptsDtsFlags;\r\n  \r\n    // PES packets may be annotated with a PTS value, or a PTS value\r\n    // and a DTS value. Determine what combination of values is\r\n    // available to work with.\r\n    ptsDtsFlags = packet[offset + 7];\r\n  \r\n    // PTS and DTS are normally stored as a 33-bit number.  Javascript\r\n    // performs all bitwise operations on 32-bit integers but javascript\r\n    // supports a much greater range (52-bits) of integer using standard\r\n    // mathematical operations.\r\n    // We construct a 31-bit value using bitwise operators over the 31\r\n    // most significant bits and then multiply by 4 (equal to a left-shift\r\n    // of 2) before we add the final 2 least significant bits of the\r\n    // timestamp (equal to an OR.)\r\n    if (ptsDtsFlags & 0xC0) {\r\n      // the PTS and DTS are not written out directly. For information\r\n      // on how they are encoded, see\r\n      // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\r\n      pes.pts = (packet[offset + 9] & 0x0E) << 27 |\r\n        (packet[offset + 10] & 0xFF) << 20 |\r\n        (packet[offset + 11] & 0xFE) << 12 |\r\n        (packet[offset + 12] & 0xFF) <<  5 |\r\n        (packet[offset + 13] & 0xFE) >>>  3;\r\n      pes.pts *= 4; // Left shift by 2\r\n      pes.pts += (packet[offset + 13] & 0x06) >>> 1; // OR by the two LSBs\r\n      pes.dts = pes.pts;\r\n      if (ptsDtsFlags & 0x40) {\r\n        pes.dts = (packet[offset + 14] & 0x0E) << 27 |\r\n          (packet[offset + 15] & 0xFF) << 20 |\r\n          (packet[offset + 16] & 0xFE) << 12 |\r\n          (packet[offset + 17] & 0xFF) << 5 |\r\n          (packet[offset + 18] & 0xFE) >>> 3;\r\n        pes.dts *= 4; // Left shift by 2\r\n        pes.dts += (packet[offset + 18] & 0x06) >>> 1; // OR by the two LSBs\r\n      }\r\n    }\r\n    return pes;\r\n  };\r\n  \r\n  var parseNalUnitType = function(type) {\r\n    switch (type) {\r\n      case 0x05:\r\n        return 'slice_layer_without_partitioning_rbsp_idr';\r\n      case 0x06:\r\n        return 'sei_rbsp';\r\n      case 0x07:\r\n        return 'seq_parameter_set_rbsp';\r\n      case 0x08:\r\n        return 'pic_parameter_set_rbsp';\r\n      case 0x09:\r\n        return 'access_unit_delimiter_rbsp';\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  \r\n  var videoPacketContainsKeyFrame = function(packet) {\r\n    var offset = 4 + parseAdaptionField(packet);\r\n    var frameBuffer = packet.subarray(offset);\r\n    var frameI = 0;\r\n    var frameSyncPoint = 0;\r\n    var foundKeyFrame = false;\r\n    var nalType;\r\n  \r\n    // advance the sync point to a NAL start, if necessary\r\n    for (; frameSyncPoint < frameBuffer.byteLength - 3; frameSyncPoint++) {\r\n      if (frameBuffer[frameSyncPoint + 2] === 1) {\r\n        // the sync point is properly aligned\r\n        frameI = frameSyncPoint + 5;\r\n        break;\r\n      }\r\n    }\r\n  \r\n    while (frameI < frameBuffer.byteLength) {\r\n      // look at the current byte to determine if we've hit the end of\r\n      // a NAL unit boundary\r\n      switch (frameBuffer[frameI]) {\r\n      case 0:\r\n        // skip past non-sync sequences\r\n        if (frameBuffer[frameI - 1] !== 0) {\r\n          frameI += 2;\r\n          break;\r\n        } else if (frameBuffer[frameI - 2] !== 0) {\r\n          frameI++;\r\n          break;\r\n        }\r\n  \r\n        if (frameSyncPoint + 3 !== frameI - 2) {\r\n          nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\r\n          if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\r\n            foundKeyFrame = true;\r\n          }\r\n        }\r\n  \r\n        // drop trailing zeroes\r\n        do {\r\n          frameI++;\r\n        } while (frameBuffer[frameI] !== 1 && frameI < frameBuffer.length);\r\n        frameSyncPoint = frameI - 2;\r\n        frameI += 3;\r\n        break;\r\n      case 1:\r\n        // skip past non-sync sequences\r\n        if (frameBuffer[frameI - 1] !== 0 ||\r\n            frameBuffer[frameI - 2] !== 0) {\r\n          frameI += 3;\r\n          break;\r\n        }\r\n  \r\n        nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\r\n        if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\r\n          foundKeyFrame = true;\r\n        }\r\n        frameSyncPoint = frameI - 2;\r\n        frameI += 3;\r\n        break;\r\n      default:\r\n        // the current byte isn't a one or zero, so it cannot be part\r\n        // of a sync sequence\r\n        frameI += 3;\r\n        break;\r\n      }\r\n    }\r\n    frameBuffer = frameBuffer.subarray(frameSyncPoint);\r\n    frameI -= frameSyncPoint;\r\n    frameSyncPoint = 0;\r\n    // parse the final nal\r\n    if (frameBuffer && frameBuffer.byteLength > 3) {\r\n      nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\r\n      if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\r\n        foundKeyFrame = true;\r\n      }\r\n    }\r\n  \r\n    return foundKeyFrame;\r\n  };\r\n  \r\n  \r\n  module.exports = {\r\n    parseType: parseType,\r\n    parsePat: parsePat,\r\n    parsePmt: parsePmt,\r\n    parsePayloadUnitStartIndicator: parsePayloadUnitStartIndicator,\r\n    parsePesType: parsePesType,\r\n    parsePesTime: parsePesTime,\r\n    videoPacketContainsKeyFrame: videoPacketContainsKeyFrame\r\n  };\r\n  \r\n  },{\"./stream-types.js\":15}],15:[function(require,module,exports){\r\n  'use strict';\r\n  \r\n  module.exports = {\r\n    H264_STREAM_TYPE: 0x1B,\r\n    ADTS_STREAM_TYPE: 0x0F,\r\n    METADATA_STREAM_TYPE: 0x15\r\n  };\r\n  \r\n  },{}],16:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2016 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * Accepts program elementary stream (PES) data events and corrects\r\n   * decode and presentation time stamps to account for a rollover\r\n   * of the 33 bit value.\r\n   */\r\n  \r\n  'use strict';\r\n  \r\n  var Stream = require('../utils/stream');\r\n  \r\n  var MAX_TS = 8589934592;\r\n  \r\n  var RO_THRESH = 4294967296;\r\n  \r\n  var handleRollover = function(value, reference) {\r\n    var direction = 1;\r\n  \r\n    if (value > reference) {\r\n      // If the current timestamp value is greater than our reference timestamp and we detect a\r\n      // timestamp rollover, this means the roll over is happening in the opposite direction.\r\n      // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\r\n      // point will be set to a small number, e.g. 1. The user then seeks backwards over the\r\n      // rollover point. In loading this segment, the timestamp values will be very large,\r\n      // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\r\n      // the time stamp to be `value - 2^33`.\r\n      direction = -1;\r\n    }\r\n  \r\n    // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\r\n    // cause an incorrect adjustment.\r\n    while (Math.abs(reference - value) > RO_THRESH) {\r\n      value += (direction * MAX_TS);\r\n    }\r\n  \r\n    return value;\r\n  };\r\n  \r\n  var TimestampRolloverStream = function(type) {\r\n    var lastDTS, referenceDTS;\r\n  \r\n    TimestampRolloverStream.prototype.init.call(this);\r\n  \r\n    this.type_ = type;\r\n  \r\n    this.push = function(data) {\r\n      if (data.type !== this.type_) {\r\n        return;\r\n      }\r\n  \r\n      if (referenceDTS === undefined) {\r\n        referenceDTS = data.dts;\r\n      }\r\n  \r\n      data.dts = handleRollover(data.dts, referenceDTS);\r\n      data.pts = handleRollover(data.pts, referenceDTS);\r\n  \r\n      lastDTS = data.dts;\r\n  \r\n      this.trigger('data', data);\r\n    };\r\n  \r\n    this.flush = function() {\r\n      referenceDTS = lastDTS;\r\n      this.trigger('done');\r\n    };\r\n  \r\n  };\r\n  \r\n  TimestampRolloverStream.prototype = new Stream();\r\n  \r\n  module.exports = {\r\n    TimestampRolloverStream: TimestampRolloverStream,\r\n    handleRollover: handleRollover\r\n  };\r\n  \r\n  },{\"../utils/stream\":25}],17:[function(require,module,exports){\r\n  module.exports = {\r\n    generator: require('./mp4-generator'),\r\n    Transmuxer: require('./transmuxer').Transmuxer,\r\n    AudioSegmentStream: require('./transmuxer').AudioSegmentStream,\r\n    VideoSegmentStream: require('./transmuxer').VideoSegmentStream\r\n  };\r\n  \r\n  },{\"./mp4-generator\":18,\"./transmuxer\":20}],18:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2015 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * Functions that generate fragmented MP4s suitable for use with Media\r\n   * Source Extensions.\r\n   */\r\n  'use strict';\r\n  \r\n  var UINT32_MAX = Math.pow(2, 32) - 1;\r\n  \r\n  var box, dinf, esds, ftyp, mdat, mfhd, minf, moof, moov, mvex, mvhd,\r\n      trak, tkhd, mdia, mdhd, hdlr, sdtp, stbl, stsd, traf, trex,\r\n      trun, types, MAJOR_BRAND, MINOR_VERSION, AVC1_BRAND, VIDEO_HDLR,\r\n      AUDIO_HDLR, HDLR_TYPES, VMHD, SMHD, DREF, STCO, STSC, STSZ, STTS;\r\n  \r\n  // pre-calculate constants\r\n  (function() {\r\n    var i;\r\n    types = {\r\n      avc1: [], // codingname\r\n      avcC: [],\r\n      btrt: [],\r\n      dinf: [],\r\n      dref: [],\r\n      esds: [],\r\n      ftyp: [],\r\n      hdlr: [],\r\n      mdat: [],\r\n      mdhd: [],\r\n      mdia: [],\r\n      mfhd: [],\r\n      minf: [],\r\n      moof: [],\r\n      moov: [],\r\n      mp4a: [], // codingname\r\n      mvex: [],\r\n      mvhd: [],\r\n      sdtp: [],\r\n      smhd: [],\r\n      stbl: [],\r\n      stco: [],\r\n      stsc: [],\r\n      stsd: [],\r\n      stsz: [],\r\n      stts: [],\r\n      styp: [],\r\n      tfdt: [],\r\n      tfhd: [],\r\n      traf: [],\r\n      trak: [],\r\n      trun: [],\r\n      trex: [],\r\n      tkhd: [],\r\n      vmhd: []\r\n    };\r\n  \r\n    // In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we\r\n    // don't throw an error\r\n    if (typeof Uint8Array === 'undefined') {\r\n      return;\r\n    }\r\n  \r\n    for (i in types) {\r\n      if (types.hasOwnProperty(i)) {\r\n        types[i] = [\r\n          i.charCodeAt(0),\r\n          i.charCodeAt(1),\r\n          i.charCodeAt(2),\r\n          i.charCodeAt(3)\r\n        ];\r\n      }\r\n    }\r\n  \r\n    MAJOR_BRAND = new Uint8Array([\r\n      'i'.charCodeAt(0),\r\n      's'.charCodeAt(0),\r\n      'o'.charCodeAt(0),\r\n      'm'.charCodeAt(0)\r\n    ]);\r\n    AVC1_BRAND = new Uint8Array([\r\n      'a'.charCodeAt(0),\r\n      'v'.charCodeAt(0),\r\n      'c'.charCodeAt(0),\r\n      '1'.charCodeAt(0)\r\n    ]);\r\n    MINOR_VERSION = new Uint8Array([0, 0, 0, 1]);\r\n    VIDEO_HDLR = new Uint8Array([\r\n      0x00, // version 0\r\n      0x00, 0x00, 0x00, // flags\r\n      0x00, 0x00, 0x00, 0x00, // pre_defined\r\n      0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\r\n      0x00, 0x00, 0x00, 0x00, // reserved\r\n      0x00, 0x00, 0x00, 0x00, // reserved\r\n      0x00, 0x00, 0x00, 0x00, // reserved\r\n      0x56, 0x69, 0x64, 0x65,\r\n      0x6f, 0x48, 0x61, 0x6e,\r\n      0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\r\n    ]);\r\n    AUDIO_HDLR = new Uint8Array([\r\n      0x00, // version 0\r\n      0x00, 0x00, 0x00, // flags\r\n      0x00, 0x00, 0x00, 0x00, // pre_defined\r\n      0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\r\n      0x00, 0x00, 0x00, 0x00, // reserved\r\n      0x00, 0x00, 0x00, 0x00, // reserved\r\n      0x00, 0x00, 0x00, 0x00, // reserved\r\n      0x53, 0x6f, 0x75, 0x6e,\r\n      0x64, 0x48, 0x61, 0x6e,\r\n      0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\r\n    ]);\r\n    HDLR_TYPES = {\r\n      video: VIDEO_HDLR,\r\n      audio: AUDIO_HDLR\r\n    };\r\n    DREF = new Uint8Array([\r\n      0x00, // version 0\r\n      0x00, 0x00, 0x00, // flags\r\n      0x00, 0x00, 0x00, 0x01, // entry_count\r\n      0x00, 0x00, 0x00, 0x0c, // entry_size\r\n      0x75, 0x72, 0x6c, 0x20, // 'url' type\r\n      0x00, // version 0\r\n      0x00, 0x00, 0x01 // entry_flags\r\n    ]);\r\n    SMHD = new Uint8Array([\r\n      0x00,             // version\r\n      0x00, 0x00, 0x00, // flags\r\n      0x00, 0x00,       // balance, 0 means centered\r\n      0x00, 0x00        // reserved\r\n    ]);\r\n    STCO = new Uint8Array([\r\n      0x00, // version\r\n      0x00, 0x00, 0x00, // flags\r\n      0x00, 0x00, 0x00, 0x00 // entry_count\r\n    ]);\r\n    STSC = STCO;\r\n    STSZ = new Uint8Array([\r\n      0x00, // version\r\n      0x00, 0x00, 0x00, // flags\r\n      0x00, 0x00, 0x00, 0x00, // sample_size\r\n      0x00, 0x00, 0x00, 0x00 // sample_count\r\n    ]);\r\n    STTS = STCO;\r\n    VMHD = new Uint8Array([\r\n      0x00, // version\r\n      0x00, 0x00, 0x01, // flags\r\n      0x00, 0x00, // graphicsmode\r\n      0x00, 0x00,\r\n      0x00, 0x00,\r\n      0x00, 0x00 // opcolor\r\n    ]);\r\n  }());\r\n  \r\n  box = function(type) {\r\n    var\r\n      payload = [],\r\n      size = 0,\r\n      i,\r\n      result,\r\n      view;\r\n  \r\n    for (i = 1; i < arguments.length; i++) {\r\n      payload.push(arguments[i]);\r\n    }\r\n  \r\n    i = payload.length;\r\n  \r\n    // calculate the total size we need to allocate\r\n    while (i--) {\r\n      size += payload[i].byteLength;\r\n    }\r\n    result = new Uint8Array(size + 8);\r\n    view = new DataView(result.buffer, result.byteOffset, result.byteLength);\r\n    view.setUint32(0, result.byteLength);\r\n    result.set(type, 4);\r\n  \r\n    // copy the payload into the result\r\n    for (i = 0, size = 8; i < payload.length; i++) {\r\n      result.set(payload[i], size);\r\n      size += payload[i].byteLength;\r\n    }\r\n    return result;\r\n  };\r\n  \r\n  dinf = function() {\r\n    return box(types.dinf, box(types.dref, DREF));\r\n  };\r\n  \r\n  esds = function(track) {\r\n    return box(types.esds, new Uint8Array([\r\n      0x00, // version\r\n      0x00, 0x00, 0x00, // flags\r\n  \r\n      // ES_Descriptor\r\n      0x03, // tag, ES_DescrTag\r\n      0x19, // length\r\n      0x00, 0x00, // ES_ID\r\n      0x00, // streamDependenceFlag, URL_flag, reserved, streamPriority\r\n  \r\n      // DecoderConfigDescriptor\r\n      0x04, // tag, DecoderConfigDescrTag\r\n      0x11, // length\r\n      0x40, // object type\r\n      0x15,  // streamType\r\n      0x00, 0x06, 0x00, // bufferSizeDB\r\n      0x00, 0x00, 0xda, 0xc0, // maxBitrate\r\n      0x00, 0x00, 0xda, 0xc0, // avgBitrate\r\n  \r\n      // DecoderSpecificInfo\r\n      0x05, // tag, DecoderSpecificInfoTag\r\n      0x02, // length\r\n      // ISO/IEC 14496-3, AudioSpecificConfig\r\n      // for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35\r\n      (track.audioobjecttype << 3) | (track.samplingfrequencyindex >>> 1),\r\n      (track.samplingfrequencyindex << 7) | (track.channelcount << 3),\r\n      0x06, 0x01, 0x02 // GASpecificConfig\r\n    ]));\r\n  };\r\n  \r\n  ftyp = function() {\r\n    return box(types.ftyp, MAJOR_BRAND, MINOR_VERSION, MAJOR_BRAND, AVC1_BRAND);\r\n  };\r\n  \r\n  hdlr = function(type) {\r\n    return box(types.hdlr, HDLR_TYPES[type]);\r\n  };\r\n  mdat = function(data) {\r\n    return box(types.mdat, data);\r\n  };\r\n  mdhd = function(track) {\r\n    var result = new Uint8Array([\r\n      0x00,                   // version 0\r\n      0x00, 0x00, 0x00,       // flags\r\n      0x00, 0x00, 0x00, 0x02, // creation_time\r\n      0x00, 0x00, 0x00, 0x03, // modification_time\r\n      0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\r\n  \r\n      (track.duration >>> 24) & 0xFF,\r\n      (track.duration >>> 16) & 0xFF,\r\n      (track.duration >>>  8) & 0xFF,\r\n      track.duration & 0xFF,  // duration\r\n      0x55, 0xc4,             // 'und' language (undetermined)\r\n      0x00, 0x00\r\n    ]);\r\n  \r\n    // Use the sample rate from the track metadata, when it is\r\n    // defined. The sample rate can be parsed out of an ADTS header, for\r\n    // instance.\r\n    if (track.samplerate) {\r\n      result[12] = (track.samplerate >>> 24) & 0xFF;\r\n      result[13] = (track.samplerate >>> 16) & 0xFF;\r\n      result[14] = (track.samplerate >>>  8) & 0xFF;\r\n      result[15] = (track.samplerate)        & 0xFF;\r\n    }\r\n  \r\n    return box(types.mdhd, result);\r\n  };\r\n  mdia = function(track) {\r\n    return box(types.mdia, mdhd(track), hdlr(track.type), minf(track));\r\n  };\r\n  mfhd = function(sequenceNumber) {\r\n    return box(types.mfhd, new Uint8Array([\r\n      0x00,\r\n      0x00, 0x00, 0x00, // flags\r\n      (sequenceNumber & 0xFF000000) >> 24,\r\n      (sequenceNumber & 0xFF0000) >> 16,\r\n      (sequenceNumber & 0xFF00) >> 8,\r\n      sequenceNumber & 0xFF // sequence_number\r\n    ]));\r\n  };\r\n  minf = function(track) {\r\n    return box(types.minf,\r\n               track.type === 'video' ? box(types.vmhd, VMHD) : box(types.smhd, SMHD),\r\n               dinf(),\r\n               stbl(track));\r\n  };\r\n  moof = function(sequenceNumber, tracks) {\r\n    var\r\n      trackFragments = [],\r\n      i = tracks.length;\r\n    // build traf boxes for each track fragment\r\n    while (i--) {\r\n      trackFragments[i] = traf(tracks[i]);\r\n    }\r\n    return box.apply(null, [\r\n      types.moof,\r\n      mfhd(sequenceNumber)\r\n    ].concat(trackFragments));\r\n  };\r\n  /**\r\n   * Returns a movie box.\r\n   * @param tracks {array} the tracks associated with this movie\r\n   * @see ISO/IEC 14496-12:2012(E), section 8.2.1\r\n   */\r\n  moov = function(tracks) {\r\n    var\r\n      i = tracks.length,\r\n      boxes = [];\r\n  \r\n    while (i--) {\r\n      boxes[i] = trak(tracks[i]);\r\n    }\r\n  \r\n    return box.apply(null, [types.moov, mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));\r\n  };\r\n  mvex = function(tracks) {\r\n    var\r\n      i = tracks.length,\r\n      boxes = [];\r\n  \r\n    while (i--) {\r\n      boxes[i] = trex(tracks[i]);\r\n    }\r\n    return box.apply(null, [types.mvex].concat(boxes));\r\n  };\r\n  mvhd = function(duration) {\r\n    var\r\n      bytes = new Uint8Array([\r\n        0x00, // version 0\r\n        0x00, 0x00, 0x00, // flags\r\n        0x00, 0x00, 0x00, 0x01, // creation_time\r\n        0x00, 0x00, 0x00, 0x02, // modification_time\r\n        0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\r\n        (duration & 0xFF000000) >> 24,\r\n        (duration & 0xFF0000) >> 16,\r\n        (duration & 0xFF00) >> 8,\r\n        duration & 0xFF, // duration\r\n        0x00, 0x01, 0x00, 0x00, // 1.0 rate\r\n        0x01, 0x00, // 1.0 volume\r\n        0x00, 0x00, // reserved\r\n        0x00, 0x00, 0x00, 0x00, // reserved\r\n        0x00, 0x00, 0x00, 0x00, // reserved\r\n        0x00, 0x01, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x01, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00, // pre_defined\r\n        0xff, 0xff, 0xff, 0xff // next_track_ID\r\n      ]);\r\n    return box(types.mvhd, bytes);\r\n  };\r\n  \r\n  sdtp = function(track) {\r\n    var\r\n      samples = track.samples || [],\r\n      bytes = new Uint8Array(4 + samples.length),\r\n      flags,\r\n      i;\r\n  \r\n    // leave the full box header (4 bytes) all zero\r\n  \r\n    // write the sample table\r\n    for (i = 0; i < samples.length; i++) {\r\n      flags = samples[i].flags;\r\n  \r\n      bytes[i + 4] = (flags.dependsOn << 4) |\r\n        (flags.isDependedOn << 2) |\r\n        (flags.hasRedundancy);\r\n    }\r\n  \r\n    return box(types.sdtp,\r\n               bytes);\r\n  };\r\n  \r\n  stbl = function(track) {\r\n    return box(types.stbl,\r\n               stsd(track),\r\n               box(types.stts, STTS),\r\n               box(types.stsc, STSC),\r\n               box(types.stsz, STSZ),\r\n               box(types.stco, STCO));\r\n  };\r\n  \r\n  (function() {\r\n    var videoSample, audioSample;\r\n  \r\n    stsd = function(track) {\r\n  \r\n      return box(types.stsd, new Uint8Array([\r\n        0x00, // version 0\r\n        0x00, 0x00, 0x00, // flags\r\n        0x00, 0x00, 0x00, 0x01\r\n      ]), track.type === 'video' ? videoSample(track) : audioSample(track));\r\n    };\r\n  \r\n    videoSample = function(track) {\r\n      var\r\n        sps = track.sps || [],\r\n        pps = track.pps || [],\r\n        sequenceParameterSets = [],\r\n        pictureParameterSets = [],\r\n        i;\r\n  \r\n      // assemble the SPSs\r\n      for (i = 0; i < sps.length; i++) {\r\n        sequenceParameterSets.push((sps[i].byteLength & 0xFF00) >>> 8);\r\n        sequenceParameterSets.push((sps[i].byteLength & 0xFF)); // sequenceParameterSetLength\r\n        sequenceParameterSets = sequenceParameterSets.concat(Array.prototype.slice.call(sps[i])); // SPS\r\n      }\r\n  \r\n      // assemble the PPSs\r\n      for (i = 0; i < pps.length; i++) {\r\n        pictureParameterSets.push((pps[i].byteLength & 0xFF00) >>> 8);\r\n        pictureParameterSets.push((pps[i].byteLength & 0xFF));\r\n        pictureParameterSets = pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));\r\n      }\r\n  \r\n      return box(types.avc1, new Uint8Array([\r\n        0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, // reserved\r\n        0x00, 0x01, // data_reference_index\r\n        0x00, 0x00, // pre_defined\r\n        0x00, 0x00, // reserved\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00, // pre_defined\r\n        (track.width & 0xff00) >> 8,\r\n        track.width & 0xff, // width\r\n        (track.height & 0xff00) >> 8,\r\n        track.height & 0xff, // height\r\n        0x00, 0x48, 0x00, 0x00, // horizresolution\r\n        0x00, 0x48, 0x00, 0x00, // vertresolution\r\n        0x00, 0x00, 0x00, 0x00, // reserved\r\n        0x00, 0x01, // frame_count\r\n        0x13,\r\n        0x76, 0x69, 0x64, 0x65,\r\n        0x6f, 0x6a, 0x73, 0x2d,\r\n        0x63, 0x6f, 0x6e, 0x74,\r\n        0x72, 0x69, 0x62, 0x2d,\r\n        0x68, 0x6c, 0x73, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, // compressorname\r\n        0x00, 0x18, // depth = 24\r\n        0x11, 0x11 // pre_defined = -1\r\n      ]), box(types.avcC, new Uint8Array([\r\n        0x01, // configurationVersion\r\n        track.profileIdc, // AVCProfileIndication\r\n        track.profileCompatibility, // profile_compatibility\r\n        track.levelIdc, // AVCLevelIndication\r\n        0xff // lengthSizeMinusOne, hard-coded to 4 bytes\r\n      ].concat([\r\n        sps.length // numOfSequenceParameterSets\r\n      ]).concat(sequenceParameterSets).concat([\r\n        pps.length // numOfPictureParameterSets\r\n      ]).concat(pictureParameterSets))), // \"PPS\"\r\n              box(types.btrt, new Uint8Array([\r\n                0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\r\n                0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\r\n                0x00, 0x2d, 0xc6, 0xc0\r\n              ])) // avgBitrate\r\n                );\r\n    };\r\n  \r\n    audioSample = function(track) {\r\n      return box(types.mp4a, new Uint8Array([\r\n  \r\n        // SampleEntry, ISO/IEC 14496-12\r\n        0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, // reserved\r\n        0x00, 0x01, // data_reference_index\r\n  \r\n        // AudioSampleEntry, ISO/IEC 14496-12\r\n        0x00, 0x00, 0x00, 0x00, // reserved\r\n        0x00, 0x00, 0x00, 0x00, // reserved\r\n        (track.channelcount & 0xff00) >> 8,\r\n        (track.channelcount & 0xff), // channelcount\r\n  \r\n        (track.samplesize & 0xff00) >> 8,\r\n        (track.samplesize & 0xff), // samplesize\r\n        0x00, 0x00, // pre_defined\r\n        0x00, 0x00, // reserved\r\n  \r\n        (track.samplerate & 0xff00) >> 8,\r\n        (track.samplerate & 0xff),\r\n        0x00, 0x00 // samplerate, 16.16\r\n  \r\n        // MP4AudioSampleEntry, ISO/IEC 14496-14\r\n      ]), esds(track));\r\n    };\r\n  }());\r\n  \r\n  tkhd = function(track) {\r\n    var result = new Uint8Array([\r\n      0x00, // version 0\r\n      0x00, 0x00, 0x07, // flags\r\n      0x00, 0x00, 0x00, 0x00, // creation_time\r\n      0x00, 0x00, 0x00, 0x00, // modification_time\r\n      (track.id & 0xFF000000) >> 24,\r\n      (track.id & 0xFF0000) >> 16,\r\n      (track.id & 0xFF00) >> 8,\r\n      track.id & 0xFF, // track_ID\r\n      0x00, 0x00, 0x00, 0x00, // reserved\r\n      (track.duration & 0xFF000000) >> 24,\r\n      (track.duration & 0xFF0000) >> 16,\r\n      (track.duration & 0xFF00) >> 8,\r\n      track.duration & 0xFF, // duration\r\n      0x00, 0x00, 0x00, 0x00,\r\n      0x00, 0x00, 0x00, 0x00, // reserved\r\n      0x00, 0x00, // layer\r\n      0x00, 0x00, // alternate_group\r\n      0x01, 0x00, // non-audio track volume\r\n      0x00, 0x00, // reserved\r\n      0x00, 0x01, 0x00, 0x00,\r\n      0x00, 0x00, 0x00, 0x00,\r\n      0x00, 0x00, 0x00, 0x00,\r\n      0x00, 0x00, 0x00, 0x00,\r\n      0x00, 0x01, 0x00, 0x00,\r\n      0x00, 0x00, 0x00, 0x00,\r\n      0x00, 0x00, 0x00, 0x00,\r\n      0x00, 0x00, 0x00, 0x00,\r\n      0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\r\n      (track.width & 0xFF00) >> 8,\r\n      track.width & 0xFF,\r\n      0x00, 0x00, // width\r\n      (track.height & 0xFF00) >> 8,\r\n      track.height & 0xFF,\r\n      0x00, 0x00 // height\r\n    ]);\r\n  \r\n    return box(types.tkhd, result);\r\n  };\r\n  \r\n  /**\r\n   * Generate a track fragment (traf) box. A traf box collects metadata\r\n   * about tracks in a movie fragment (moof) box.\r\n   */\r\n  traf = function(track) {\r\n    var trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun,\r\n        sampleDependencyTable, dataOffset,\r\n        upperWordBaseMediaDecodeTime, lowerWordBaseMediaDecodeTime;\r\n  \r\n    trackFragmentHeader = box(types.tfhd, new Uint8Array([\r\n      0x00, // version 0\r\n      0x00, 0x00, 0x3a, // flags\r\n      (track.id & 0xFF000000) >> 24,\r\n      (track.id & 0xFF0000) >> 16,\r\n      (track.id & 0xFF00) >> 8,\r\n      (track.id & 0xFF), // track_ID\r\n      0x00, 0x00, 0x00, 0x01, // sample_description_index\r\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\r\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\r\n      0x00, 0x00, 0x00, 0x00  // default_sample_flags\r\n    ]));\r\n  \r\n    upperWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime / (UINT32_MAX + 1));\r\n    lowerWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime % (UINT32_MAX + 1));\r\n  \r\n    trackFragmentDecodeTime = box(types.tfdt, new Uint8Array([\r\n      0x01, // version 1\r\n      0x00, 0x00, 0x00, // flags\r\n      // baseMediaDecodeTime\r\n      (upperWordBaseMediaDecodeTime >>> 24) & 0xFF,\r\n      (upperWordBaseMediaDecodeTime >>> 16) & 0xFF,\r\n      (upperWordBaseMediaDecodeTime >>>  8) & 0xFF,\r\n      upperWordBaseMediaDecodeTime & 0xFF,\r\n      (lowerWordBaseMediaDecodeTime >>> 24) & 0xFF,\r\n      (lowerWordBaseMediaDecodeTime >>> 16) & 0xFF,\r\n      (lowerWordBaseMediaDecodeTime >>>  8) & 0xFF,\r\n      lowerWordBaseMediaDecodeTime & 0xFF\r\n    ]));\r\n  \r\n    // the data offset specifies the number of bytes from the start of\r\n    // the containing moof to the first payload byte of the associated\r\n    // mdat\r\n    dataOffset = (32 + // tfhd\r\n                  20 + // tfdt\r\n                  8 +  // traf header\r\n                  16 + // mfhd\r\n                  8 +  // moof header\r\n                  8);  // mdat header\r\n  \r\n    // audio tracks require less metadata\r\n    if (track.type === 'audio') {\r\n      trackFragmentRun = trun(track, dataOffset);\r\n      return box(types.traf,\r\n                 trackFragmentHeader,\r\n                 trackFragmentDecodeTime,\r\n                 trackFragmentRun);\r\n    }\r\n  \r\n    // video tracks should contain an independent and disposable samples\r\n    // box (sdtp)\r\n    // generate one and adjust offsets to match\r\n    sampleDependencyTable = sdtp(track);\r\n    trackFragmentRun = trun(track,\r\n                            sampleDependencyTable.length + dataOffset);\r\n    return box(types.traf,\r\n               trackFragmentHeader,\r\n               trackFragmentDecodeTime,\r\n               trackFragmentRun,\r\n               sampleDependencyTable);\r\n  };\r\n  \r\n  /**\r\n   * Generate a track box.\r\n   * @param track {object} a track definition\r\n   * @return {Uint8Array} the track box\r\n   */\r\n  trak = function(track) {\r\n    track.duration = track.duration || 0xffffffff;\r\n    return box(types.trak,\r\n               tkhd(track),\r\n               mdia(track));\r\n  };\r\n  \r\n  trex = function(track) {\r\n    var result = new Uint8Array([\r\n      0x00, // version 0\r\n      0x00, 0x00, 0x00, // flags\r\n      (track.id & 0xFF000000) >> 24,\r\n      (track.id & 0xFF0000) >> 16,\r\n      (track.id & 0xFF00) >> 8,\r\n      (track.id & 0xFF), // track_ID\r\n      0x00, 0x00, 0x00, 0x01, // default_sample_description_index\r\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\r\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\r\n      0x00, 0x01, 0x00, 0x01 // default_sample_flags\r\n    ]);\r\n    // the last two bytes of default_sample_flags is the sample\r\n    // degradation priority, a hint about the importance of this sample\r\n    // relative to others. Lower the degradation priority for all sample\r\n    // types other than video.\r\n    if (track.type !== 'video') {\r\n      result[result.length - 1] = 0x00;\r\n    }\r\n  \r\n    return box(types.trex, result);\r\n  };\r\n  \r\n  (function() {\r\n    var audioTrun, videoTrun, trunHeader;\r\n  \r\n    // This method assumes all samples are uniform. That is, if a\r\n    // duration is present for the first sample, it will be present for\r\n    // all subsequent samples.\r\n    // see ISO/IEC 14496-12:2012, Section 8.8.8.1\r\n    trunHeader = function(samples, offset) {\r\n      var durationPresent = 0, sizePresent = 0,\r\n          flagsPresent = 0, compositionTimeOffset = 0;\r\n  \r\n      // trun flag constants\r\n      if (samples.length) {\r\n        if (samples[0].duration !== undefined) {\r\n          durationPresent = 0x1;\r\n        }\r\n        if (samples[0].size !== undefined) {\r\n          sizePresent = 0x2;\r\n        }\r\n        if (samples[0].flags !== undefined) {\r\n          flagsPresent = 0x4;\r\n        }\r\n        if (samples[0].compositionTimeOffset !== undefined) {\r\n          compositionTimeOffset = 0x8;\r\n        }\r\n      }\r\n  \r\n      return [\r\n        0x00, // version 0\r\n        0x00,\r\n        durationPresent | sizePresent | flagsPresent | compositionTimeOffset,\r\n        0x01, // flags\r\n        (samples.length & 0xFF000000) >>> 24,\r\n        (samples.length & 0xFF0000) >>> 16,\r\n        (samples.length & 0xFF00) >>> 8,\r\n        samples.length & 0xFF, // sample_count\r\n        (offset & 0xFF000000) >>> 24,\r\n        (offset & 0xFF0000) >>> 16,\r\n        (offset & 0xFF00) >>> 8,\r\n        offset & 0xFF // data_offset\r\n      ];\r\n    };\r\n  \r\n    videoTrun = function(track, offset) {\r\n      var bytes, samples, sample, i;\r\n  \r\n      samples = track.samples || [];\r\n      offset += 8 + 12 + (16 * samples.length);\r\n  \r\n      bytes = trunHeader(samples, offset);\r\n  \r\n      for (i = 0; i < samples.length; i++) {\r\n        sample = samples[i];\r\n        bytes = bytes.concat([\r\n          (sample.duration & 0xFF000000) >>> 24,\r\n          (sample.duration & 0xFF0000) >>> 16,\r\n          (sample.duration & 0xFF00) >>> 8,\r\n          sample.duration & 0xFF, // sample_duration\r\n          (sample.size & 0xFF000000) >>> 24,\r\n          (sample.size & 0xFF0000) >>> 16,\r\n          (sample.size & 0xFF00) >>> 8,\r\n          sample.size & 0xFF, // sample_size\r\n          (sample.flags.isLeading << 2) | sample.flags.dependsOn,\r\n          (sample.flags.isDependedOn << 6) |\r\n            (sample.flags.hasRedundancy << 4) |\r\n            (sample.flags.paddingValue << 1) |\r\n            sample.flags.isNonSyncSample,\r\n          sample.flags.degradationPriority & 0xF0 << 8,\r\n          sample.flags.degradationPriority & 0x0F, // sample_flags\r\n          (sample.compositionTimeOffset & 0xFF000000) >>> 24,\r\n          (sample.compositionTimeOffset & 0xFF0000) >>> 16,\r\n          (sample.compositionTimeOffset & 0xFF00) >>> 8,\r\n          sample.compositionTimeOffset & 0xFF // sample_composition_time_offset\r\n        ]);\r\n      }\r\n      return box(types.trun, new Uint8Array(bytes));\r\n    };\r\n  \r\n    audioTrun = function(track, offset) {\r\n      var bytes, samples, sample, i;\r\n  \r\n      samples = track.samples || [];\r\n      offset += 8 + 12 + (8 * samples.length);\r\n  \r\n      bytes = trunHeader(samples, offset);\r\n  \r\n      for (i = 0; i < samples.length; i++) {\r\n        sample = samples[i];\r\n        bytes = bytes.concat([\r\n          (sample.duration & 0xFF000000) >>> 24,\r\n          (sample.duration & 0xFF0000) >>> 16,\r\n          (sample.duration & 0xFF00) >>> 8,\r\n          sample.duration & 0xFF, // sample_duration\r\n          (sample.size & 0xFF000000) >>> 24,\r\n          (sample.size & 0xFF0000) >>> 16,\r\n          (sample.size & 0xFF00) >>> 8,\r\n          sample.size & 0xFF]); // sample_size\r\n      }\r\n  \r\n      return box(types.trun, new Uint8Array(bytes));\r\n    };\r\n  \r\n    trun = function(track, offset) {\r\n      if (track.type === 'audio') {\r\n        return audioTrun(track, offset);\r\n      }\r\n  \r\n      return videoTrun(track, offset);\r\n    };\r\n  }());\r\n  \r\n  module.exports = {\r\n    ftyp: ftyp,\r\n    mdat: mdat,\r\n    moof: moof,\r\n    moov: moov,\r\n    initSegment: function(tracks) {\r\n      var\r\n        fileType = ftyp(),\r\n        movie = moov(tracks),\r\n        result;\r\n  \r\n      result = new Uint8Array(fileType.byteLength + movie.byteLength);\r\n      result.set(fileType);\r\n      result.set(movie, fileType.byteLength);\r\n      return result;\r\n    }\r\n  };\r\n  \r\n  },{}],19:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2015 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * Utilities to detect basic properties and metadata about MP4s.\r\n   */\r\n  'use strict';\r\n  \r\n  var findBox, parseType, timescale, startTime;\r\n  \r\n  // Find the data for a box specified by its path\r\n  findBox = function(data, path) {\r\n    var results = [],\r\n        i, size, type, end, subresults;\r\n  \r\n    if (!path.length) {\r\n      // short-circuit the search for empty paths\r\n      return null;\r\n    }\r\n  \r\n    for (i = 0; i < data.byteLength;) {\r\n      size  = data[i]     << 24;\r\n      size |= data[i + 1] << 16;\r\n      size |= data[i + 2] << 8;\r\n      size |= data[i + 3];\r\n  \r\n      type = parseType(data.subarray(i + 4, i + 8));\r\n  \r\n      end = size > 1 ? i + size : data.byteLength;\r\n  \r\n      if (type === path[0]) {\r\n        if (path.length === 1) {\r\n          // this is the end of the path and we've found the box we were\r\n          // looking for\r\n          results.push(data.subarray(i + 8, end));\r\n        } else {\r\n          // recursively search for the next box along the path\r\n          subresults = findBox(data.subarray(i + 8, end), path.slice(1));\r\n          if (subresults.length) {\r\n            results = results.concat(subresults);\r\n          }\r\n        }\r\n      }\r\n      i = end;\r\n    }\r\n  \r\n    // we've finished searching all of data\r\n    return results;\r\n  };\r\n  \r\n  /**\r\n   * Returns the string representation of an ASCII encoded four byte buffer.\r\n   * @param buffer {Uint8Array} a four-byte buffer to translate\r\n   * @return {string} the corresponding string\r\n   */\r\n  parseType = function(buffer) {\r\n    var result = '';\r\n    result += String.fromCharCode(buffer[0]);\r\n    result += String.fromCharCode(buffer[1]);\r\n    result += String.fromCharCode(buffer[2]);\r\n    result += String.fromCharCode(buffer[3]);\r\n    return result;\r\n  };\r\n  \r\n  /**\r\n   * Parses an MP4 initialization segment and extracts the timescale\r\n   * values for any declared tracks. Timescale values indicate the\r\n   * number of clock ticks per second to assume for time-based values\r\n   * elsewhere in the MP4.\r\n   *\r\n   * To determine the start time of an MP4, you need two pieces of\r\n   * information: the timescale unit and the earliest base media decode\r\n   * time. Multiple timescales can be specified within an MP4 but the\r\n   * base media decode time is always expressed in the timescale from\r\n   * the media header box for the track:\r\n   * ```\r\n   * moov > trak > mdia > mdhd.timescale\r\n   * ```\r\n   * @param init {Uint8Array} the bytes of the init segment\r\n   * @return {object} a hash of track ids to timescale values or null if\r\n   * the init segment is malformed.\r\n   */\r\n  timescale = function(init) {\r\n    var\r\n      result = {},\r\n      traks = findBox(init, ['moov', 'trak']);\r\n  \r\n    // mdhd timescale\r\n    return traks.reduce(function(result, trak) {\r\n      var tkhd, version, index, id, mdhd;\r\n  \r\n      tkhd = findBox(trak, ['tkhd'])[0];\r\n      if (!tkhd) {\r\n        return null;\r\n      }\r\n      version = tkhd[0];\r\n      index = version === 0 ? 12 : 20;\r\n      id = tkhd[index]     << 24 |\r\n           tkhd[index + 1] << 16 |\r\n           tkhd[index + 2] <<  8 |\r\n           tkhd[index + 3];\r\n  \r\n      mdhd = findBox(trak, ['mdia', 'mdhd'])[0];\r\n      if (!mdhd) {\r\n        return null;\r\n      }\r\n      version = mdhd[0];\r\n      index = version === 0 ? 12 : 20;\r\n      result[id] = mdhd[index]     << 24 |\r\n                   mdhd[index + 1] << 16 |\r\n                   mdhd[index + 2] <<  8 |\r\n                   mdhd[index + 3];\r\n      return result;\r\n    }, result);\r\n  };\r\n  \r\n  /**\r\n   * Determine the base media decode start time, in seconds, for an MP4\r\n   * fragment. If multiple fragments are specified, the earliest time is\r\n   * returned.\r\n   *\r\n   * The base media decode time can be parsed from track fragment\r\n   * metadata:\r\n   * ```\r\n   * moof > traf > tfdt.baseMediaDecodeTime\r\n   * ```\r\n   * It requires the timescale value from the mdhd to interpret.\r\n   *\r\n   * @param timescale {object} a hash of track ids to timescale values.\r\n   * @return {number} the earliest base media decode start time for the\r\n   * fragment, in seconds\r\n   */\r\n  startTime = function(timescale, fragment) {\r\n    var trafs, baseTimes, result;\r\n  \r\n    // we need info from two childrend of each track fragment box\r\n    trafs = findBox(fragment, ['moof', 'traf']);\r\n  \r\n    // determine the start times for each track\r\n    baseTimes = [].concat.apply([], trafs.map(function(traf) {\r\n      return findBox(traf, ['tfhd']).map(function(tfhd) {\r\n        var id, scale, baseTime;\r\n  \r\n        // get the track id from the tfhd\r\n        id = tfhd[4] << 24 |\r\n             tfhd[5] << 16 |\r\n             tfhd[6] << 8 |\r\n             tfhd[7];\r\n        // assume a 90kHz clock if no timescale was specified\r\n        scale = timescale[id] || 90e3;\r\n  \r\n        // get the base media decode time from the tfdt\r\n        baseTime = findBox(traf, ['tfdt']).map(function(tfdt) {\r\n          var version, result;\r\n  \r\n          version = tfdt[0];\r\n          result = tfdt[4] << 24 |\r\n                   tfdt[5] << 16 |\r\n                   tfdt[6] <<  8 |\r\n                   tfdt[7];\r\n          if (version ===  1) {\r\n            result *= Math.pow(2, 32);\r\n            result += tfdt[8]  << 24 |\r\n                      tfdt[9]  << 16 |\r\n                      tfdt[10] <<  8 |\r\n                      tfdt[11];\r\n          }\r\n          return result;\r\n        })[0];\r\n        baseTime = baseTime || Infinity;\r\n  \r\n        // convert base time to seconds\r\n        return baseTime / scale;\r\n      });\r\n    }));\r\n  \r\n    // return the minimum\r\n    result = Math.min.apply(null, baseTimes);\r\n    return isFinite(result) ? result : 0;\r\n  };\r\n  \r\n  module.exports = {\r\n    parseType: parseType,\r\n    timescale: timescale,\r\n    startTime: startTime\r\n  };\r\n  \r\n  },{}],20:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2015 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * A stream-based mp2t to mp4 converter. This utility can be used to\r\n   * deliver mp4s to a SourceBuffer on platforms that support native\r\n   * Media Source Extensions.\r\n   */\r\n  'use strict';\r\n  \r\n  var Stream = require('../utils/stream.js');\r\n  var mp4 = require('./mp4-generator.js');\r\n  var m2ts = require('../m2ts/m2ts.js');\r\n  var AdtsStream = require('../codecs/adts.js');\r\n  var H264Stream = require('../codecs/h264').H264Stream;\r\n  var AacStream = require('../aac');\r\n  \r\n  // constants\r\n  var AUDIO_PROPERTIES = [\r\n    'audioobjecttype',\r\n    'channelcount',\r\n    'samplerate',\r\n    'samplingfrequencyindex',\r\n    'samplesize'\r\n  ];\r\n  \r\n  var VIDEO_PROPERTIES = [\r\n    'width',\r\n    'height',\r\n    'profileIdc',\r\n    'levelIdc',\r\n    'profileCompatibility'\r\n  ];\r\n  \r\n  // object types\r\n  var VideoSegmentStream, AudioSegmentStream, Transmuxer, CoalesceStream;\r\n  \r\n  // Helper functions\r\n  var\r\n    createDefaultSample,\r\n    isLikelyAacData,\r\n    collectDtsInfo,\r\n    clearDtsInfo,\r\n    calculateTrackBaseMediaDecodeTime,\r\n    arrayEquals,\r\n    sumFrameByteLengths;\r\n  \r\n  /**\r\n   * Default sample object\r\n   * see ISO/IEC 14496-12:2012, section 8.6.4.3\r\n   */\r\n  createDefaultSample = function() {\r\n    return {\r\n      size: 0,\r\n      flags: {\r\n        isLeading: 0,\r\n        dependsOn: 1,\r\n        isDependedOn: 0,\r\n        hasRedundancy: 0,\r\n        degradationPriority: 0\r\n      }\r\n    };\r\n  };\r\n  \r\n  isLikelyAacData = function(data) {\r\n    if ((data[0] === 'I'.charCodeAt(0)) &&\r\n        (data[1] === 'D'.charCodeAt(0)) &&\r\n        (data[2] === '3'.charCodeAt(0))) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  \r\n  /**\r\n   * Compare two arrays (even typed) for same-ness\r\n   */\r\n  arrayEquals = function(a, b) {\r\n    var\r\n      i;\r\n  \r\n    if (a.length !== b.length) {\r\n      return false;\r\n    }\r\n  \r\n    // compare the value of each element in the array\r\n    for (i = 0; i < a.length; i++) {\r\n      if (a[i] !== b[i]) {\r\n        return false;\r\n      }\r\n    }\r\n  \r\n    return true;\r\n  };\r\n  \r\n  /**\r\n   * Sum the `byteLength` properties of the data in each AAC frame\r\n   */\r\n  sumFrameByteLengths = function(array) {\r\n    var\r\n      i,\r\n      currentObj,\r\n      sum = 0;\r\n  \r\n    // sum the byteLength's all each nal unit in the frame\r\n    for (i = 0; i < array.length; i++) {\r\n      currentObj = array[i];\r\n      sum += currentObj.data.byteLength;\r\n    }\r\n  \r\n    return sum;\r\n  };\r\n  \r\n  /**\r\n   * Constructs a single-track, ISO BMFF media segment from AAC data\r\n   * events. The output of this stream can be fed to a SourceBuffer\r\n   * configured with a suitable initialization segment.\r\n   */\r\n  AudioSegmentStream = function(track) {\r\n    var\r\n      adtsFrames = [],\r\n      sequenceNumber = 0,\r\n      earliestAllowedDts = 0;\r\n  \r\n    AudioSegmentStream.prototype.init.call(this);\r\n  \r\n    this.push = function(data) {\r\n      collectDtsInfo(track, data);\r\n  \r\n      if (track) {\r\n        AUDIO_PROPERTIES.forEach(function(prop) {\r\n          track[prop] = data[prop];\r\n        });\r\n      }\r\n  \r\n      // buffer audio data until end() is called\r\n      adtsFrames.push(data);\r\n    };\r\n  \r\n    this.setEarliestDts = function(earliestDts) {\r\n      earliestAllowedDts = earliestDts - track.timelineStartInfo.baseMediaDecodeTime;\r\n    };\r\n  \r\n    this.flush = function() {\r\n      var\r\n        frames,\r\n        moof,\r\n        mdat,\r\n        boxes;\r\n  \r\n      // return early if no audio data has been observed\r\n      if (adtsFrames.length === 0) {\r\n        this.trigger('done', 'AudioSegmentStream');\r\n        return;\r\n      }\r\n  \r\n      frames = this.trimAdtsFramesByEarliestDts_(adtsFrames);\r\n  \r\n      // we have to build the index from byte locations to\r\n      // samples (that is, adts frames) in the audio data\r\n      track.samples = this.generateSampleTable_(frames);\r\n  \r\n      // concatenate the audio data to constuct the mdat\r\n      mdat = mp4.mdat(this.concatenateFrameData_(frames));\r\n  \r\n      adtsFrames = [];\r\n  \r\n      calculateTrackBaseMediaDecodeTime(track);\r\n      moof = mp4.moof(sequenceNumber, [track]);\r\n      boxes = new Uint8Array(moof.byteLength + mdat.byteLength);\r\n  \r\n      // bump the sequence number for next time\r\n      sequenceNumber++;\r\n  \r\n      boxes.set(moof);\r\n      boxes.set(mdat, moof.byteLength);\r\n  \r\n      clearDtsInfo(track);\r\n  \r\n      this.trigger('data', {track: track, boxes: boxes});\r\n      this.trigger('done', 'AudioSegmentStream');\r\n    };\r\n  \r\n    // If the audio segment extends before the earliest allowed dts\r\n    // value, remove AAC frames until starts at or after the earliest\r\n    // allowed DTS so that we don't end up with a negative baseMedia-\r\n    // DecodeTime for the audio track\r\n    this.trimAdtsFramesByEarliestDts_ = function(adtsFrames) {\r\n      if (track.minSegmentDts >= earliestAllowedDts) {\r\n        return adtsFrames;\r\n      }\r\n  \r\n      // We will need to recalculate the earliest segment Dts\r\n      track.minSegmentDts = Infinity;\r\n  \r\n      return adtsFrames.filter(function(currentFrame) {\r\n        // If this is an allowed frame, keep it and record it's Dts\r\n        if (currentFrame.dts >= earliestAllowedDts) {\r\n          track.minSegmentDts = Math.min(track.minSegmentDts, currentFrame.dts);\r\n          track.minSegmentPts = track.minSegmentDts;\r\n          return true;\r\n        }\r\n        // Otherwise, discard it\r\n        return false;\r\n      });\r\n    };\r\n  \r\n    // generate the track's raw mdat data from an array of frames\r\n    this.generateSampleTable_ = function(frames) {\r\n      var\r\n        i,\r\n        currentFrame,\r\n        samples = [];\r\n  \r\n      for (i = 0; i < frames.length; i++) {\r\n        currentFrame = frames[i];\r\n        samples.push({\r\n          size: currentFrame.data.byteLength,\r\n          duration: 1024 // For AAC audio, all samples contain 1024 samples\r\n        });\r\n      }\r\n      return samples;\r\n    };\r\n  \r\n    // generate the track's sample table from an array of frames\r\n    this.concatenateFrameData_ = function(frames) {\r\n      var\r\n        i,\r\n        currentFrame,\r\n        dataOffset = 0,\r\n        data = new Uint8Array(sumFrameByteLengths(frames));\r\n  \r\n      for (i = 0; i < frames.length; i++) {\r\n        currentFrame = frames[i];\r\n  \r\n        data.set(currentFrame.data, dataOffset);\r\n        dataOffset += currentFrame.data.byteLength;\r\n      }\r\n      return data;\r\n    };\r\n  };\r\n  \r\n  AudioSegmentStream.prototype = new Stream();\r\n  \r\n  /**\r\n   * Constructs a single-track, ISO BMFF media segment from H264 data\r\n   * events. The output of this stream can be fed to a SourceBuffer\r\n   * configured with a suitable initialization segment.\r\n   * @param track {object} track metadata configuration\r\n   */\r\n  VideoSegmentStream = function(track) {\r\n    var\r\n      sequenceNumber = 0,\r\n      nalUnits = [],\r\n      config,\r\n      pps;\r\n  \r\n    VideoSegmentStream.prototype.init.call(this);\r\n  \r\n    delete track.minPTS;\r\n  \r\n    this.gopCache_ = [];\r\n  \r\n    this.push = function(nalUnit) {\r\n      collectDtsInfo(track, nalUnit);\r\n  \r\n      // record the track config\r\n      if (nalUnit.nalUnitType === 'seq_parameter_set_rbsp' && !config) {\r\n        config = nalUnit.config;\r\n        track.sps = [nalUnit.data];\r\n  \r\n        VIDEO_PROPERTIES.forEach(function(prop) {\r\n          track[prop] = config[prop];\r\n        }, this);\r\n      }\r\n  \r\n      if (nalUnit.nalUnitType === 'pic_parameter_set_rbsp' &&\r\n          !pps) {\r\n        pps = nalUnit.data;\r\n        track.pps = [nalUnit.data];\r\n      }\r\n  \r\n      // buffer video until flush() is called\r\n      nalUnits.push(nalUnit);\r\n    };\r\n  \r\n    this.flush = function() {\r\n      var\r\n        frames,\r\n        gopForFusion,\r\n        gops,\r\n        moof,\r\n        mdat,\r\n        boxes;\r\n  \r\n      // Throw away nalUnits at the start of the byte stream until\r\n      // we find the first AUD\r\n      while (nalUnits.length) {\r\n        if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\r\n          break;\r\n        }\r\n        nalUnits.shift();\r\n      }\r\n  \r\n      // Return early if no video data has been observed\r\n      if (nalUnits.length === 0) {\r\n        this.resetStream_();\r\n        this.trigger('done', 'VideoSegmentStream');\r\n        return;\r\n      }\r\n  \r\n      // Organize the raw nal-units into arrays that represent\r\n      // higher-level constructs such as frames and gops\r\n      // (group-of-pictures)\r\n      frames = this.groupNalsIntoFrames_(nalUnits);\r\n      gops = this.groupFramesIntoGops_(frames);\r\n  \r\n      // If the first frame of this fragment is not a keyframe we have\r\n      // a problem since MSE (on Chrome) requires a leading keyframe.\r\n      //\r\n      // We have two approaches to repairing this situation:\r\n      // 1) GOP-FUSION:\r\n      //    This is where we keep track of the GOPS (group-of-pictures)\r\n      //    from previous fragments and attempt to find one that we can\r\n      //    prepend to the current fragment in order to create a valid\r\n      //    fragment.\r\n      // 2) KEYFRAME-PULLING:\r\n      //    Here we search for the first keyframe in the fragment and\r\n      //    throw away all the frames between the start of the fragment\r\n      //    and that keyframe. We then extend the duration and pull the\r\n      //    PTS of the keyframe forward so that it covers the time range\r\n      //    of the frames that were disposed of.\r\n      //\r\n      // #1 is far prefereable over #2 which can cause \"stuttering\" but\r\n      // requires more things to be just right.\r\n      if (!gops[0][0].keyFrame) {\r\n        // Search for a gop for fusion from our gopCache\r\n        gopForFusion = this.getGopForFusion_(nalUnits[0], track);\r\n  \r\n        if (gopForFusion) {\r\n          gops.unshift(gopForFusion);\r\n          // Adjust Gops' metadata to account for the inclusion of the\r\n          // new gop at the beginning\r\n          gops.byteLength += gopForFusion.byteLength;\r\n          gops.nalCount += gopForFusion.nalCount;\r\n          gops.pts = gopForFusion.pts;\r\n          gops.dts = gopForFusion.dts;\r\n          gops.duration += gopForFusion.duration;\r\n        } else {\r\n          // If we didn't find a candidate gop fall back to keyrame-pulling\r\n          gops = this.extendFirstKeyFrame_(gops);\r\n        }\r\n      }\r\n      collectDtsInfo(track, gops);\r\n  \r\n      // First, we have to build the index from byte locations to\r\n      // samples (that is, frames) in the video data\r\n      track.samples = this.generateSampleTable_(gops);\r\n  \r\n      // Concatenate the video data and construct the mdat\r\n      mdat = mp4.mdat(this.concatenateNalData_(gops));\r\n  \r\n      // save all the nals in the last GOP into the gop cache\r\n      this.gopCache_.unshift({\r\n        gop: gops.pop(),\r\n        pps: track.pps,\r\n        sps: track.sps\r\n      });\r\n  \r\n      // Keep a maximum of 6 GOPs in the cache\r\n      this.gopCache_.length = Math.min(6, this.gopCache_.length);\r\n  \r\n      // Clear nalUnits\r\n      nalUnits = [];\r\n  \r\n      calculateTrackBaseMediaDecodeTime(track);\r\n  \r\n      this.trigger('timelineStartInfo', track.timelineStartInfo);\r\n  \r\n      moof = mp4.moof(sequenceNumber, [track]);\r\n  \r\n      // it would be great to allocate this array up front instead of\r\n      // throwing away hundreds of media segment fragments\r\n      boxes = new Uint8Array(moof.byteLength + mdat.byteLength);\r\n  \r\n      // Bump the sequence number for next time\r\n      sequenceNumber++;\r\n  \r\n      boxes.set(moof);\r\n      boxes.set(mdat, moof.byteLength);\r\n  \r\n      this.trigger('data', {track: track, boxes: boxes});\r\n  \r\n      this.resetStream_();\r\n  \r\n      // Continue with the flush process now\r\n      this.trigger('done', 'VideoSegmentStream');\r\n    };\r\n  \r\n    this.resetStream_ = function() {\r\n      clearDtsInfo(track);\r\n  \r\n      // reset config and pps because they may differ across segments\r\n      // for instance, when we are rendition switching\r\n      config = undefined;\r\n      pps = undefined;\r\n    };\r\n  \r\n    // Search for a candidate Gop for gop-fusion from the gop cache and\r\n    // return it or return null if no good candidate was found\r\n    this.getGopForFusion_ = function(nalUnit) {\r\n      var\r\n        halfSecond = 45000, // Half-a-second in a 90khz clock\r\n        allowableOverlap = 10000, // About 3 frames @ 30fps\r\n        nearestDistance = Infinity,\r\n        dtsDistance,\r\n        nearestGopObj,\r\n        currentGop,\r\n        currentGopObj,\r\n        i;\r\n  \r\n      // Search for the GOP nearest to the beginning of this nal unit\r\n      for (i = 0; i < this.gopCache_.length; i++) {\r\n        currentGopObj = this.gopCache_[i];\r\n        currentGop = currentGopObj.gop;\r\n  \r\n        // Reject Gops with different SPS or PPS\r\n        if (!(track.pps && arrayEquals(track.pps[0], currentGopObj.pps[0])) ||\r\n            !(track.sps && arrayEquals(track.sps[0], currentGopObj.sps[0]))) {\r\n          continue;\r\n        }\r\n  \r\n        // Reject Gops that would require a negative baseMediaDecodeTime\r\n        if (currentGop.dts < track.timelineStartInfo.dts) {\r\n          continue;\r\n        }\r\n  \r\n        // The distance between the end of the gop and the start of the nalUnit\r\n        dtsDistance = (nalUnit.dts - currentGop.dts) - currentGop.duration;\r\n  \r\n        // Only consider GOPS that start before the nal unit and end within\r\n        // a half-second of the nal unit\r\n        if (dtsDistance >= -allowableOverlap &&\r\n            dtsDistance <= halfSecond) {\r\n  \r\n          // Always use the closest GOP we found if there is more than\r\n          // one candidate\r\n          if (!nearestGopObj ||\r\n              nearestDistance > dtsDistance) {\r\n            nearestGopObj = currentGopObj;\r\n            nearestDistance = dtsDistance;\r\n          }\r\n        }\r\n      }\r\n  \r\n      if (nearestGopObj) {\r\n        return nearestGopObj.gop;\r\n      }\r\n      return null;\r\n    };\r\n  \r\n    this.extendFirstKeyFrame_ = function(gops) {\r\n      var currentGop;\r\n  \r\n      if (!gops[0][0].keyFrame) {\r\n        // Remove the first GOP\r\n        currentGop = gops.shift();\r\n  \r\n        gops.byteLength -=  currentGop.byteLength;\r\n        gops.nalCount -= currentGop.nalCount;\r\n  \r\n        // Extend the first frame of what is now the\r\n        // first gop to cover the time period of the\r\n        // frames we just removed\r\n        gops[0][0].dts = currentGop.dts;\r\n        gops[0][0].pts = currentGop.pts;\r\n        gops[0][0].duration += currentGop.duration;\r\n      }\r\n  \r\n      return gops;\r\n    };\r\n  \r\n    // Convert an array of nal units into an array of frames with each frame being\r\n    // composed of the nal units that make up that frame\r\n    // Also keep track of cummulative data about the frame from the nal units such\r\n    // as the frame duration, starting pts, etc.\r\n    this.groupNalsIntoFrames_ = function(nalUnits) {\r\n      var\r\n        i,\r\n        currentNal,\r\n        currentFrame = [],\r\n        frames = [];\r\n  \r\n      currentFrame.byteLength = 0;\r\n  \r\n      for (i = 0; i < nalUnits.length; i++) {\r\n        currentNal = nalUnits[i];\r\n  \r\n        // Split on 'aud'-type nal units\r\n        if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\r\n          // Since the very first nal unit is expected to be an AUD\r\n          // only push to the frames array when currentFrame is not empty\r\n          if (currentFrame.length) {\r\n            currentFrame.duration = currentNal.dts - currentFrame.dts;\r\n            frames.push(currentFrame);\r\n          }\r\n          currentFrame = [currentNal];\r\n          currentFrame.byteLength = currentNal.data.byteLength;\r\n          currentFrame.pts = currentNal.pts;\r\n          currentFrame.dts = currentNal.dts;\r\n        } else {\r\n          // Specifically flag key frames for ease of use later\r\n          if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\r\n            currentFrame.keyFrame = true;\r\n          }\r\n          currentFrame.duration = currentNal.dts - currentFrame.dts;\r\n          currentFrame.byteLength += currentNal.data.byteLength;\r\n          currentFrame.push(currentNal);\r\n        }\r\n      }\r\n  \r\n      // For the last frame, use the duration of the previous frame if we\r\n      // have nothing better to go on\r\n      if (frames.length &&\r\n          (!currentFrame.duration ||\r\n           currentFrame.duration <= 0)) {\r\n        currentFrame.duration = frames[frames.length - 1].duration;\r\n      }\r\n  \r\n      // Push the final frame\r\n      frames.push(currentFrame);\r\n      return frames;\r\n    };\r\n  \r\n    // Convert an array of frames into an array of Gop with each Gop being composed\r\n    // of the frames that make up that Gop\r\n    // Also keep track of cummulative data about the Gop from the frames such as the\r\n    // Gop duration, starting pts, etc.\r\n    this.groupFramesIntoGops_ = function(frames) {\r\n      var\r\n        i,\r\n        currentFrame,\r\n        currentGop = [],\r\n        gops = [];\r\n  \r\n      // We must pre-set some of the values on the Gop since we\r\n      // keep running totals of these values\r\n      currentGop.byteLength = 0;\r\n      currentGop.nalCount = 0;\r\n      currentGop.duration = 0;\r\n      currentGop.pts = frames[0].pts;\r\n      currentGop.dts = frames[0].dts;\r\n  \r\n      // store some metadata about all the Gops\r\n      gops.byteLength = 0;\r\n      gops.nalCount = 0;\r\n      gops.duration = 0;\r\n      gops.pts = frames[0].pts;\r\n      gops.dts = frames[0].dts;\r\n  \r\n      for (i = 0; i < frames.length; i++) {\r\n        currentFrame = frames[i];\r\n  \r\n        if (currentFrame.keyFrame) {\r\n          // Since the very first frame is expected to be an keyframe\r\n          // only push to the gops array when currentGop is not empty\r\n          if (currentGop.length) {\r\n            gops.push(currentGop);\r\n            gops.byteLength += currentGop.byteLength;\r\n            gops.nalCount += currentGop.nalCount;\r\n            gops.duration += currentGop.duration;\r\n          }\r\n  \r\n          currentGop = [currentFrame];\r\n          currentGop.nalCount = currentFrame.length;\r\n          currentGop.byteLength = currentFrame.byteLength;\r\n          currentGop.pts = currentFrame.pts;\r\n          currentGop.dts = currentFrame.dts;\r\n          currentGop.duration = currentFrame.duration;\r\n        } else {\r\n          currentGop.duration += currentFrame.duration;\r\n          currentGop.nalCount += currentFrame.length;\r\n          currentGop.byteLength += currentFrame.byteLength;\r\n          currentGop.push(currentFrame);\r\n        }\r\n      }\r\n  \r\n      if (gops.length && currentGop.duration <= 0) {\r\n        currentGop.duration = gops[gops.length - 1].duration;\r\n      }\r\n      gops.byteLength += currentGop.byteLength;\r\n      gops.nalCount += currentGop.nalCount;\r\n      gops.duration += currentGop.duration;\r\n  \r\n      // push the final Gop\r\n      gops.push(currentGop);\r\n      return gops;\r\n    };\r\n  \r\n    // generate the track's sample table from an array of gops\r\n    this.generateSampleTable_ = function(gops, baseDataOffset) {\r\n      var\r\n        h, i,\r\n        sample,\r\n        currentGop,\r\n        currentFrame,\r\n        dataOffset = baseDataOffset || 0,\r\n        samples = [];\r\n  \r\n      for (h = 0; h < gops.length; h++) {\r\n        currentGop = gops[h];\r\n  \r\n        for (i = 0; i < currentGop.length; i++) {\r\n          currentFrame = currentGop[i];\r\n  \r\n          sample = createDefaultSample();\r\n  \r\n          sample.dataOffset = dataOffset;\r\n          sample.compositionTimeOffset = currentFrame.pts - currentFrame.dts;\r\n          sample.duration = currentFrame.duration;\r\n          sample.size = 4 * currentFrame.length; // Space for nal unit size\r\n          sample.size += currentFrame.byteLength;\r\n  \r\n          if (currentFrame.keyFrame) {\r\n            sample.flags.dependsOn = 2;\r\n          }\r\n  \r\n          dataOffset += sample.size;\r\n  \r\n          samples.push(sample);\r\n        }\r\n      }\r\n      return samples;\r\n    };\r\n  \r\n    // generate the track's raw mdat data from an array of gops\r\n    this.concatenateNalData_ = function(gops) {\r\n      var\r\n        h, i, j,\r\n        currentGop,\r\n        currentFrame,\r\n        currentNal,\r\n        dataOffset = 0,\r\n        nalsByteLength = gops.byteLength,\r\n        numberOfNals = gops.nalCount,\r\n        totalByteLength = nalsByteLength + 4 * numberOfNals,\r\n        data = new Uint8Array(totalByteLength),\r\n        view = new DataView(data.buffer);\r\n  \r\n      // For each Gop..\r\n      for (h = 0; h < gops.length; h++) {\r\n        currentGop = gops[h];\r\n  \r\n        // For each Frame..\r\n        for (i = 0; i < currentGop.length; i++) {\r\n          currentFrame = currentGop[i];\r\n  \r\n          // For each NAL..\r\n          for (j = 0; j < currentFrame.length; j++) {\r\n            currentNal = currentFrame[j];\r\n  \r\n            view.setUint32(dataOffset, currentNal.data.byteLength);\r\n            dataOffset += 4;\r\n            data.set(currentNal.data, dataOffset);\r\n            dataOffset += currentNal.data.byteLength;\r\n          }\r\n        }\r\n      }\r\n      return data;\r\n    };\r\n  };\r\n  \r\n  VideoSegmentStream.prototype = new Stream();\r\n  \r\n  /**\r\n   * Store information about the start and end of the track and the\r\n   * duration for each frame/sample we process in order to calculate\r\n   * the baseMediaDecodeTime\r\n   */\r\n  collectDtsInfo = function(track, data) {\r\n    if (typeof data.pts === 'number') {\r\n      if (track.timelineStartInfo.pts === undefined) {\r\n        track.timelineStartInfo.pts = data.pts;\r\n      }\r\n  \r\n      if (track.minSegmentPts === undefined) {\r\n        track.minSegmentPts = data.pts;\r\n      } else {\r\n        track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\r\n      }\r\n  \r\n      if (track.maxSegmentPts === undefined) {\r\n        track.maxSegmentPts = data.pts;\r\n      } else {\r\n        track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\r\n      }\r\n    }\r\n  \r\n    if (typeof data.dts === 'number') {\r\n      if (track.timelineStartInfo.dts === undefined) {\r\n        track.timelineStartInfo.dts = data.dts;\r\n      }\r\n  \r\n      if (track.minSegmentDts === undefined) {\r\n        track.minSegmentDts = data.dts;\r\n      } else {\r\n        track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\r\n      }\r\n  \r\n      if (track.maxSegmentDts === undefined) {\r\n        track.maxSegmentDts = data.dts;\r\n      } else {\r\n        track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\r\n      }\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * Clear values used to calculate the baseMediaDecodeTime between\r\n   * tracks\r\n   */\r\n  clearDtsInfo = function(track) {\r\n    delete track.minSegmentDts;\r\n    delete track.maxSegmentDts;\r\n    delete track.minSegmentPts;\r\n    delete track.maxSegmentPts;\r\n  };\r\n  \r\n  /**\r\n   * Calculate the track's baseMediaDecodeTime based on the earliest\r\n   * DTS the transmuxer has ever seen and the minimum DTS for the\r\n   * current track\r\n   */\r\n  calculateTrackBaseMediaDecodeTime = function(track) {\r\n    var\r\n      oneSecondInPTS = 90000, // 90kHz clock\r\n      scale,\r\n      // Calculate the distance, in time, that this segment starts from the start\r\n      // of the timeline (earliest time seen since the transmuxer initialized)\r\n      timeSinceStartOfTimeline = track.minSegmentDts - track.timelineStartInfo.dts,\r\n      // Calculate the first sample's effective compositionTimeOffset\r\n      firstSampleCompositionOffset = track.minSegmentPts - track.minSegmentDts;\r\n  \r\n    // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\r\n    // we want the start of the first segment to be placed\r\n    track.baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime;\r\n  \r\n    // Add to that the distance this segment is from the very first\r\n    track.baseMediaDecodeTime += timeSinceStartOfTimeline;\r\n  \r\n    // Subtract this segment's \"compositionTimeOffset\" so that the first frame of\r\n    // this segment is displayed exactly at the `baseMediaDecodeTime` or at the\r\n    // end of the previous segment\r\n    track.baseMediaDecodeTime -= firstSampleCompositionOffset;\r\n  \r\n    // baseMediaDecodeTime must not become negative\r\n    track.baseMediaDecodeTime = Math.max(0, track.baseMediaDecodeTime);\r\n  \r\n    if (track.type === 'audio') {\r\n      // Audio has a different clock equal to the sampling_rate so we need to\r\n      // scale the PTS values into the clock rate of the track\r\n      scale = track.samplerate / oneSecondInPTS;\r\n      track.baseMediaDecodeTime *= scale;\r\n      track.baseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime);\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * A Stream that can combine multiple streams (ie. audio & video)\r\n   * into a single output segment for MSE. Also supports audio-only\r\n   * and video-only streams.\r\n   */\r\n  CoalesceStream = function(options, metadataStream) {\r\n    // Number of Tracks per output segment\r\n    // If greater than 1, we combine multiple\r\n    // tracks into a single segment\r\n    this.numberOfTracks = 0;\r\n    this.metadataStream = metadataStream;\r\n  \r\n    if (typeof options.remux !== 'undefined') {\r\n      this.remuxTracks = !!options.remux;\r\n    } else {\r\n      this.remuxTracks = true;\r\n    }\r\n  \r\n    this.pendingTracks = [];\r\n    this.videoTrack = null;\r\n    this.pendingBoxes = [];\r\n    this.pendingCaptions = [];\r\n    this.pendingMetadata = [];\r\n    this.pendingBytes = 0;\r\n    this.emittedTracks = 0;\r\n  \r\n    CoalesceStream.prototype.init.call(this);\r\n  \r\n    // Take output from multiple\r\n    this.push = function(output) {\r\n      // buffer incoming captions until the associated video segment\r\n      // finishes\r\n      if (output.text) {\r\n        return this.pendingCaptions.push(output);\r\n      }\r\n      // buffer incoming id3 tags until the final flush\r\n      if (output.frames) {\r\n        return this.pendingMetadata.push(output);\r\n      }\r\n  \r\n      // Add this track to the list of pending tracks and store\r\n      // important information required for the construction of\r\n      // the final segment\r\n      this.pendingTracks.push(output.track);\r\n      this.pendingBoxes.push(output.boxes);\r\n      this.pendingBytes += output.boxes.byteLength;\r\n  \r\n      if (output.track.type === 'video') {\r\n        this.videoTrack = output.track;\r\n      }\r\n      if (output.track.type === 'audio') {\r\n        this.audioTrack = output.track;\r\n      }\r\n    };\r\n  };\r\n  \r\n  CoalesceStream.prototype = new Stream();\r\n  CoalesceStream.prototype.flush = function(flushSource) {\r\n    var\r\n      offset = 0,\r\n      event = {\r\n        captions: [],\r\n        metadata: [],\r\n        info: {}\r\n      },\r\n      caption,\r\n      id3,\r\n      initSegment,\r\n      timelineStartPts = 0,\r\n      i;\r\n  \r\n    if (this.pendingTracks.length < this.numberOfTracks) {\r\n      if (flushSource !== 'VideoSegmentStream' &&\r\n          flushSource !== 'AudioSegmentStream') {\r\n        // Return because we haven't received a flush from a data-generating\r\n        // portion of the segment (meaning that we have only recieved meta-data\r\n        // or captions.)\r\n        return;\r\n      } else if (this.remuxTracks) {\r\n        // Return until we have enough tracks from the pipeline to remux (if we\r\n        // are remuxing audio and video into a single MP4)\r\n        return;\r\n      } else if (this.pendingTracks.length === 0) {\r\n        // In the case where we receive a flush without any data having been\r\n        // received we consider it an emitted track for the purposes of coalescing\r\n        // `done` events.\r\n        // We do this for the case where there is an audio and video track in the\r\n        // segment but no audio data. (seen in several playlists with alternate\r\n        // audio tracks and no audio present in the main TS segments.)\r\n        this.emittedTracks++;\r\n  \r\n        if (this.emittedTracks >= this.numberOfTracks) {\r\n          this.trigger('done');\r\n          this.emittedTracks = 0;\r\n        }\r\n        return;\r\n      }\r\n    }\r\n  \r\n    if (this.videoTrack) {\r\n      timelineStartPts = this.videoTrack.timelineStartInfo.pts;\r\n      VIDEO_PROPERTIES.forEach(function(prop) {\r\n        event.info[prop] = this.videoTrack[prop];\r\n      }, this);\r\n    } else if (this.audioTrack) {\r\n      timelineStartPts = this.audioTrack.timelineStartInfo.pts;\r\n      AUDIO_PROPERTIES.forEach(function(prop) {\r\n        event.info[prop] = this.audioTrack[prop];\r\n      }, this);\r\n    }\r\n  \r\n    if (this.pendingTracks.length === 1) {\r\n      event.type = this.pendingTracks[0].type;\r\n    } else {\r\n      event.type = 'combined';\r\n    }\r\n  \r\n    this.emittedTracks += this.pendingTracks.length;\r\n  \r\n    initSegment = mp4.initSegment(this.pendingTracks);\r\n  \r\n    // Create a new typed array to hold the init segment\r\n    event.initSegment = new Uint8Array(initSegment.byteLength);\r\n  \r\n    // Create an init segment containing a moov\r\n    // and track definitions\r\n    event.initSegment.set(initSegment);\r\n  \r\n    // Create a new typed array to hold the moof+mdats\r\n    event.data = new Uint8Array(this.pendingBytes);\r\n  \r\n    // Append each moof+mdat (one per track) together\r\n    for (i = 0; i < this.pendingBoxes.length; i++) {\r\n      event.data.set(this.pendingBoxes[i], offset);\r\n      offset += this.pendingBoxes[i].byteLength;\r\n    }\r\n  \r\n    // Translate caption PTS times into second offsets into the\r\n    // video timeline for the segment\r\n    for (i = 0; i < this.pendingCaptions.length; i++) {\r\n      caption = this.pendingCaptions[i];\r\n      caption.startTime = (caption.startPts - timelineStartPts);\r\n      caption.startTime /= 90e3;\r\n      caption.endTime = (caption.endPts - timelineStartPts);\r\n      caption.endTime /= 90e3;\r\n      event.captions.push(caption);\r\n    }\r\n  \r\n    // Translate ID3 frame PTS times into second offsets into the\r\n    // video timeline for the segment\r\n    for (i = 0; i < this.pendingMetadata.length; i++) {\r\n      id3 = this.pendingMetadata[i];\r\n      id3.cueTime = (id3.pts - timelineStartPts);\r\n      id3.cueTime /= 90e3;\r\n      event.metadata.push(id3);\r\n    }\r\n    // We add this to every single emitted segment even though we only need\r\n    // it for the first\r\n    event.metadata.dispatchType = this.metadataStream.dispatchType;\r\n  \r\n    // Reset stream state\r\n    this.pendingTracks.length = 0;\r\n    this.videoTrack = null;\r\n    this.pendingBoxes.length = 0;\r\n    this.pendingCaptions.length = 0;\r\n    this.pendingBytes = 0;\r\n    this.pendingMetadata.length = 0;\r\n  \r\n    // Emit the built segment\r\n    this.trigger('data', event);\r\n  \r\n    // Only emit `done` if all tracks have been flushed and emitted\r\n    if (this.emittedTracks >= this.numberOfTracks) {\r\n      this.trigger('done');\r\n      this.emittedTracks = 0;\r\n    }\r\n  };\r\n  /**\r\n   * A Stream that expects MP2T binary data as input and produces\r\n   * corresponding media segments, suitable for use with Media Source\r\n   * Extension (MSE) implementations that support the ISO BMFF byte\r\n   * stream format, like Chrome.\r\n   */\r\n  Transmuxer = function(options) {\r\n    var\r\n      self = this,\r\n      hasFlushed = true,\r\n      videoTrack,\r\n      audioTrack;\r\n  \r\n    Transmuxer.prototype.init.call(this);\r\n  \r\n    options = options || {};\r\n    this.baseMediaDecodeTime = options.baseMediaDecodeTime || 0;\r\n    this.transmuxPipeline_ = {};\r\n  \r\n    this.setupAacPipeline = function() {\r\n      var pipeline = {};\r\n      this.transmuxPipeline_ = pipeline;\r\n  \r\n      pipeline.type = 'aac';\r\n      pipeline.metadataStream = new m2ts.MetadataStream();\r\n  \r\n      // set up the parsing pipeline\r\n      pipeline.aacStream = new AacStream();\r\n      pipeline.audioTimestampRolloverStream = new m2ts.TimestampRolloverStream('audio');\r\n      pipeline.timedMetadataTimestampRolloverStream = new m2ts.TimestampRolloverStream('timed-metadata');\r\n      pipeline.adtsStream = new AdtsStream();\r\n      pipeline.coalesceStream = new CoalesceStream(options, pipeline.metadataStream);\r\n      pipeline.headOfPipeline = pipeline.aacStream;\r\n  \r\n      pipeline.aacStream\r\n        .pipe(pipeline.audioTimestampRolloverStream)\r\n        .pipe(pipeline.adtsStream);\r\n      pipeline.aacStream\r\n        .pipe(pipeline.timedMetadataTimestampRolloverStream)\r\n        .pipe(pipeline.metadataStream)\r\n        .pipe(pipeline.coalesceStream);\r\n  \r\n      pipeline.metadataStream.on('timestamp', function(frame) {\r\n        pipeline.aacStream.setTimestamp(frame.timeStamp);\r\n      });\r\n  \r\n      pipeline.aacStream.on('data', function(data) {\r\n        if (data.type === 'timed-metadata' && !pipeline.audioSegmentStream) {\r\n          audioTrack = audioTrack || {\r\n            timelineStartInfo: {\r\n              baseMediaDecodeTime: self.baseMediaDecodeTime\r\n            },\r\n            codec: 'adts',\r\n            type: 'audio'\r\n          };\r\n          // hook up the audio segment stream to the first track with aac data\r\n          pipeline.coalesceStream.numberOfTracks++;\r\n          pipeline.audioSegmentStream = new AudioSegmentStream(audioTrack);\r\n          // Set up the final part of the audio pipeline\r\n          pipeline.adtsStream\r\n            .pipe(pipeline.audioSegmentStream)\r\n            .pipe(pipeline.coalesceStream);\r\n        }\r\n      });\r\n  \r\n      // Re-emit any data coming from the coalesce stream to the outside world\r\n      pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data'));\r\n      // Let the consumer know we have finished flushing the entire pipeline\r\n      pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\r\n    };\r\n  \r\n    this.setupTsPipeline = function() {\r\n      var pipeline = {};\r\n      this.transmuxPipeline_ = pipeline;\r\n  \r\n      pipeline.type = 'ts';\r\n      pipeline.metadataStream = new m2ts.MetadataStream();\r\n  \r\n      // set up the parsing pipeline\r\n      pipeline.packetStream = new m2ts.TransportPacketStream();\r\n      pipeline.parseStream = new m2ts.TransportParseStream();\r\n      pipeline.elementaryStream = new m2ts.ElementaryStream();\r\n      pipeline.videoTimestampRolloverStream = new m2ts.TimestampRolloverStream('video');\r\n      pipeline.audioTimestampRolloverStream = new m2ts.TimestampRolloverStream('audio');\r\n      pipeline.timedMetadataTimestampRolloverStream = new m2ts.TimestampRolloverStream('timed-metadata');\r\n      pipeline.adtsStream = new AdtsStream();\r\n      pipeline.h264Stream = new H264Stream();\r\n      pipeline.captionStream = new m2ts.CaptionStream();\r\n      pipeline.coalesceStream = new CoalesceStream(options, pipeline.metadataStream);\r\n      pipeline.headOfPipeline = pipeline.packetStream;\r\n  \r\n      // disassemble MPEG2-TS packets into elementary streams\r\n      pipeline.packetStream\r\n        .pipe(pipeline.parseStream)\r\n        .pipe(pipeline.elementaryStream);\r\n  \r\n      // !!THIS ORDER IS IMPORTANT!!\r\n      // demux the streams\r\n      pipeline.elementaryStream\r\n        .pipe(pipeline.videoTimestampRolloverStream)\r\n        .pipe(pipeline.h264Stream);\r\n      pipeline.elementaryStream\r\n        .pipe(pipeline.audioTimestampRolloverStream)\r\n        .pipe(pipeline.adtsStream);\r\n  \r\n      pipeline.elementaryStream\r\n        .pipe(pipeline.timedMetadataTimestampRolloverStream)\r\n        .pipe(pipeline.metadataStream)\r\n        .pipe(pipeline.coalesceStream);\r\n  \r\n      // Hook up CEA-608/708 caption stream\r\n      pipeline.h264Stream.pipe(pipeline.captionStream)\r\n        .pipe(pipeline.coalesceStream);\r\n  \r\n      pipeline.elementaryStream.on('data', function(data) {\r\n        var i;\r\n  \r\n        if (data.type === 'metadata') {\r\n          i = data.tracks.length;\r\n  \r\n          // scan the tracks listed in the metadata\r\n          while (i--) {\r\n            if (!videoTrack && data.tracks[i].type === 'video') {\r\n              videoTrack = data.tracks[i];\r\n              videoTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\r\n            } else if (!audioTrack && data.tracks[i].type === 'audio') {\r\n              audioTrack = data.tracks[i];\r\n              audioTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\r\n            }\r\n          }\r\n  \r\n          // hook up the video segment stream to the first track with h264 data\r\n          if (videoTrack && !pipeline.videoSegmentStream) {\r\n            pipeline.coalesceStream.numberOfTracks++;\r\n            pipeline.videoSegmentStream = new VideoSegmentStream(videoTrack);\r\n  \r\n            pipeline.videoSegmentStream.on('timelineStartInfo', function(timelineStartInfo) {\r\n            // When video emits timelineStartInfo data after a flush, we forward that\r\n            // info to the AudioSegmentStream, if it exists, because video timeline\r\n            // data takes precedence.\r\n              if (audioTrack) {\r\n                audioTrack.timelineStartInfo = timelineStartInfo;\r\n                // On the first segment we trim AAC frames that exist before the\r\n                // very earliest DTS we have seen in video because Chrome will\r\n                // interpret any video track with a baseMediaDecodeTime that is\r\n                // non-zero as a gap.\r\n                pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);\r\n              }\r\n            });\r\n  \r\n            // Set up the final part of the video pipeline\r\n            pipeline.h264Stream\r\n              .pipe(pipeline.videoSegmentStream)\r\n              .pipe(pipeline.coalesceStream);\r\n          }\r\n  \r\n          if (audioTrack && !pipeline.audioSegmentStream) {\r\n            // hook up the audio segment stream to the first track with aac data\r\n            pipeline.coalesceStream.numberOfTracks++;\r\n            pipeline.audioSegmentStream = new AudioSegmentStream(audioTrack);\r\n  \r\n            // Set up the final part of the audio pipeline\r\n            pipeline.adtsStream\r\n              .pipe(pipeline.audioSegmentStream)\r\n              .pipe(pipeline.coalesceStream);\r\n          }\r\n        }\r\n      });\r\n  \r\n      // Re-emit any data coming from the coalesce stream to the outside world\r\n      pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data'));\r\n      // Let the consumer know we have finished flushing the entire pipeline\r\n      pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\r\n    };\r\n  \r\n    // hook up the segment streams once track metadata is delivered\r\n    this.setBaseMediaDecodeTime = function(baseMediaDecodeTime) {\r\n      var pipeline = this.transmuxPipeline_;\r\n  \r\n      this.baseMediaDecodeTime = baseMediaDecodeTime;\r\n      if (audioTrack) {\r\n        audioTrack.timelineStartInfo.dts = undefined;\r\n        audioTrack.timelineStartInfo.pts = undefined;\r\n        clearDtsInfo(audioTrack);\r\n        audioTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\r\n      }\r\n      if (videoTrack) {\r\n        if (pipeline.videoSegmentStream) {\r\n          pipeline.videoSegmentStream.gopCache_ = [];\r\n        }\r\n        videoTrack.timelineStartInfo.dts = undefined;\r\n        videoTrack.timelineStartInfo.pts = undefined;\r\n        clearDtsInfo(videoTrack);\r\n        videoTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\r\n      }\r\n    };\r\n  \r\n    // feed incoming data to the front of the parsing pipeline\r\n    this.push = function(data) {\r\n      if (hasFlushed) {\r\n        var isAac = isLikelyAacData(data);\r\n  \r\n        if (isAac && this.transmuxPipeline_.type !== 'aac') {\r\n          this.setupAacPipeline();\r\n        } else if (!isAac && this.transmuxPipeline_.type !== 'ts') {\r\n          this.setupTsPipeline();\r\n        }\r\n        hasFlushed = false;\r\n      }\r\n      this.transmuxPipeline_.headOfPipeline.push(data);\r\n    };\r\n  \r\n    // flush any buffered data\r\n    this.flush = function() {\r\n        hasFlushed = true;\r\n      // Start at the top of the pipeline and flush all pending work\r\n      this.transmuxPipeline_.headOfPipeline.flush();\r\n    };\r\n  };\r\n  Transmuxer.prototype = new Stream();\r\n  \r\n  module.exports = {\r\n    Transmuxer: Transmuxer,\r\n    VideoSegmentStream: VideoSegmentStream,\r\n    AudioSegmentStream: AudioSegmentStream,\r\n    AUDIO_PROPERTIES: AUDIO_PROPERTIES,\r\n    VIDEO_PROPERTIES: VIDEO_PROPERTIES\r\n  };\r\n  \r\n  },{\"../aac\":1,\"../codecs/adts.js\":3,\"../codecs/h264\":4,\"../m2ts/m2ts.js\":12,\"../utils/stream.js\":25,\"./mp4-generator.js\":18}],21:[function(require,module,exports){\r\n  'use strict';\r\n  \r\n  var\r\n    tagTypes = {\r\n      0x08: 'audio',\r\n      0x09: 'video',\r\n      0x12: 'metadata'\r\n    },\r\n    hex = function(val) {\r\n      return '0x' + ('00' + val.toString(16)).slice(-2).toUpperCase();\r\n    },\r\n    hexStringList = function(data) {\r\n      var arr = [], i;\r\n  \r\n      while (data.byteLength > 0) {\r\n        i = 0;\r\n        arr.push(hex(data[i++]));\r\n        data = data.subarray(i);\r\n      }\r\n      return arr.join(' ');\r\n    },\r\n    parseAVCTag = function(tag, obj) {\r\n      var\r\n        avcPacketTypes = [\r\n          'AVC Sequence Header',\r\n          'AVC NALU',\r\n          'AVC End-of-Sequence'\r\n        ],\r\n        compositionTime = (tag[1] & parseInt('01111111', 2) << 16) | (tag[2] << 8) | tag[3];\r\n  \r\n      obj = obj || {};\r\n  \r\n      obj.avcPacketType = avcPacketTypes[tag[0]];\r\n      obj.CompositionTime = (tag[1] & parseInt('10000000', 2)) ? -compositionTime : compositionTime;\r\n  \r\n      if (tag[0] === 1) {\r\n        obj.nalUnitTypeRaw = hexStringList(tag.subarray(4, 100));\r\n      } else {\r\n        obj.data = hexStringList(tag.subarray(4));\r\n      }\r\n  \r\n      return obj;\r\n    },\r\n    parseVideoTag = function(tag, obj) {\r\n      var\r\n        frameTypes = [\r\n          'Unknown',\r\n          'Keyframe (for AVC, a seekable frame)',\r\n          'Inter frame (for AVC, a nonseekable frame)',\r\n          'Disposable inter frame (H.263 only)',\r\n          'Generated keyframe (reserved for server use only)',\r\n          'Video info/command frame'\r\n        ],\r\n        codecID = tag[0] & parseInt('00001111', 2);\r\n  \r\n      obj = obj || {};\r\n  \r\n      obj.frameType = frameTypes[(tag[0] & parseInt('11110000', 2)) >>> 4];\r\n      obj.codecID = codecID;\r\n  \r\n      if (codecID === 7) {\r\n        return parseAVCTag(tag.subarray(1), obj);\r\n      }\r\n      return obj;\r\n    },\r\n    parseAACTag = function(tag, obj) {\r\n      var packetTypes = [\r\n        'AAC Sequence Header',\r\n        'AAC Raw'\r\n      ];\r\n  \r\n      obj = obj || {};\r\n  \r\n      obj.aacPacketType = packetTypes[tag[0]];\r\n      obj.data = hexStringList(tag.subarray(1));\r\n  \r\n      return obj;\r\n    },\r\n    parseAudioTag = function(tag, obj) {\r\n      var\r\n        formatTable = [\r\n          'Linear PCM, platform endian',\r\n          'ADPCM',\r\n          'MP3',\r\n          'Linear PCM, little endian',\r\n          'Nellymoser 16-kHz mono',\r\n          'Nellymoser 8-kHz mono',\r\n          'Nellymoser',\r\n          'G.711 A-law logarithmic PCM',\r\n          'G.711 mu-law logarithmic PCM',\r\n          'reserved',\r\n          'AAC',\r\n          'Speex',\r\n          'MP3 8-Khz',\r\n          'Device-specific sound'\r\n        ],\r\n        samplingRateTable = [\r\n          '5.5-kHz',\r\n          '11-kHz',\r\n          '22-kHz',\r\n          '44-kHz'\r\n        ],\r\n        soundFormat = (tag[0] & parseInt('11110000', 2)) >>> 4;\r\n  \r\n      obj = obj || {};\r\n  \r\n      obj.soundFormat = formatTable[soundFormat];\r\n      obj.soundRate = samplingRateTable[(tag[0] & parseInt('00001100', 2)) >>> 2];\r\n      obj.soundSize = ((tag[0] & parseInt('00000010', 2)) >>> 1) ? '16-bit' : '8-bit';\r\n      obj.soundType = (tag[0] & parseInt('00000001', 2)) ? 'Stereo' : 'Mono';\r\n  \r\n      if (soundFormat === 10) {\r\n        return parseAACTag(tag.subarray(1), obj);\r\n      }\r\n      return obj;\r\n    },\r\n    parseGenericTag = function(tag) {\r\n      return {\r\n        tagType: tagTypes[tag[0]],\r\n        dataSize: (tag[1] << 16) | (tag[2] << 8) | tag[3],\r\n        timestamp: (tag[7] << 24) | (tag[4] << 16) | (tag[5] << 8) | tag[6],\r\n        streamID: (tag[8] << 16) | (tag[9] << 8) | tag[10]\r\n      };\r\n    },\r\n    inspectFlvTag = function(tag) {\r\n      var header = parseGenericTag(tag);\r\n      switch (tag[0]) {\r\n        case 0x08:\r\n          parseAudioTag(tag.subarray(11), header);\r\n          break;\r\n        case 0x09:\r\n          parseVideoTag(tag.subarray(11), header);\r\n          break;\r\n        case 0x12:\r\n      }\r\n      return header;\r\n    },\r\n    inspectFlv = function(bytes) {\r\n      var i = 9, // header\r\n          dataSize,\r\n          parsedResults = [],\r\n          tag;\r\n  \r\n      // traverse the tags\r\n      i += 4; // skip previous tag size\r\n      while (i < bytes.byteLength) {\r\n        dataSize = bytes[i + 1] << 16;\r\n        dataSize |= bytes[i + 2] << 8;\r\n        dataSize |= bytes[i + 3];\r\n        dataSize += 11;\r\n  \r\n        tag = bytes.subarray(i, i + dataSize);\r\n        parsedResults.push(inspectFlvTag(tag));\r\n        i += dataSize + 4;\r\n      }\r\n      return parsedResults;\r\n    },\r\n    textifyFlv = function(flvTagArray) {\r\n      return JSON.stringify(flvTagArray, null, 2);\r\n    };\r\n  \r\n  module.exports = {\r\n    inspectTag: inspectFlvTag,\r\n    inspect: inspectFlv,\r\n    textify: textifyFlv\r\n  };\r\n  \r\n  },{}],22:[function(require,module,exports){\r\n  (function (global){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2015 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * Parse the internal MP4 structure into an equivalent javascript\r\n   * object.\r\n   */\r\n  'use strict';\r\n  \r\n  var\r\n    inspectMp4,\r\n    textifyMp4,\r\n  \r\n    parseType = require('../mp4/probe').parseType,\r\n    parseMp4Date = function(seconds) {\r\n      return new Date(seconds * 1000 - 2082844800000);\r\n    },\r\n    parseSampleFlags = function(flags) {\r\n      return {\r\n        isLeading: (flags[0] & 0x0c) >>> 2,\r\n        dependsOn: flags[0] & 0x03,\r\n        isDependedOn: (flags[1] & 0xc0) >>> 6,\r\n        hasRedundancy: (flags[1] & 0x30) >>> 4,\r\n        paddingValue: (flags[1] & 0x0e) >>> 1,\r\n        isNonSyncSample: flags[1] & 0x01,\r\n        degradationPriority: (flags[2] << 8) | flags[3]\r\n      };\r\n    },\r\n    nalParse = function(avcStream) {\r\n      var\r\n        avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\r\n        result = [],\r\n        i,\r\n        length;\r\n      for (i = 0; i + 4 < avcStream.length; i += length) {\r\n        length = avcView.getUint32(i);\r\n        i += 4;\r\n  \r\n        // bail if this doesn't appear to be an H264 stream\r\n        if (length <= 0) {\r\n          result.push('<span style=\\'color:red;\\'>MALFORMED DATA</span>');\r\n          continue;\r\n        }\r\n  \r\n        switch (avcStream[i] & 0x1F) {\r\n        case 0x01:\r\n          result.push('slice_layer_without_partitioning_rbsp');\r\n          break;\r\n        case 0x05:\r\n          result.push('slice_layer_without_partitioning_rbsp_idr');\r\n          break;\r\n        case 0x06:\r\n          result.push('sei_rbsp');\r\n          break;\r\n        case 0x07:\r\n          result.push('seq_parameter_set_rbsp');\r\n          break;\r\n        case 0x08:\r\n          result.push('pic_parameter_set_rbsp');\r\n          break;\r\n        case 0x09:\r\n          result.push('access_unit_delimiter_rbsp');\r\n          break;\r\n        default:\r\n          result.push('UNKNOWN NAL - ' + avcStream[i] & 0x1F);\r\n          break;\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n  \r\n    // registry of handlers for individual mp4 box types\r\n    parse = {\r\n      // codingname, not a first-class box type. stsd entries share the\r\n      // same format as real boxes so the parsing infrastructure can be\r\n      // shared\r\n      avc1: function(data) {\r\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n        return {\r\n          dataReferenceIndex: view.getUint16(6),\r\n          width: view.getUint16(24),\r\n          height: view.getUint16(26),\r\n          horizresolution: view.getUint16(28) + (view.getUint16(30) / 16),\r\n          vertresolution: view.getUint16(32) + (view.getUint16(34) / 16),\r\n          frameCount: view.getUint16(40),\r\n          depth: view.getUint16(74),\r\n          config: inspectMp4(data.subarray(78, data.byteLength))\r\n        };\r\n      },\r\n      avcC: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          result = {\r\n            configurationVersion: data[0],\r\n            avcProfileIndication: data[1],\r\n            profileCompatibility: data[2],\r\n            avcLevelIndication: data[3],\r\n            lengthSizeMinusOne: data[4] & 0x03,\r\n            sps: [],\r\n            pps: []\r\n          },\r\n          numOfSequenceParameterSets = data[5] & 0x1f,\r\n          numOfPictureParameterSets,\r\n          nalSize,\r\n          offset,\r\n          i;\r\n  \r\n        // iterate past any SPSs\r\n        offset = 6;\r\n        for (i = 0; i < numOfSequenceParameterSets; i++) {\r\n          nalSize = view.getUint16(offset);\r\n          offset += 2;\r\n          result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\r\n          offset += nalSize;\r\n        }\r\n        // iterate past any PPSs\r\n        numOfPictureParameterSets = data[offset];\r\n        offset++;\r\n        for (i = 0; i < numOfPictureParameterSets; i++) {\r\n          nalSize = view.getUint16(offset);\r\n          offset += 2;\r\n          result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\r\n          offset += nalSize;\r\n        }\r\n        return result;\r\n      },\r\n      btrt: function(data) {\r\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n        return {\r\n          bufferSizeDB: view.getUint32(0),\r\n          maxBitrate: view.getUint32(4),\r\n          avgBitrate: view.getUint32(8)\r\n        };\r\n      },\r\n      esds: function(data) {\r\n        return {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          esId: (data[6] << 8) | data[7],\r\n          streamPriority: data[8] & 0x1f,\r\n          decoderConfig: {\r\n            objectProfileIndication: data[11],\r\n            streamType: (data[12] >>> 2) & 0x3f,\r\n            bufferSize: (data[13] << 16) | (data[14] << 8) | data[15],\r\n            maxBitrate: (data[16] << 24) |\r\n              (data[17] << 16) |\r\n              (data[18] <<  8) |\r\n              data[19],\r\n            avgBitrate: (data[20] << 24) |\r\n              (data[21] << 16) |\r\n              (data[22] <<  8) |\r\n              data[23],\r\n            decoderConfigDescriptor: {\r\n              tag: data[24],\r\n              length: data[25],\r\n              audioObjectType: (data[26] >>> 3) & 0x1f,\r\n              samplingFrequencyIndex: ((data[26] & 0x07) << 1) |\r\n                ((data[27] >>> 7) & 0x01),\r\n              channelConfiguration: (data[27] >>> 3) & 0x0f\r\n            }\r\n          }\r\n        };\r\n      },\r\n      ftyp: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          result = {\r\n            majorBrand: parseType(data.subarray(0, 4)),\r\n            minorVersion: view.getUint32(4),\r\n            compatibleBrands: []\r\n          },\r\n          i = 8;\r\n        while (i < data.byteLength) {\r\n          result.compatibleBrands.push(parseType(data.subarray(i, i + 4)));\r\n          i += 4;\r\n        }\r\n        return result;\r\n      },\r\n      dinf: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      dref: function(data) {\r\n        return {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          dataReferences: inspectMp4(data.subarray(8))\r\n        };\r\n      },\r\n      hdlr: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          result = {\r\n            version: view.getUint8(0),\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            handlerType: parseType(data.subarray(8, 12)),\r\n            name: ''\r\n          },\r\n          i = 8;\r\n  \r\n        // parse out the name field\r\n        for (i = 24; i < data.byteLength; i++) {\r\n          if (data[i] === 0x00) {\r\n            // the name field is null-terminated\r\n            i++;\r\n            break;\r\n          }\r\n          result.name += String.fromCharCode(data[i]);\r\n        }\r\n        // decode UTF-8 to javascript's internal representation\r\n        // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\r\n        result.name = decodeURIComponent(global.escape(result.name));\r\n  \r\n        return result;\r\n      },\r\n      mdat: function(data) {\r\n        return {\r\n          byteLength: data.byteLength,\r\n          nals: nalParse(data)\r\n        };\r\n      },\r\n      mdhd: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          i = 4,\r\n          language,\r\n          result = {\r\n            version: view.getUint8(0),\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            language: ''\r\n          };\r\n        if (result.version === 1) {\r\n          i += 4;\r\n          result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n          i += 8;\r\n          result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n          i += 4;\r\n          result.timescale = view.getUint32(i);\r\n          i += 8;\r\n          result.duration = view.getUint32(i); // truncating top 4 bytes\r\n        } else {\r\n          result.creationTime = parseMp4Date(view.getUint32(i));\r\n          i += 4;\r\n          result.modificationTime = parseMp4Date(view.getUint32(i));\r\n          i += 4;\r\n          result.timescale = view.getUint32(i);\r\n          i += 4;\r\n          result.duration = view.getUint32(i);\r\n        }\r\n        i += 4;\r\n        // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\r\n        // each field is the packed difference between its ASCII value and 0x60\r\n        language = view.getUint16(i);\r\n        result.language += String.fromCharCode((language >> 10) + 0x60);\r\n        result.language += String.fromCharCode(((language & 0x03c0) >> 5) + 0x60);\r\n        result.language += String.fromCharCode((language & 0x1f) + 0x60);\r\n  \r\n        return result;\r\n      },\r\n      mdia: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      mfhd: function(data) {\r\n        return {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          sequenceNumber: (data[4] << 24) |\r\n            (data[5] << 16) |\r\n            (data[6] << 8) |\r\n            (data[7])\r\n        };\r\n      },\r\n      minf: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      // codingname, not a first-class box type. stsd entries share the\r\n      // same format as real boxes so the parsing infrastructure can be\r\n      // shared\r\n      mp4a: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          result = {\r\n            // 6 bytes reserved\r\n            dataReferenceIndex: view.getUint16(6),\r\n            // 4 + 4 bytes reserved\r\n            channelcount: view.getUint16(16),\r\n            samplesize: view.getUint16(18),\r\n            // 2 bytes pre_defined\r\n            // 2 bytes reserved\r\n            samplerate: view.getUint16(24) + (view.getUint16(26) / 65536)\r\n          };\r\n  \r\n        // if there are more bytes to process, assume this is an ISO/IEC\r\n        // 14496-14 MP4AudioSampleEntry and parse the ESDBox\r\n        if (data.byteLength > 28) {\r\n          result.streamDescriptor = inspectMp4(data.subarray(28))[0];\r\n        }\r\n        return result;\r\n      },\r\n      moof: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      moov: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      mvex: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      mvhd: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          i = 4,\r\n          result = {\r\n            version: view.getUint8(0),\r\n            flags: new Uint8Array(data.subarray(1, 4))\r\n          };\r\n  \r\n        if (result.version === 1) {\r\n          i += 4;\r\n          result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n          i += 8;\r\n          result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n          i += 4;\r\n          result.timescale = view.getUint32(i);\r\n          i += 8;\r\n          result.duration = view.getUint32(i); // truncating top 4 bytes\r\n        } else {\r\n          result.creationTime = parseMp4Date(view.getUint32(i));\r\n          i += 4;\r\n          result.modificationTime = parseMp4Date(view.getUint32(i));\r\n          i += 4;\r\n          result.timescale = view.getUint32(i);\r\n          i += 4;\r\n          result.duration = view.getUint32(i);\r\n        }\r\n        i += 4;\r\n  \r\n        // convert fixed-point, base 16 back to a number\r\n        result.rate = view.getUint16(i) + (view.getUint16(i + 2) / 16);\r\n        i += 4;\r\n        result.volume = view.getUint8(i) + (view.getUint8(i + 1) / 8);\r\n        i += 2;\r\n        i += 2;\r\n        i += 2 * 4;\r\n        result.matrix = new Uint32Array(data.subarray(i, i + (9 * 4)));\r\n        i += 9 * 4;\r\n        i += 6 * 4;\r\n        result.nextTrackId = view.getUint32(i);\r\n        return result;\r\n      },\r\n      pdin: function(data) {\r\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n        return {\r\n          version: view.getUint8(0),\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          rate: view.getUint32(4),\r\n          initialDelay: view.getUint32(8)\r\n        };\r\n      },\r\n      sdtp: function(data) {\r\n        var\r\n          result = {\r\n            version: data[0],\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            samples: []\r\n          }, i;\r\n  \r\n        for (i = 4; i < data.byteLength; i++) {\r\n          result.samples.push({\r\n            dependsOn: (data[i] & 0x30) >> 4,\r\n            isDependedOn: (data[i] & 0x0c) >> 2,\r\n            hasRedundancy: data[i] & 0x03\r\n          });\r\n        }\r\n        return result;\r\n      },\r\n      sidx: function(data) {\r\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n            result = {\r\n              version: data[0],\r\n              flags: new Uint8Array(data.subarray(1, 4)),\r\n              references: [],\r\n              referenceId: view.getUint32(4),\r\n              timescale: view.getUint32(8),\r\n              earliestPresentationTime: view.getUint32(12),\r\n              firstOffset: view.getUint32(16)\r\n            },\r\n            referenceCount = view.getUint16(22),\r\n            i;\r\n  \r\n        for (i = 24; referenceCount; i += 12, referenceCount--) {\r\n          result.references.push({\r\n            referenceType: (data[i] & 0x80) >>> 7,\r\n            referencedSize: view.getUint32(i) & 0x7FFFFFFF,\r\n            subsegmentDuration: view.getUint32(i + 4),\r\n            startsWithSap: !!(data[i + 8] & 0x80),\r\n            sapType: (data[i + 8] & 0x70) >>> 4,\r\n            sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\r\n          });\r\n        }\r\n  \r\n        return result;\r\n      },\r\n      smhd: function(data) {\r\n        return {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          balance: data[4] + (data[5] / 256)\r\n        };\r\n      },\r\n      stbl: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      stco: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          result = {\r\n            version: data[0],\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            chunkOffsets: []\r\n          },\r\n          entryCount = view.getUint32(4),\r\n          i;\r\n        for (i = 8; entryCount; i += 4, entryCount--) {\r\n          result.chunkOffsets.push(view.getUint32(i));\r\n        }\r\n        return result;\r\n      },\r\n      stsc: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          entryCount = view.getUint32(4),\r\n          result = {\r\n            version: data[0],\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            sampleToChunks: []\r\n          },\r\n          i;\r\n        for (i = 8; entryCount; i += 12, entryCount--) {\r\n          result.sampleToChunks.push({\r\n            firstChunk: view.getUint32(i),\r\n            samplesPerChunk: view.getUint32(i + 4),\r\n            sampleDescriptionIndex: view.getUint32(i + 8)\r\n          });\r\n        }\r\n        return result;\r\n      },\r\n      stsd: function(data) {\r\n        return {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          sampleDescriptions: inspectMp4(data.subarray(8))\r\n        };\r\n      },\r\n      stsz: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          result = {\r\n            version: data[0],\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            sampleSize: view.getUint32(4),\r\n            entries: []\r\n          },\r\n          i;\r\n        for (i = 12; i < data.byteLength; i += 4) {\r\n          result.entries.push(view.getUint32(i));\r\n        }\r\n        return result;\r\n      },\r\n      stts: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          result = {\r\n            version: data[0],\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            timeToSamples: []\r\n          },\r\n          entryCount = view.getUint32(4),\r\n          i;\r\n  \r\n        for (i = 8; entryCount; i += 8, entryCount--) {\r\n          result.timeToSamples.push({\r\n            sampleCount: view.getUint32(i),\r\n            sampleDelta: view.getUint32(i + 4)\r\n          });\r\n        }\r\n        return result;\r\n      },\r\n      styp: function(data) {\r\n        return parse.ftyp(data);\r\n      },\r\n      tfdt: function(data) {\r\n        var result = {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          baseMediaDecodeTime: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\r\n        };\r\n        if (result.version === 1) {\r\n          result.baseMediaDecodeTime *= Math.pow(2, 32);\r\n          result.baseMediaDecodeTime += data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11];\r\n        }\r\n        return result;\r\n      },\r\n      tfhd: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          result = {\r\n            version: data[0],\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            trackId: view.getUint32(4)\r\n          },\r\n          baseDataOffsetPresent = result.flags[2] & 0x01,\r\n          sampleDescriptionIndexPresent = result.flags[2] & 0x02,\r\n          defaultSampleDurationPresent = result.flags[2] & 0x08,\r\n          defaultSampleSizePresent = result.flags[2] & 0x10,\r\n          defaultSampleFlagsPresent = result.flags[2] & 0x20,\r\n          i;\r\n  \r\n        i = 8;\r\n        if (baseDataOffsetPresent) {\r\n          i += 4; // truncate top 4 bytes\r\n          result.baseDataOffset = view.getUint32(12);\r\n          i += 4;\r\n        }\r\n        if (sampleDescriptionIndexPresent) {\r\n          result.sampleDescriptionIndex = view.getUint32(i);\r\n          i += 4;\r\n        }\r\n        if (defaultSampleDurationPresent) {\r\n          result.defaultSampleDuration = view.getUint32(i);\r\n          i += 4;\r\n        }\r\n        if (defaultSampleSizePresent) {\r\n          result.defaultSampleSize = view.getUint32(i);\r\n          i += 4;\r\n        }\r\n        if (defaultSampleFlagsPresent) {\r\n          result.defaultSampleFlags = view.getUint32(i);\r\n        }\r\n        return result;\r\n      },\r\n      tkhd: function(data) {\r\n        var\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          i = 4,\r\n          result = {\r\n            version: view.getUint8(0),\r\n            flags: new Uint8Array(data.subarray(1, 4))\r\n          };\r\n        if (result.version === 1) {\r\n          i += 4;\r\n          result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n          i += 8;\r\n          result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\r\n          i += 4;\r\n          result.trackId = view.getUint32(i);\r\n          i += 4;\r\n          i += 8;\r\n          result.duration = view.getUint32(i); // truncating top 4 bytes\r\n        } else {\r\n          result.creationTime = parseMp4Date(view.getUint32(i));\r\n          i += 4;\r\n          result.modificationTime = parseMp4Date(view.getUint32(i));\r\n          i += 4;\r\n          result.trackId = view.getUint32(i);\r\n          i += 4;\r\n          i += 4;\r\n          result.duration = view.getUint32(i);\r\n        }\r\n        i += 4;\r\n        i += 2 * 4;\r\n        result.layer = view.getUint16(i);\r\n        i += 2;\r\n        result.alternateGroup = view.getUint16(i);\r\n        i += 2;\r\n        // convert fixed-point, base 16 back to a number\r\n        result.volume = view.getUint8(i) + (view.getUint8(i + 1) / 8);\r\n        i += 2;\r\n        i += 2;\r\n        result.matrix = new Uint32Array(data.subarray(i, i + (9 * 4)));\r\n        i += 9 * 4;\r\n        result.width = view.getUint16(i) + (view.getUint16(i + 2) / 16);\r\n        i += 4;\r\n        result.height = view.getUint16(i) + (view.getUint16(i + 2) / 16);\r\n        return result;\r\n      },\r\n      traf: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      trak: function(data) {\r\n        return {\r\n          boxes: inspectMp4(data)\r\n        };\r\n      },\r\n      trex: function(data) {\r\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n        return {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          trackId: view.getUint32(4),\r\n          defaultSampleDescriptionIndex: view.getUint32(8),\r\n          defaultSampleDuration: view.getUint32(12),\r\n          defaultSampleSize: view.getUint32(16),\r\n          sampleDependsOn: data[20] & 0x03,\r\n          sampleIsDependedOn: (data[21] & 0xc0) >> 6,\r\n          sampleHasRedundancy: (data[21] & 0x30) >> 4,\r\n          samplePaddingValue: (data[21] & 0x0e) >> 1,\r\n          sampleIsDifferenceSample: !!(data[21] & 0x01),\r\n          sampleDegradationPriority: view.getUint16(22)\r\n        };\r\n      },\r\n      trun: function(data) {\r\n        var\r\n          result = {\r\n            version: data[0],\r\n            flags: new Uint8Array(data.subarray(1, 4)),\r\n            samples: []\r\n          },\r\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n          dataOffsetPresent = result.flags[2] & 0x01,\r\n          firstSampleFlagsPresent = result.flags[2] & 0x04,\r\n          sampleDurationPresent = result.flags[1] & 0x01,\r\n          sampleSizePresent = result.flags[1] & 0x02,\r\n          sampleFlagsPresent = result.flags[1] & 0x04,\r\n          sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\r\n          sampleCount = view.getUint32(4),\r\n          offset = 8,\r\n          sample;\r\n  \r\n        if (dataOffsetPresent) {\r\n          result.dataOffset = view.getUint32(offset);\r\n          offset += 4;\r\n        }\r\n  \r\n        if (firstSampleFlagsPresent && sampleCount) {\r\n          sample = {\r\n            flags: parseSampleFlags(data.subarray(offset, offset + 4))\r\n          };\r\n          offset += 4;\r\n          if (sampleDurationPresent) {\r\n            sample.duration = view.getUint32(offset);\r\n            offset += 4;\r\n          }\r\n          if (sampleSizePresent) {\r\n            sample.size = view.getUint32(offset);\r\n            offset += 4;\r\n          }\r\n          if (sampleCompositionTimeOffsetPresent) {\r\n            sample.compositionTimeOffset = view.getUint32(offset);\r\n            offset += 4;\r\n          }\r\n          result.samples.push(sample);\r\n          sampleCount--;\r\n        }\r\n  \r\n        while (sampleCount--) {\r\n          sample = {};\r\n          if (sampleDurationPresent) {\r\n            sample.duration = view.getUint32(offset);\r\n            offset += 4;\r\n          }\r\n          if (sampleSizePresent) {\r\n            sample.size = view.getUint32(offset);\r\n            offset += 4;\r\n          }\r\n          if (sampleFlagsPresent) {\r\n            sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\r\n            offset += 4;\r\n          }\r\n          if (sampleCompositionTimeOffsetPresent) {\r\n            sample.compositionTimeOffset = view.getUint32(offset);\r\n            offset += 4;\r\n          }\r\n          result.samples.push(sample);\r\n        }\r\n        return result;\r\n      },\r\n      'url ': function(data) {\r\n        return {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4))\r\n        };\r\n      },\r\n      vmhd: function(data) {\r\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n        return {\r\n          version: data[0],\r\n          flags: new Uint8Array(data.subarray(1, 4)),\r\n          graphicsmode: view.getUint16(4),\r\n          opcolor: new Uint16Array([view.getUint16(6),\r\n                                    view.getUint16(8),\r\n                                    view.getUint16(10)])\r\n        };\r\n      }\r\n    };\r\n  \r\n  \r\n  /**\r\n   * Return a javascript array of box objects parsed from an ISO base\r\n   * media file.\r\n   * @param data {Uint8Array} the binary data of the media to be inspected\r\n   * @return {array} a javascript array of potentially nested box objects\r\n   */\r\n  inspectMp4 = function(data) {\r\n    var\r\n      i = 0,\r\n      result = [],\r\n      view,\r\n      size,\r\n      type,\r\n      end,\r\n      box;\r\n  \r\n    // Convert data from Uint8Array to ArrayBuffer, to follow Dataview API\r\n    var ab = new ArrayBuffer(data.length);\r\n    var v = new Uint8Array(ab);\r\n    for (var z = 0; z < data.length; ++z) {\r\n        v[z] = data[z];\r\n    }\r\n    view = new DataView(ab);\r\n  \r\n  \r\n    while (i < data.byteLength) {\r\n      // parse box data\r\n      size = view.getUint32(i);\r\n      type =  parseType(data.subarray(i + 4, i + 8));\r\n      end = size > 1 ? i + size : data.byteLength;\r\n  \r\n      // parse type-specific data\r\n      box = (parse[type] || function(data) {\r\n        return {\r\n          data: data\r\n        };\r\n      })(data.subarray(i + 8, end));\r\n      box.size = size;\r\n      box.type = type;\r\n  \r\n      // store this box and move to the next\r\n      result.push(box);\r\n      i = end;\r\n    }\r\n    return result;\r\n  };\r\n  \r\n  /**\r\n   * Returns a textual representation of the javascript represtentation\r\n   * of an MP4 file. You can use it as an alternative to\r\n   * JSON.stringify() to compare inspected MP4s.\r\n   * @param inspectedMp4 {array} the parsed array of boxes in an MP4\r\n   * file\r\n   * @param depth {number} (optional) the number of ancestor boxes of\r\n   * the elements of inspectedMp4. Assumed to be zero if unspecified.\r\n   * @return {string} a text representation of the parsed MP4\r\n   */\r\n  textifyMp4 = function(inspectedMp4, depth) {\r\n    var indent;\r\n    depth = depth || 0;\r\n    indent = new Array(depth * 2 + 1).join(' ');\r\n  \r\n    // iterate over all the boxes\r\n    return inspectedMp4.map(function(box, index) {\r\n  \r\n      // list the box type first at the current indentation level\r\n      return indent + box.type + '\\n' +\r\n  \r\n        // the type is already included and handle child boxes separately\r\n        Object.keys(box).filter(function(key) {\r\n          return key !== 'type' && key !== 'boxes';\r\n  \r\n        // output all the box properties\r\n        }).map(function(key) {\r\n          var prefix = indent + '  ' + key + ': ',\r\n              value = box[key];\r\n  \r\n          // print out raw bytes as hexademical\r\n          if (value instanceof Uint8Array || value instanceof Uint32Array) {\r\n            var bytes = Array.prototype.slice.call(new Uint8Array(value.buffer, value.byteOffset, value.byteLength))\r\n                .map(function(byte) {\r\n                  return ' ' + ('00' + byte.toString(16)).slice(-2);\r\n                }).join('').match(/.{1,24}/g);\r\n            if (!bytes) {\r\n              return prefix + '<>';\r\n            }\r\n            if (bytes.length === 1) {\r\n              return prefix + '<' + bytes.join('').slice(1) + '>';\r\n            }\r\n            return prefix + '<\\n' + bytes.map(function(line) {\r\n              return indent + '  ' + line;\r\n            }).join('\\n') + '\\n' + indent + '  >';\r\n          }\r\n  \r\n          // stringify generic objects\r\n          return prefix +\r\n              JSON.stringify(value, null, 2)\r\n                .split('\\n').map(function(line, index) {\r\n                  if (index === 0) {\r\n                    return line;\r\n                  }\r\n                  return indent + '  ' + line;\r\n                }).join('\\n');\r\n        }).join('\\n') +\r\n  \r\n      // recursively textify the child boxes\r\n      (box.boxes ? '\\n' + textifyMp4(box.boxes, depth + 1) : '');\r\n    }).join('\\n');\r\n  };\r\n  \r\n  module.exports = {\r\n    inspect: inspectMp4,\r\n    textify: textifyMp4\r\n  };\r\n  \r\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n  },{\"../mp4/probe\":19}],23:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2016 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * Parse mpeg2 transport stream packets to extract basic timing information\r\n   */\r\n  'use strict';\r\n  \r\n  var StreamTypes = require('../m2ts/stream-types.js');\r\n  var handleRollover = require('../m2ts/timestamp-rollover-stream.js').handleRollover;\r\n  var probe = {};\r\n  probe.ts = require('../m2ts/probe.js');\r\n  probe.aac = require('../aac/probe.js');\r\n  \r\n  \r\n  var\r\n    PES_TIMESCALE = 90000,\r\n    MP2T_PACKET_LENGTH = 188, // bytes\r\n    SYNC_BYTE = 0x47;\r\n  \r\n  var isLikelyAacData = function(data) {\r\n    if ((data[0] === 'I'.charCodeAt(0)) &&\r\n        (data[1] === 'D'.charCodeAt(0)) &&\r\n        (data[2] === '3'.charCodeAt(0))) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  \r\n  /**\r\n   * walks through segment data looking for pat and pmt packets to parse out\r\n   * program map table information\r\n   */\r\n  var parsePsi_ = function(bytes, pmt) {\r\n    var\r\n      startIndex = 0,\r\n      endIndex = MP2T_PACKET_LENGTH,\r\n      packet, type;\r\n  \r\n    while (endIndex < bytes.byteLength) {\r\n      // Look for a pair of start and end sync bytes in the data..\r\n      if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\r\n        // We found a packet\r\n        packet = bytes.subarray(startIndex, endIndex);\r\n        type = probe.ts.parseType(packet, pmt.pid);\r\n  \r\n        switch (type) {\r\n          case 'pat':\r\n            if (!pmt.pid) {\r\n              pmt.pid = probe.ts.parsePat(packet);\r\n            }\r\n            break;\r\n          case 'pmt':\r\n            if (!pmt.table) {\r\n              pmt.table = probe.ts.parsePmt(packet);\r\n            }\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n  \r\n        // Found the pat and pmt, we can stop walking the segment\r\n        if (pmt.pid && pmt.table) {\r\n          return;\r\n        }\r\n  \r\n        startIndex += MP2T_PACKET_LENGTH;\r\n        endIndex += MP2T_PACKET_LENGTH;\r\n        continue;\r\n      }\r\n  \r\n      // If we get here, we have somehow become de-synchronized and we need to step\r\n      // forward one byte at a time until we find a pair of sync bytes that denote\r\n      // a packet\r\n      startIndex++;\r\n      endIndex++;\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * walks through the segment data from the start and end to get timing information\r\n   * for the first and last audio pes packets\r\n   */\r\n  var parseAudioPes_ = function(bytes, pmt, result) {\r\n    var\r\n      startIndex = 0,\r\n      endIndex = MP2T_PACKET_LENGTH,\r\n      packet, type, pesType, pusi, parsed;\r\n  \r\n    var endLoop = false;\r\n  \r\n    // Start walking from start of segment to get first audio packet\r\n    while (endIndex < bytes.byteLength) {\r\n      // Look for a pair of start and end sync bytes in the data..\r\n      if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\r\n        // We found a packet\r\n        packet = bytes.subarray(startIndex, endIndex);\r\n        type = probe.ts.parseType(packet, pmt.pid);\r\n  \r\n        switch (type) {\r\n          case 'pes':\r\n            pesType = probe.ts.parsePesType(packet, pmt.table);\r\n            pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\r\n            if (pesType === 'audio' && pusi) {\r\n              parsed = probe.ts.parsePesTime(packet);\r\n              parsed.type = 'audio';\r\n              result.audio.push(parsed);\r\n              endLoop = true;\r\n            }\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n  \r\n        if (endLoop) {\r\n          break;\r\n        }\r\n  \r\n        startIndex += MP2T_PACKET_LENGTH;\r\n        endIndex += MP2T_PACKET_LENGTH;\r\n        continue;\r\n      }\r\n  \r\n      // If we get here, we have somehow become de-synchronized and we need to step\r\n      // forward one byte at a time until we find a pair of sync bytes that denote\r\n      // a packet\r\n      startIndex++;\r\n      endIndex++;\r\n    }\r\n  \r\n    // Start walking from end of segment to get last audio packet\r\n    endIndex = bytes.byteLength;\r\n    startIndex = endIndex - MP2T_PACKET_LENGTH;\r\n    endLoop = false;\r\n    while (startIndex >= 0) {\r\n      // Look for a pair of start and end sync bytes in the data..\r\n      if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\r\n        // We found a packet\r\n        packet = bytes.subarray(startIndex, endIndex);\r\n        type = probe.ts.parseType(packet, pmt.pid);\r\n  \r\n        switch (type) {\r\n          case 'pes':\r\n            pesType = probe.ts.parsePesType(packet, pmt.table);\r\n            pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\r\n            if (pesType === 'audio' && pusi) {\r\n              parsed = probe.ts.parsePesTime(packet);\r\n              parsed.type = 'audio';\r\n              result.audio.push(parsed);\r\n              endLoop = true;\r\n            }\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n  \r\n        if (endLoop) {\r\n          break;\r\n        }\r\n  \r\n        startIndex -= MP2T_PACKET_LENGTH;\r\n        endIndex -= MP2T_PACKET_LENGTH;\r\n        continue;\r\n      }\r\n  \r\n      // If we get here, we have somehow become de-synchronized and we need to step\r\n      // forward one byte at a time until we find a pair of sync bytes that denote\r\n      // a packet\r\n      startIndex--;\r\n      endIndex--;\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * walks through the segment data from the start and end to get timing information\r\n   * for the first and last video pes packets as well as timing information for the first\r\n   * key frame.\r\n   */\r\n  var parseVideoPes_ = function(bytes, pmt, result) {\r\n    var\r\n      startIndex = 0,\r\n      endIndex = MP2T_PACKET_LENGTH,\r\n      packet, type, pesType, pusi, parsed, frame, i, pes;\r\n  \r\n    var endLoop = false;\r\n  \r\n    var currentFrame = {\r\n      data: [],\r\n      size: 0\r\n    };\r\n  \r\n    // Start walking from start of segment to get first video packet\r\n    while (endIndex < bytes.byteLength) {\r\n      // Look for a pair of start and end sync bytes in the data..\r\n      if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\r\n        // We found a packet\r\n        packet = bytes.subarray(startIndex, endIndex);\r\n        type = probe.ts.parseType(packet, pmt.pid);\r\n  \r\n        switch (type) {\r\n          case 'pes':\r\n            pesType = probe.ts.parsePesType(packet, pmt.table);\r\n            pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\r\n            if (pesType === 'video') {\r\n              if (pusi && !endLoop) {\r\n                parsed = probe.ts.parsePesTime(packet);\r\n                parsed.type = 'video';\r\n                result.video.push(parsed);\r\n                endLoop = true;\r\n              }\r\n              if (!result.firstKeyFrame) {\r\n                if (pusi) {\r\n                  if (currentFrame.size !== 0) {\r\n                    frame = new Uint8Array(currentFrame.size);\r\n                    i = 0;\r\n                    while (currentFrame.data.length) {\r\n                      pes = currentFrame.data.shift();\r\n                      frame.set(pes, i);\r\n                      i += pes.byteLength;\r\n                    }\r\n                    if (probe.ts.videoPacketContainsKeyFrame(frame)) {\r\n                      result.firstKeyFrame = probe.ts.parsePesTime(frame);\r\n                      result.firstKeyFrame.type = 'video';\r\n                    }\r\n                    currentFrame.size = 0;\r\n                  }\r\n                }\r\n                currentFrame.data.push(packet);\r\n                currentFrame.size += packet.byteLength;\r\n              }\r\n            }\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n  \r\n        if (endLoop && result.firstKeyFrame) {\r\n          break;\r\n        }\r\n  \r\n        startIndex += MP2T_PACKET_LENGTH;\r\n        endIndex += MP2T_PACKET_LENGTH;\r\n        continue;\r\n      }\r\n  \r\n      // If we get here, we have somehow become de-synchronized and we need to step\r\n      // forward one byte at a time until we find a pair of sync bytes that denote\r\n      // a packet\r\n      startIndex++;\r\n      endIndex++;\r\n    }\r\n  \r\n    // Start walking from end of segment to get last video packet\r\n    endIndex = bytes.byteLength;\r\n    startIndex = endIndex - MP2T_PACKET_LENGTH;\r\n    endLoop = false;\r\n    while (startIndex >= 0) {\r\n      // Look for a pair of start and end sync bytes in the data..\r\n      if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\r\n        // We found a packet\r\n        packet = bytes.subarray(startIndex, endIndex);\r\n        type = probe.ts.parseType(packet, pmt.pid);\r\n  \r\n        switch (type) {\r\n          case 'pes':\r\n            pesType = probe.ts.parsePesType(packet, pmt.table);\r\n            pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\r\n            if (pesType === 'video' && pusi) {\r\n                parsed = probe.ts.parsePesTime(packet);\r\n                parsed.type = 'video';\r\n                result.video.push(parsed);\r\n              endLoop = true;\r\n            }\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n  \r\n        if (endLoop) {\r\n          break;\r\n        }\r\n  \r\n        startIndex -= MP2T_PACKET_LENGTH;\r\n        endIndex -= MP2T_PACKET_LENGTH;\r\n        continue;\r\n      }\r\n  \r\n      // If we get here, we have somehow become de-synchronized and we need to step\r\n      // forward one byte at a time until we find a pair of sync bytes that denote\r\n      // a packet\r\n      startIndex--;\r\n      endIndex--;\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * Adjusts the timestamp information for the segment to account for\r\n   * rollover and convert to seconds based on pes packet timescale (90khz clock)\r\n   */\r\n  var adjustTimestamp_ = function(segmentInfo, baseTimestamp) {\r\n    if (segmentInfo.audio && segmentInfo.audio.length) {\r\n      var audioBaseTimestamp = baseTimestamp;\r\n      if (typeof audioBaseTimestamp === 'undefined') {\r\n        audioBaseTimestamp = segmentInfo.audio[0].dts;\r\n      }\r\n      segmentInfo.audio.forEach(function(info) {\r\n        info.dts = handleRollover(info.dts, audioBaseTimestamp);\r\n        info.pts = handleRollover(info.pts, audioBaseTimestamp);\r\n        // time in seconds\r\n        info.dtsTime = info.dts / PES_TIMESCALE;\r\n        info.ptsTime = info.pts / PES_TIMESCALE;\r\n      });\r\n    }\r\n  \r\n    if (segmentInfo.video && segmentInfo.video.length) {\r\n      var videoBaseTimestamp = baseTimestamp;\r\n      if (typeof videoBaseTimestamp === 'undefined') {\r\n        videoBaseTimestamp = segmentInfo.video[0].dts;\r\n      }\r\n      segmentInfo.video.forEach(function(info) {\r\n        info.dts = handleRollover(info.dts, videoBaseTimestamp);\r\n        info.pts = handleRollover(info.pts, videoBaseTimestamp);\r\n        // time in seconds\r\n        info.dtsTime = info.dts / PES_TIMESCALE;\r\n        info.ptsTime = info.pts / PES_TIMESCALE;\r\n      });\r\n      if (segmentInfo.firstKeyFrame) {\r\n        var frame = segmentInfo.firstKeyFrame;\r\n        frame.dts = handleRollover(frame.dts, videoBaseTimestamp);\r\n        frame.pts = handleRollover(frame.pts, videoBaseTimestamp);\r\n        // time in seconds\r\n        frame.dtsTime = frame.dts / PES_TIMESCALE;\r\n        frame.ptsTime = frame.dts / PES_TIMESCALE;\r\n      }\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * inspects the aac data stream for start and end time information\r\n   */\r\n  var inspectAac_ = function(bytes) {\r\n    var\r\n      endLoop = false,\r\n      audioCount = 0,\r\n      sampleRate = null,\r\n      timestamp = null,\r\n      frameSize = 0,\r\n      byteIndex = 0,\r\n      packet;\r\n  \r\n    while (bytes.length - byteIndex >= 3) {\r\n      var type = probe.aac.parseType(bytes, byteIndex);\r\n      switch (type) {\r\n        case 'timed-metadata':\r\n          // Exit early because we don't have enough to parse\r\n          // the ID3 tag header\r\n          if (bytes.length - byteIndex < 10) {\r\n            endLoop = true;\r\n            break;\r\n          }\r\n  \r\n          frameSize = probe.aac.parseId3TagSize(bytes, byteIndex);\r\n  \r\n          // Exit early if we don't have enough in the buffer\r\n          // to emit a full packet\r\n          if (frameSize > bytes.length) {\r\n            endLoop = true;\r\n            break;\r\n          }\r\n          if (timestamp === null) {\r\n            packet = bytes.subarray(byteIndex, byteIndex + frameSize);\r\n            timestamp = probe.aac.parseAacTimestamp(packet);\r\n          }\r\n          byteIndex += frameSize;\r\n          break;\r\n        case 'audio':\r\n          // Exit early because we don't have enough to parse\r\n          // the ADTS frame header\r\n          if (bytes.length - byteIndex < 7) {\r\n            endLoop = true;\r\n            break;\r\n          }\r\n  \r\n          frameSize = probe.aac.parseAdtsSize(bytes, byteIndex);\r\n  \r\n          // Exit early if we don't have enough in the buffer\r\n          // to emit a full packet\r\n          if (frameSize > bytes.length) {\r\n            endLoop = true;\r\n            break;\r\n          }\r\n          if (sampleRate === null) {\r\n            packet = bytes.subarray(byteIndex, byteIndex + frameSize);\r\n            sampleRate = probe.aac.parseSampleRate(packet);\r\n          }\r\n          audioCount++;\r\n          byteIndex += frameSize;\r\n          break;\r\n        default:\r\n          byteIndex++;\r\n          break;\r\n      }\r\n      if (endLoop) {\r\n        return null;\r\n      }\r\n    }\r\n    if (sampleRate === null || timestamp === null) {\r\n      return null;\r\n    }\r\n  \r\n    var audioTimescale = PES_TIMESCALE / sampleRate;\r\n  \r\n    var result = {\r\n      audio: [\r\n        {\r\n          type: 'audio',\r\n          dts: timestamp,\r\n          pts: timestamp\r\n        },\r\n        {\r\n          type: 'audio',\r\n          dts: timestamp + (audioCount * 1024 * audioTimescale),\r\n          pts: timestamp + (audioCount * 1024 * audioTimescale)\r\n        }\r\n      ]\r\n    };\r\n  \r\n    return result;\r\n  };\r\n  \r\n  /**\r\n   * inspects the transport stream segment data for start and end time information\r\n   * of the audio and video tracks (when present) as well as the first key frame's\r\n   * start time.\r\n   */\r\n  var inspectTs_ = function(bytes) {\r\n    var pmt = {\r\n      pid: null,\r\n      table: null\r\n    };\r\n  \r\n    var result = {};\r\n  \r\n    parsePsi_(bytes, pmt);\r\n  \r\n    for (var pid in pmt.table) {\r\n      if (pmt.table.hasOwnProperty(pid)) {\r\n        var type = pmt.table[pid];\r\n        switch (type) {\r\n          case StreamTypes.H264_STREAM_TYPE:\r\n            result.video = [];\r\n            parseVideoPes_(bytes, pmt, result);\r\n            if (result.video.length === 0) {\r\n              delete result.video;\r\n            }\r\n            break;\r\n          case StreamTypes.ADTS_STREAM_TYPE:\r\n            result.audio = [];\r\n            parseAudioPes_(bytes, pmt, result);\r\n            if (result.audio.length === 0) {\r\n              delete result.audio;\r\n            }\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  \r\n  /**\r\n   * Inspects segment byte data and returns an object with start and end timing information\r\n   *\r\n   * @param {Uint8Array} bytes The segment byte data\r\n   * @param {Number} baseTimestamp Relative reference timestamp used when adjusting frame\r\n   *  timestamps for rollover. This value must be in 90khz clock.\r\n   * @return {Object} Object containing start and end frame timing info of segment.\r\n   */\r\n  var inspect = function(bytes, baseTimestamp) {\r\n    var isAacData = isLikelyAacData(bytes);\r\n  \r\n    var result;\r\n  \r\n    if (isAacData) {\r\n      result = inspectAac_(bytes);\r\n    } else {\r\n      result = inspectTs_(bytes);\r\n    }\r\n  \r\n    if (!result || (!result.audio && !result.video)) {\r\n      return null;\r\n    }\r\n  \r\n    adjustTimestamp_(result, baseTimestamp);\r\n  \r\n    return result;\r\n  };\r\n  \r\n  module.exports = {\r\n    inspect: inspect\r\n  };\r\n  \r\n  },{\"../aac/probe.js\":2,\"../m2ts/probe.js\":14,\"../m2ts/stream-types.js\":15,\"../m2ts/timestamp-rollover-stream.js\":16}],24:[function(require,module,exports){\r\n  'use strict';\r\n  \r\n  var ExpGolomb;\r\n  \r\n  /**\r\n   * Parser for exponential Golomb codes, a variable-bitwidth number encoding\r\n   * scheme used by h264.\r\n   */\r\n  ExpGolomb = function(workingData) {\r\n    var\r\n      // the number of bytes left to examine in workingData\r\n      workingBytesAvailable = workingData.byteLength,\r\n  \r\n      // the current word being examined\r\n      workingWord = 0, // :uint\r\n  \r\n      // the number of bits left to examine in the current word\r\n      workingBitsAvailable = 0; // :uint;\r\n  \r\n    // ():uint\r\n    this.length = function() {\r\n      return (8 * workingBytesAvailable);\r\n    };\r\n  \r\n    // ():uint\r\n    this.bitsAvailable = function() {\r\n      return (8 * workingBytesAvailable) + workingBitsAvailable;\r\n    };\r\n  \r\n    // ():void\r\n    this.loadWord = function() {\r\n      var\r\n        position = workingData.byteLength - workingBytesAvailable,\r\n        workingBytes = new Uint8Array(4),\r\n        availableBytes = Math.min(4, workingBytesAvailable);\r\n  \r\n      if (availableBytes === 0) {\r\n        throw new Error('no bytes available');\r\n      }\r\n  \r\n      workingBytes.set(workingData.subarray(position,\r\n                                            position + availableBytes));\r\n      workingWord = new DataView(workingBytes.buffer).getUint32(0);\r\n  \r\n      // track the amount of workingData that has been processed\r\n      workingBitsAvailable = availableBytes * 8;\r\n      workingBytesAvailable -= availableBytes;\r\n    };\r\n  \r\n    // (count:int):void\r\n    this.skipBits = function(count) {\r\n      var skipBytes; // :int\r\n      if (workingBitsAvailable > count) {\r\n        workingWord          <<= count;\r\n        workingBitsAvailable -= count;\r\n      } else {\r\n        count -= workingBitsAvailable;\r\n        skipBytes = Math.floor(count / 8);\r\n  \r\n        count -= (skipBytes * 8);\r\n        workingBytesAvailable -= skipBytes;\r\n  \r\n        this.loadWord();\r\n  \r\n        workingWord <<= count;\r\n        workingBitsAvailable -= count;\r\n      }\r\n    };\r\n  \r\n    // (size:int):uint\r\n    this.readBits = function(size) {\r\n      var\r\n        bits = Math.min(workingBitsAvailable, size), // :uint\r\n        valu = workingWord >>> (32 - bits); // :uint\r\n      // if size > 31, handle error\r\n      workingBitsAvailable -= bits;\r\n      if (workingBitsAvailable > 0) {\r\n        workingWord <<= bits;\r\n      } else if (workingBytesAvailable > 0) {\r\n        this.loadWord();\r\n      }\r\n  \r\n      bits = size - bits;\r\n      if (bits > 0) {\r\n        return valu << bits | this.readBits(bits);\r\n      }\r\n      return valu;\r\n    };\r\n  \r\n    // ():uint\r\n    this.skipLeadingZeros = function() {\r\n      var leadingZeroCount; // :uint\r\n      for (leadingZeroCount = 0; leadingZeroCount < workingBitsAvailable; ++leadingZeroCount) {\r\n        if ((workingWord & (0x80000000 >>> leadingZeroCount)) !== 0) {\r\n          // the first bit of working word is 1\r\n          workingWord <<= leadingZeroCount;\r\n          workingBitsAvailable -= leadingZeroCount;\r\n          return leadingZeroCount;\r\n        }\r\n      }\r\n  \r\n      // we exhausted workingWord and still have not found a 1\r\n      this.loadWord();\r\n      return leadingZeroCount + this.skipLeadingZeros();\r\n    };\r\n  \r\n    // ():void\r\n    this.skipUnsignedExpGolomb = function() {\r\n      this.skipBits(1 + this.skipLeadingZeros());\r\n    };\r\n  \r\n    // ():void\r\n    this.skipExpGolomb = function() {\r\n      this.skipBits(1 + this.skipLeadingZeros());\r\n    };\r\n  \r\n    // ():uint\r\n    this.readUnsignedExpGolomb = function() {\r\n      var clz = this.skipLeadingZeros(); // :uint\r\n      return this.readBits(clz + 1) - 1;\r\n    };\r\n  \r\n    // ():int\r\n    this.readExpGolomb = function() {\r\n      var valu = this.readUnsignedExpGolomb(); // :int\r\n      if (0x01 & valu) {\r\n        // the number is odd if the low order bit is set\r\n        return (1 + valu) >>> 1; // add 1 to make it even, and divide by 2\r\n      }\r\n      return -1 * (valu >>> 1); // divide by two then make it negative\r\n    };\r\n  \r\n    // Some convenience functions\r\n    // :Boolean\r\n    this.readBoolean = function() {\r\n      return this.readBits(1) === 1;\r\n    };\r\n  \r\n    // ():int\r\n    this.readUnsignedByte = function() {\r\n      return this.readBits(8);\r\n    };\r\n  \r\n    this.loadWord();\r\n  };\r\n  \r\n  module.exports = ExpGolomb;\r\n  \r\n  },{}],25:[function(require,module,exports){\r\n  /**\r\n   * mux.js\r\n   *\r\n   * Copyright (c) 2014 Brightcove\r\n   * All rights reserved.\r\n   *\r\n   * A lightweight readable stream implemention that handles event dispatching.\r\n   * Objects that inherit from streams should call init in their constructors.\r\n   */\r\n  'use strict';\r\n  \r\n  var Stream = function() {\r\n    this.init = function() {\r\n      var listeners = {};\r\n      /**\r\n       * Add a listener for a specified event type.\r\n       * @param type {string} the event name\r\n       * @param listener {function} the callback to be invoked when an event of\r\n       * the specified type occurs\r\n       */\r\n      this.on = function(type, listener) {\r\n        if (!listeners[type]) {\r\n          listeners[type] = [];\r\n        }\r\n        listeners[type] = listeners[type].concat(listener);\r\n      };\r\n      /**\r\n       * Remove a listener for a specified event type.\r\n       * @param type {string} the event name\r\n       * @param listener {function} a function previously registered for this\r\n       * type of event through `on`\r\n       */\r\n      this.off = function(type, listener) {\r\n        var index;\r\n        if (!listeners[type]) {\r\n          return false;\r\n        }\r\n        index = listeners[type].indexOf(listener);\r\n        listeners[type] = listeners[type].slice();\r\n        listeners[type].splice(index, 1);\r\n        return index > -1;\r\n      };\r\n      /**\r\n       * Trigger an event of the specified type on this stream. Any additional\r\n       * arguments to this function are passed as parameters to event listeners.\r\n       * @param type {string} the event name\r\n       */\r\n      this.trigger = function(type) {\r\n        var callbacks, i, length, args;\r\n        callbacks = listeners[type];\r\n        if (!callbacks) {\r\n          return;\r\n        }\r\n        // Slicing the arguments on every invocation of this method\r\n        // can add a significant amount of overhead. Avoid the\r\n        // intermediate object creation for the common case of a\r\n        // single callback argument\r\n        if (arguments.length === 2) {\r\n          length = callbacks.length;\r\n          for (i = 0; i < length; ++i) {\r\n            callbacks[i].call(this, arguments[1]);\r\n          }\r\n        } else {\r\n          args = [];\r\n          i = arguments.length;\r\n          for (i = 1; i < arguments.length; ++i) {\r\n            args.push(arguments[i]);\r\n          }\r\n          length = callbacks.length;\r\n          for (i = 0; i < length; ++i) {\r\n            callbacks[i].apply(this, args);\r\n          }\r\n        }\r\n      };\r\n      /**\r\n       * Destroys the stream and cleans up.\r\n       */\r\n      this.dispose = function() {\r\n        listeners = {};\r\n      };\r\n    };\r\n  };\r\n  \r\n  /**\r\n   * Forwards all `data` events on this stream to the destination stream. The\r\n   * destination stream should provide a method `push` to receive the data\r\n   * events as they arrive.\r\n   * @param destination {stream} the stream that will receive all `data` events\r\n   * @param autoFlush {boolean} if false, we will not call `flush` on the destination\r\n   *                            when the current stream emits a 'done' event\r\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\r\n   */\r\n  Stream.prototype.pipe = function(destination) {\r\n    this.on('data', function(data) {\r\n      destination.push(data);\r\n    });\r\n  \r\n    this.on('done', function(flushSource) {\r\n      destination.flush(flushSource);\r\n    });\r\n  \r\n    return destination;\r\n  };\r\n  \r\n  // Default stream functions that are expected to be overridden to perform\r\n  // actual work. These are provided by the prototype as a sort of no-op\r\n  // implementation so that we don't have to check for their existence in the\r\n  // `pipe` function above.\r\n  Stream.prototype.push = function(data) {\r\n    this.trigger('data', data);\r\n  };\r\n  \r\n  Stream.prototype.flush = function(flushSource) {\r\n    this.trigger('done', flushSource);\r\n  };\r\n  \r\n  module.exports = Stream;\r\n  \r\n  },{}]},{},[9])(9)\r\n  });\r\n  "],"names":["defined","toString","cof","IObject","toInteger","min","toIObject","toLength","toAbsoluteIndex","global","core","require$$0","uid","require$$1","has","$keys","enumBugKeys","aFunction","isObject","document","require$$2","anObject","toPrimitive","IE8_DOM_DEFINE","dP","createDesc","ctx","hide","$export","fails","toObject","getKeys","IE_PROTO","PROTOTYPE","dPs","create","descriptor","setToStringTag","$iterCreate","getPrototypeOf","redefine","step","wksExt","gOPS","pIE","gOPD","$GOPD","$DP","gOPN","gOPNExt","wks","shared","ObjectProto","$GOPS","DESCRIPTORS","$fails","_create","enumKeys","require$$3","wksDefine","isArray","require$$4","_iterator","_symbol","this","$JSON","f","module","r","e","n","t","o","i","c","require","u","a","Error","code","p","exports","call","length","Stream","AacStream","everything","Uint8Array","timeStamp","prototype","init","setTimestamp","timestamp","parseId3TagSize","header","byteIndex","returnSize","flags","footerPresent","parseAdtsSize","lowThree","middle","highTwo","push","bytes","frameSize","bytesLeft","chunk","packet","tempLength","byteLength","set","subarray","charCodeAt","type","data","trigger","pts","dts","ADTS_SAMPLING_FREQUENCIES","parseSyncSafeInteger","percentEncode","start","end","result","slice","parseIso88591","unescape","parseType","parseSampleRate","parseAacTimestamp","frameStart","frame","frameHeader","String","fromCharCode","owner","d","size","AdtsStream","buffer","frameNum","frameLength","protectionSkipBytes","frameEnd","oldBuffer","sampleCount","adtsFrameDuration","audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize","undefined","flush","ExpGolomb","H264Stream","NalByteStream","PROFILES_WITH_OPTIONAL_SPS_DATA","syncPoint","swapBuffer","nalByteStream","self","trackId","currentPts","currentDts","discardEmulationPreventionBytes","readSequenceParameterSet","skipScalingList","on","event","nalUnitType","escapedRBSP","config","count","expGolombDecoder","lastScale","nextScale","j","deltaScale","readExpGolomb","emulationPreventionBytesPositions","newLength","newData","sourceIndex","shift","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","sarScale","profileIdc","levelIdc","profileCompatibility","chromaFormatIdc","picOrderCntType","numRefFramesInPicOrderCntCycle","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","scalingListCount","sarRatio","aspectRatioIdc","readUnsignedByte","skipUnsignedExpGolomb","readUnsignedExpGolomb","skipBits","readBoolean","skipExpGolomb","readBits","width","Math","ceil","height","adts","h264","FlvTag","extraData","adHoc","bufferStartSize","prepareWrite","flv","minLength","position","view","DataView","widthBytes","heightBytes","videocodecidBytes","keyFrame","VIDEO_TAG","AUDIO_TAG","METADATA_TAG","writeBytes","offset","max","writeByte","byte","writeShort","short","setUint16","negIndex","pos","nalUnitSize","startNalUnit","endNalUnit","nalContainer","nalStart","nalLength","setUint32","writeMetaDataDouble","key","val","setFloat64","writeMetaDataBoolean","setUint8","finalize","dtsDelta","len","frameTime","isAudioFrame","tag","isVideoFrame","isMetaData","isKeyFrame","Transmuxer","m2ts","VideoSegmentStream","AudioSegmentStream","CoalesceStream","collectTimelineInfo","metaDataTag","extraDataTag","track","timelineStartInfo","sps","pps","adtsFrames","oldExtraData","round","currentFrame","adtsFrame","lastMetaPts","tags","Infinity","nalUnits","h264Frame","finishFrame","newMetadata","currentNal","options","numberOfTracks","metadataStream","videoTags","audioTags","videoTrack","audioTrack","pendingCaptions","pendingMetadata","pendingTracks","output","text","frames","id3","caption","timelineStartPts","captions","metadata","startTime","startPts","endTime","endPts","cueTime","dispatchType","packetStream","parseStream","elementaryStream","videoTimestampRolloverStream","audioTimestampRolloverStream","timedMetadataTimestampRolloverStream","adtsStream","h264Stream","videoSegmentStream","audioSegmentStream","captionStream","coalesceStream","MetadataStream","TransportPacketStream","TransportParseStream","ElementaryStream","TimestampRolloverStream","pipe","CaptionStream","tracks","getFlvHeader","duration","audio","video","headBytes","head","metadataLength","muxjs","codecs","mp4","mp2t","tools","window","USER_DATA_REGISTERED_ITU_T_T35","RBSP_TRAILING_BITS","parseSei","payloadType","payloadSize","payload","parseUserData","sei","parseCaptionPackets","userData","results","ccData","captionPackets_","field1_","Cea608Stream","bind","concat","forEach","elem","idx","presortIndex","sort","b","BASIC_CHARACTER_TRANSLATION","getCharFromCode","PADDING","RESUME_CAPTION_LOADING","END_OF_CAPTION","ROLL_UP_2_ROWS","ROLL_UP_3_ROWS","ROLL_UP_4_ROWS","CARRIAGE_RETURN","BACKSPACE","ERASE_DISPLAYED_MEMORY","ERASE_NON_DISPLAYED_MEMORY","BOTTOM_ROW","createDisplayBuffer","mode_","topRow_","startPts_","displayed_","nonDisplayed_","lastControlCode_","swap","char0","char1","flushDisplayed","shiftRowsUp_","content","map","row","trim","filter","join","popOn","baseRow","rollUp","StreamTypes","m2tsStreamTypes","MP2T_PACKET_LENGTH","SYNC_BYTE","bytesInBuffer","startIndex","endIndex","parsePsi","parsePat","parsePmt","packetsWaitingForPmt","programMapTable","psi","payloadUnitStartIndicator","pat","section_number","last_section_number","pmtPid","pmt","sectionLength","tableEnd","programInfoLength","processPes_","apply","pid","streamType","STREAM_TYPES","timedMetadata","parsePes","pes","ptsDtsFlags","dataAlignmentIndicator","flushStream","stream","packetData","fragment","H264_STREAM_TYPE","ADTS_STREAM_TYPE","METADATA_STREAM_TYPE","k","hasOwnProperty","baseMediaDecodeTime","id","codec","PAT_PID","parseUtf8","decodeURIComponent","tagParsers","TXXX","description","value","WXXX","url","PRIV","privateData","settings","debug","tagSize","bufferSize","console","log","parsePid","parsePayloadUnitStartIndicator","parseAdaptionField","pusi","payloadOffset","parsePesType","parsePesTime","parseNalUnitType","videoPacketContainsKeyFrame","frameBuffer","frameI","frameSyncPoint","foundKeyFrame","nalType","MAX_TS","RO_THRESH","handleRollover","reference","direction","abs","lastDTS","referenceDTS","type_","generator","UINT32_MAX","pow","box","dinf","esds","ftyp","mdat","mfhd","minf","moof","moov","mvex","mvhd","trak","tkhd","mdia","mdhd","hdlr","sdtp","stbl","stsd","traf","trex","trun","types","MAJOR_BRAND","MINOR_VERSION","AVC1_BRAND","VIDEO_HDLR","AUDIO_HDLR","HDLR_TYPES","VMHD","SMHD","DREF","STCO","STSC","STSZ","STTS","avc1","avcC","btrt","dref","mp4a","smhd","stco","stsc","stsz","stts","styp","tfdt","tfhd","vmhd","arguments","byteOffset","sequenceNumber","trackFragments","boxes","samples","dependsOn","isDependedOn","hasRedundancy","videoSample","audioSample","sequenceParameterSets","pictureParameterSets","Array","trackFragmentHeader","trackFragmentDecodeTime","trackFragmentRun","sampleDependencyTable","dataOffset","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","floor","audioTrun","videoTrun","trunHeader","durationPresent","sizePresent","flagsPresent","compositionTimeOffset","sample","isLeading","paddingValue","isNonSyncSample","degradationPriority","initSegment","fileType","movie","findBox","timescale","path","subresults","traks","reduce","version","index","trafs","baseTimes","scale","baseTime","isFinite","AUDIO_PROPERTIES","VIDEO_PROPERTIES","createDefaultSample","isLikelyAacData","collectDtsInfo","clearDtsInfo","calculateTrackBaseMediaDecodeTime","arrayEquals","sumFrameByteLengths","array","currentObj","sum","earliestAllowedDts","prop","setEarliestDts","earliestDts","trimAdtsFramesByEarliestDts_","generateSampleTable_","concatenateFrameData_","minSegmentDts","minSegmentPts","minPTS","gopCache_","nalUnit","gopForFusion","gops","resetStream_","groupNalsIntoFrames_","groupFramesIntoGops_","getGopForFusion_","unshift","nalCount","extendFirstKeyFrame_","concatenateNalData_","gop","pop","halfSecond","allowableOverlap","nearestDistance","dtsDistance","nearestGopObj","currentGop","currentGopObj","baseDataOffset","h","nalsByteLength","numberOfNals","totalByteLength","maxSegmentPts","maxSegmentDts","oneSecondInPTS","timeSinceStartOfTimeline","firstSampleCompositionOffset","remux","remuxTracks","pendingBoxes","pendingBytes","emittedTracks","flushSource","info","hasFlushed","transmuxPipeline_","setupAacPipeline","pipeline","aacStream","headOfPipeline","setupTsPipeline","setBaseMediaDecodeTime","isAac","tagTypes","hex","toUpperCase","hexStringList","arr","parseAVCTag","obj","avcPacketTypes","compositionTime","parseInt","avcPacketType","CompositionTime","nalUnitTypeRaw","parseVideoTag","frameTypes","codecID","frameType","parseAACTag","packetTypes","aacPacketType","parseAudioTag","formatTable","samplingRateTable","soundFormat","soundRate","soundSize","soundType","parseGenericTag","tagType","dataSize","streamID","inspectFlvTag","inspectFlv","parsedResults","textifyFlv","flvTagArray","inspectTag","inspect","textify","inspectMp4","textifyMp4","parseMp4Date","seconds","Date","parseSampleFlags","nalParse","avcStream","avcView","getUint32","parse","dataReferenceIndex","getUint16","horizresolution","vertresolution","frameCount","depth","configurationVersion","avcProfileIndication","avcLevelIndication","lengthSizeMinusOne","numOfSequenceParameterSets","numOfPictureParameterSets","nalSize","bufferSizeDB","maxBitrate","avgBitrate","esId","streamPriority","decoderConfig","objectProfileIndication","decoderConfigDescriptor","audioObjectType","samplingFrequencyIndex","channelConfiguration","majorBrand","minorVersion","compatibleBrands","dataReferences","getUint8","handlerType","name","escape","nals","language","creationTime","modificationTime","streamDescriptor","rate","volume","matrix","Uint32Array","nextTrackId","pdin","initialDelay","sidx","references","referenceId","earliestPresentationTime","firstOffset","referenceCount","referenceType","referencedSize","subsegmentDuration","startsWithSap","sapType","sapDeltaTime","balance","chunkOffsets","entryCount","sampleToChunks","firstChunk","samplesPerChunk","sampleDescriptionIndex","sampleDescriptions","sampleSize","entries","timeToSamples","sampleDelta","baseDataOffsetPresent","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","layer","alternateGroup","defaultSampleDescriptionIndex","sampleDependsOn","sampleIsDependedOn","sampleHasRedundancy","samplePaddingValue","sampleIsDifferenceSample","sampleDegradationPriority","dataOffsetPresent","firstSampleFlagsPresent","sampleDurationPresent","sampleSizePresent","sampleFlagsPresent","sampleCompositionTimeOffsetPresent","graphicsmode","opcolor","Uint16Array","ab","ArrayBuffer","v","z","inspectedMp4","indent","prefix","match","line","split","probe","ts","aac","PES_TIMESCALE","parsePsi_","table","parseAudioPes_","pesType","parsed","endLoop","parseVideoPes_","firstKeyFrame","adjustTimestamp_","segmentInfo","baseTimestamp","audioBaseTimestamp","dtsTime","ptsTime","videoBaseTimestamp","inspectAac_","audioCount","sampleRate","audioTimescale","inspectTs_","isAacData","workingData","workingBytesAvailable","workingWord","workingBitsAvailable","bitsAvailable","loadWord","workingBytes","availableBytes","skipBytes","bits","valu","skipLeadingZeros","leadingZeroCount","clz","listeners","listener","off","indexOf","splice","callbacks","args","dispose","destination"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}