!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(t){function a(t,e){var n,s;return 0<t.length&&(n=t[e],(s=document.createElement("link")).href=n,s.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(s),s.onload=function(){t.length-1!=e&&a.call(this,t,++e)}),!1}a(t,0)}function e(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n](window.event)},t.attachEvent("on"+e,t[e+n]))}function n(t){return!!t&&"object"==typeof t}function a(t){return n(t)&&"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}var l=function(t){return n(t)?Object.keys(t):[]};function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var s={};return t.forEach(function(t){var e,n;t&&(n=function(t,e){a(t)?(a(s[e])||(s[e]={}),s[e]=h(s[e],t)):s[e]=t},l(e=t).forEach(function(t){return n(e[t],t)}))}),s}var s={index:{error:"已经存在改方法名称"},httprequest:{timeOut:"请求超时",noAuthority:"没有权限",parameterError:"参数有误"},dom:{throwWhitespace:"类具有非法空格字符",notElement:"不是元素"},select:{prompt:"请选择"},proportion:{noImg:"imageUrl参数不正确",noParentEle:"容器元素不正确"}};function i(t,e){return t&&(function(t){if(/\s/.test(t))throw new Error(""+s.dom.throwWhitespace)}(e),t.classList?t.classList.contains(e):new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className))}function o(t,e){var n,s=e;if(0<=e.indexOf("[")&&0<e.indexOf("]")){var a=(n=function(t){"["===t.charAt(0)&&t.indexOf("]")===t.length-1&&(t=t.slice(1,-1));var e=t.split("=");if(2!==e.length)return e.push(null),e;"'"!==e[1].charAt(0)&&'"'!==e[1].charAt(0)||(e[1]=e[1].slice(1,-1));return e}(e.slice(e.indexOf("["))),!(!t.getAttribute(n[0])||null!==n[1])||!(!n[1]||!t.getAttribute(n[0])||t.getAttribute(n[0])!==n[1]));if(!a)return;if(0==e.indexOf("[")&&e.indexOf("]")===e.length-1&&a)return 1;s=e.slice(0,e.indexOf("["))}if("#"===s.charAt(0)&&t.id===s.slice(1))return 1;if("."===s.charAt(0)&&i(t,s.slice(1)))return 1;if(t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase())return 1}function r(){this.times=1,this.iconfontSrc="https://js.wbp5.com/iconfont/build/layer/iconfont.css",this.iconList={11:"&#xA001;",12:"&#xA002;",21:"&#xA003;",22:"&#xA004;",31:"&#xA006;",32:"&#xA007;",41:"&#xA008;",42:"&#xA009;",1110:"&#xA005;"},this.iconColorList={11:"#21d37d",12:"#21d37d",21:"#d5375a",22:"#d5375a",31:"#26d1e0",32:"#26d1e0",41:"#e8a02e",42:"#e8a02e",1110:"rgba(0, 0, 0, 0.75)"},this.msgObj={className:"stl-layer-msg stl-layer-shadow stl-layer-centered",iconClassName:"stl-layer-msg-icon",paddingClassName:"stl-layer-msg-padding",iconPaddingClassName:"stl-layer-icon-msg-padding",time:3e3},this.hasTitleAlertObj={iconClassName:"stl-layer-title-alert-icon",btnClassName:"stl-layer-alert-btn stl-layer-alert-hastitle-btn",titleClassName:"stl-layer-alert-title",textClassName:"stl-layer-alert-hastitle-text"},this.noTitleAlertObj={btnClassName:"stl-layer-alert-btn stl-layer-alert-notitle-btn",iconClassName:"stl-layer-alert-icon",textClassName:"stl-layer-alert-text"},this.alertObj={time:3e3,closeClassName:"stl-layer-alert-close",className:"stl-layer-alert stl-layer-centered",paddingClassName:"stl-layer-alert-padding",iconPaddingClassName:"stl-layer-icon-alert-padding",contentClassName:"stl-layer-content  stl-layer-border stl-layer-alert"},this.openObj={className:"stl-layer-shadow stl-layer-centered stl-layer-open",classNameTwo:"stl-layer-open-two",contentPadding:"stl-layer-open-padding stl-layer-open-content",iconContentPadding:"stl-layer-icon-open-padding stl-layer-open-content",iconClassName:"stl-layer-open-icon",titleClassName:"stl-layer-open-title",iconTitleClassName:"stl-layer-open-icon-title",textClassName:"stl-layer-open-text",iconTextClassName:"stl-layer-open-icon-text",closeClassName:"stl-layer-open-close",btnClassName:"stl-layer-open-btn",btnBoxClassName:"stl-layer-open-btn-box",determineClassName:"stl-layer-open-btn-determine",cancelClassName:"stl-layer-open-btn-cancel",textNoBtnClassName:"stl-layer-open-text-nobtn",parameter:{type:1,autoClose:!1,hasClose:!0,determineBtn:!1,determineText:"确定",cancelBtn:!1,cancelText:"取消",bg:!0}},this.modalObj={className:"stl-layer-shadow stl-layer-centered stl-layer-modal",headClassName:"stl-layer-modal-head",titleClassName:"stl-layer-modal-title",contentClassName:"stl-layer-modal-content",textClassName:"stl-layer-modal-text",footClassName:"stl-layer-modal-foot",btnClassName:"stl-layer-modal-btn",determineClassName:"stl-layer-open-btn-determine",cancelClassName:"stl-layer-open-btn-cancel",closeClassName:"stl-layer-modal-close",parameter:{hasClose:!0,determineBtn:!0,determineText:"确定",cancelBtn:!0,cancelText:"取消",bg:!0}},this.bgDom=null,t([this.iconfontSrc])}var c=new(r.prototype.getBgDom=function(){var t=document.createElement("div");return t.className="stl-layer-shade",t.id="stl-layer-shade"+this.times,t.setAttribute("times",""+this.times),t},r.prototype.getDomStr=function(t,e){var n=document.createElement("div");return n.className="stl-layer stl-layer"+this.times+" "+e,n.id="stl-layer"+this.times,n.innerHTML=t,n},r.prototype.getIconStr=function(t,e,n){var s=n&&""!==n?n:this.iconColorList[e];return e&&this.iconList[e]?'<i class="'+t+' iconfont" style="color:'+s+'">'+this.iconList[e]+"</i>":""},r.prototype.getCloseStr=function(t){return'<i class="iconfont '+t+'">&#xA005;</i>'},r.prototype.msgStr=function(t,e,n){var s="",a=this.msgObj.paddingClassName;return e&&(s=this.getIconStr(this.msgObj.iconClassName,e,n),a=this.msgObj.iconPaddingClassName),'<div id="" class="stl-layer-content '+a+'">'+s+t+"</div>"},r.prototype.msg=function(t,e,n){var s="function"==typeof e,a=this.msgObj.time,l=0,i="";e&&!s&&(a=e.time?e.time:a,l=e.icon?e.icon:l,i=e.iconColor?e.iconColor:"");var o=this.msgStr(t,l,i),r=this.getDomStr(o,this.msgObj.className);this.appendDom(r),this.times++,this.autoClose(r,a,n)},r.prototype.hasTitleAlertStr=function(t){var e,n="",s="",a="",l=this.alertObj.paddingClassName,i=t.iconColor?t.iconColor:"";t.icon&&(n=this.getIconStr(this.hasTitleAlertObj.iconClassName,t.icon,i),s="stl-layer-skin"+t.icon,l=this.alertObj.iconPaddingClassName),t.btnStr&&(a='<div class="'+this.hasTitleAlertObj.btnClassName+'">'+t.btnStr+"</div>"),e=t.autoClose?"":this.getCloseStr(this.alertObj.closeClassName);var o='<p class="'+this.hasTitleAlertObj.titleClassName+'">'+t.title+"</p>",r='<p class="'+this.hasTitleAlertObj.textClassName+'">'+t.content+"</p>";return'<div id="" class="'+this.alertObj.contentClassName+" "+l+" "+s+'">\n                '+n+o+r+a+e+"</div>"},r.prototype.noTitleAlertStr=function(t){var e="",n="",s="",a="",l=this.msgObj.paddingClassName,i=t.iconColor?t.iconColor:"";t.icon&&(e=this.getIconStr(this.noTitleAlertObj.iconClassName,t.icon,i),n="stl-layer-skin"+t.icon,l=this.msgObj.iconPaddingClassName),t.btnStr?s='<div class="'+this.noTitleAlertObj.btnClassName+'">'+t.btnStr+"</div>":a=t.autoClose?"":this.getCloseStr(this.alertObj.closeClassName);var o='<p class="'+this.noTitleAlertObj.textClassName+'">'+t.content+"</p>";return'<div id="" class="'+this.alertObj.contentClassName+" "+l+" "+n+'">\n                '+e+o+s+a+"</div>"},r.prototype.addAlertBtnEvent=function(l,t,i){var o=this,r=t?o.hasTitleAlertObj.btnClassName:o.noTitleAlertObj.btnClassName;o.alertBtnCallback=function(t){var e,n,s,a=t||window.event;e=l.getElementsByClassName(r)[0],n="click",s=o.alertBtnCallback,e.detachEvent?(e.detachEvent("on"+n,e[n+s]),e[n+s]=null):e.removeEventListener(n,s,!1);try{i&&i.call(o,a)}catch(t){}document.body.removeChild(l),o.alertBtnCallback=null},e(l.getElementsByClassName(r)[0],"click",o.alertBtnCallback)},r.prototype.alert=function(t){var e="",n="",s=!1;t.title?(e=this.hasTitleAlertStr(t),n=this.alertObj.className,s=!0):e=this.noTitleAlertStr(t);var a,l=this.getDomStr(e,n),i=t.endCallback?t.endCallback:null;this.appendDom(l);try{t.showCallback&&t.showCallback.call(this)}catch(t){}if(this.times++,t.btnStr&&t.btnCallback&&this.addAlertBtnEvent(l,s,t.btnCallback),t.autoClose)return this.autoClose(l,this.alertObj.time,i);t.btnStr&&!t.title||(a=l.getElementsByClassName(this.alertObj.closeClassName)[0],this.addCloseEventFn(a,i))},r.prototype.getOpenStr=function(t,e){var n=this.openObj.contentPadding,s=this.openObj.titleClassName,a=this.openObj.textClassName,l="";""!==e&&(n=this.openObj.iconContentPadding,s=this.openObj.iconTitleClassName,a=this.openObj.iconTextClassName);var i,o,r=this.openObj.textNoBtnClassName;return(t.determineBtn||t.cancelBtn)&&(r="",i=t.determineBtn?'<span class="'+this.openObj.btnBoxClassName+" "+this.openObj.determineClassName+'">'+t.determineText+"</span>":"",o=t.cancelBtn?'<span class="'+this.openObj.btnBoxClassName+" "+this.openObj.cancelClassName+'">'+t.cancelText+"</span>":"",l='<div class="'+this.openObj.btnClassName+'">'+o+i+"</div>"),'<div id="" class="'+n+'"><p class="'+s+'">'+t.title+'</p><p class="'+a+" "+r+'">'+t.content+"</p>"+l+"</div>"},r.prototype.open=function(t){var e,n,s,a=h({},this.openObj.parameter,t),l=a.end?a.end:null,i=a.iconColor?a.iconColor:"",o=a.icon?this.getIconStr(this.openObj.iconClassName,a.icon,i):"",r=a.hasClose?this.getCloseStr(this.openObj.closeClassName):"",c=this.getOpenStr(a,o),m=2===a.type?this.openObj.classNameTwo:"",d=this.getDomStr(c+o+r,this.openObj.className+" "+m);a.bg&&(this.bgDom=this.getBgDom(),this.appendDom(this.bgDom),this.addBgEvent(this.bgDom,l)),this.appendDom(d),this.times++;try{a.showCallback&&a.showCallback.call(this)}catch(t){}""!==r&&(e=d.getElementsByClassName(this.openObj.closeClassName)[0],this.addCloseEventFn(e,l)),a.determineBtn&&(n=d.getElementsByClassName(this.openObj.determineClassName)[0],this.addOpenBtnFn(n,a.determineFn,l)),a.cancelBtn&&(s=d.getElementsByClassName(this.openObj.cancelClassName)[0],this.addOpenBtnFn(s,a.cancelFn,l))},r.prototype.getModalFn=function(t){var e=t.hasClose?this.getCloseStr(this.modalObj.closeClassName):"",n='<div class="'+this.modalObj.headClassName+'">\n                <p class="'+this.modalObj.titleClassName+'">'+t.title+"</p>"+e+"\n            </div>",s='<div class="'+this.modalObj.contentClassName+'">\n                <p class="'+this.modalObj.textClassName+'">'+t.content+"</p>\n            </div>",a=t.determineBtn?'<span class="'+this.modalObj.btnClassName+" "+this.modalObj.determineClassName+'">'+t.determineText+"</span>":"",l=t.cancelBtn?'<span class="'+this.modalObj.btnClassName+" "+this.modalObj.cancelClassName+'">'+t.cancelText+"</span>":"";return n+s+'<div class="'+this.modalObj.footClassName+'">'+l+a+"</div>"},r.prototype.modal=function(t){var e,n,s,a=h({},this.modalObj.parameter,t),l=a.end?a.end:null,i=this.getModalFn(a),o=this.getDomStr(i,this.modalObj.className);a.bg&&(this.bgDom=this.getBgDom(),this.appendDom(this.bgDom),this.addBgEvent(this.bgDom,l)),this.appendDom(o),this.times++;try{a.showCallback&&a.showCallback.call(this)}catch(t){}a.hasClose&&(e=o.getElementsByClassName(this.modalObj.closeClassName)[0],this.addCloseEventFn(e,l)),a.determineBtn&&(n=o.getElementsByClassName(this.openObj.determineClassName)[0],this.addOpenBtnFn(n,a.determineFn,l)),a.cancelBtn&&(s=o.getElementsByClassName(this.openObj.cancelClassName)[0],this.addOpenBtnFn(s,a.cancelFn,l))},r.prototype.addBgEvent=function(n,s){var a=this;e(n,"click",function(){var t=n.getAttribute("times"),e=document.getElementsByClassName("stl-layer"+t)[0];document.body.removeChild(n),document.body.removeChild(e),a.bgDom=null;try{s&&s()}catch(t){}})},r.prototype.addOpenBtnFn=function(t,n,s){var a=this;e(t,"click",function(t){var e=t||window.event;n&&n.call(a,e.target),a.closeFn.call(a,e.target);try{s&&s.call(a)}catch(t){}})},r.prototype.addCloseEventFn=function(t,n){var s=this;e(t,"click",function(t){var e=t||window.event;s.closeFn.call(s,e.target);try{n&&n.call(s)}catch(t){}})},r.prototype.closeFn=function(t){document.body.removeChild(function(t,e){if(!e||e.length<=0)return null;var n=t.parentElement;do{if(o(n,e))return n;if("HTML"===n.nodeName)return null;n=n.parentElement}while(n);return null}(t,".stl-layer")),this.bgDom&&(document.body.removeChild(this.bgDom),this.bgDom=null)},r.prototype.appendDom=function(t){document.body.appendChild(t)},r.prototype.autoClose=function(t,e,n){var s=this;setTimeout(function(){document.body.removeChild(t),s.bgDom&&(document.body.removeChild(s.bgDom),s.bgDom=null);try{n&&n()}catch(t){}},e)},r),m=document.getElementById("btn"),d=document.getElementById("btn1"),p=document.getElementById("btn2"),b=document.getElementById("btn3");e(m,"click",function(){c.msg("不开心。。。",{icon:11,time:3e3})}),e(d,"click",function(){c.alert({content:"这是一个自定义alert",title:"这是一个标题",autoClose:!0,btnStr:"<p data-link='https://www.baidu.com' style='padding:0;margin:0'>查看详情</p>",btnCallback:function(t){}})}),e(p,"click",function(){c.open({title:"这是一个标题",content:"这是一段内容这是一段内容这是一段内容这是一段内容这是一段内容这是一段内容这是一段内容",icon:11,iconColor:"#00ff00",determineBtn:!0,type:2,cancelBtn:!0,determineFn:function(){},cancelFn:function(){}})}),e(b,"click",function(){c.modal({title:"这是一个标题",content:"这是一段内容这是一段内容这是一段内容这是一段内容这是一段内容这是一段内容这是一段内容",determineFn:function(){},cancelFn:function(){}})})});
